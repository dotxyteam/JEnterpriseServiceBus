<com.otk.jesb.PluginBuilder>
  <packageName>com.otk.jesb.activation.builtin</packageName>
  <resources/>
  <operations/>
  <activators>
    <com.otk.jesb.PluginBuilder_-ActivatorDescriptor>
      <activatorIconImageData>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</activatorIconImageData>
      <activatorTypeCaption>Read Command Line</activatorTypeCaption>
      <activatorTypeName>ReadCommandLine</activatorTypeName>
      <additionalFieldDeclarationsSourceCode>private BufferedReader standardInput;
private Thread thread;
		</additionalFieldDeclarationsSourceCode>
      <additionalMethodDeclarationsSourceCode class="null"/>
      <additionalValidationStatements class="null"/>
      <attributes>
        <com.otk.jesb.PluginBuilder_-AttributeDescriptor>
          <caption>Prompt</caption>
          <name>prompt</name>
          <nature class="com.otk.jesb.PluginBuilder$SimpleAttributeNature">
            <controlPluginConfiguration class="null"/>
            <controlPluginIdentifier class="null"/>
            <defaultValueExpression>&quot;jesb&gt; &quot;</defaultValueExpression>
            <nullable>true</nullable>
            <typeNameOrAlias>java.lang.String</typeNameOrAlias>
            <variant>true</variant>
          </nature>
        </com.otk.jesb.PluginBuilder_-AttributeDescriptor>
      </attributes>
      <handlerFinalizationStatements>while(thread.isAlive()){
    thread.interrupt();
    MiscUtils.relieveCPU();
}
thread = null;
standardInput.close();
standardInput = null;
</handlerFinalizationStatements>
      <handlerInitializationStatements>standardInput = new BufferedReader(
    new InputStreamReader(Log.STANDARD_INPUT_SOURCE.newInputStream())
);
thread = new Thread(&quot;CommandLineReader-&quot; + hashCode()){
    {
        setDaemon(true);   
    }
    @Override
    public void run(){
        String prompt = promptVariant.getValue();
        try {			
			while (true){
                if(isInterrupted()){
                    break;   
                }
                if(prompt != null){
                    Log.get().getInformationStream().println(prompt);
                }
                String line = standardInput.readLine();
                if(line == null){
                    break;   
                }
				InputClassStructure input = new InputClassStructure(line);
                OutputClassStructure ouput = (OutputClassStructure)activationHandler.trigger(input);
                if(ouput.result != null){
                    Log.get().getInformationStream().println(ouput.result);    
                }
            }
		} catch (InterruptedIOException e) {
			return;
		} catch (IOException e) {
			throw new UnexpectedError(e);
		}
    }
};
thread.start();</handlerInitializationStatements>
      <importedClassNames>
        <string>java.io.BufferedReader</string>
        <string>java.io.InputStreamReader</string>
        <string>java.io.IOException</string>
        <string>java.io.InterruptedIOException</string>
        <string>com.otk.jesb.util.DuplicatedInputStreamSource</string>
        <string>com.otk.jesb.util.MiscUtils</string>
        <string>com.otk.jesb.UnexpectedError</string>
        <string>com.otk.jesb.Log</string>
      </importedClassNames>
      <inputClassOption>
        <concreteStructureAlternatives class="null"/>
        <structure class="com.otk.jesb.Structure$ClassicStructure">
          <elements>
            <com.otk.jesb.Structure_-SimpleElement>
              <multiple>false</multiple>
              <name>inputLine</name>
              <optionality class="null"/>
              <typeNameOrAlias>java.lang.String</typeNameOrAlias>
            </com.otk.jesb.Structure_-SimpleElement>
          </elements>
        </structure>
      </inputClassOption>
      <outputClassOption>
        <concreteStructureAlternatives class="null"/>
        <structure class="com.otk.jesb.Structure$ClassicStructure">
          <elements>
            <com.otk.jesb.Structure_-SimpleElement>
              <multiple>false</multiple>
              <name>result</name>
              <optionality>
                <defaultValueExpression class="null"/>
              </optionality>
              <typeNameOrAlias>java.lang.String</typeNameOrAlias>
            </com.otk.jesb.Structure_-SimpleElement>
          </elements>
        </structure>
      </outputClassOption>
    </com.otk.jesb.PluginBuilder_-ActivatorDescriptor>
  </activators>
</com.otk.jesb.PluginBuilder>