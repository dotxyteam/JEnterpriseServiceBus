<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>InfoCustomizations.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">j-enterprise-service-bus (java8) (Dec 1, 2025 10:13:41 AM)</a> &gt; <a href="../../index.html" class="el_group">reflection-ui</a> &gt; <a href="../index.html" class="el_bundle">src/main/java</a> &gt; <a href="index.source.html" class="el_package">xy.reflect.ui.info.custom</a> &gt; <span class="el_source">InfoCustomizations.java</span></div><h1>InfoCustomizations.java</h1><pre class="source lang-java linenums">
package xy.reflect.ui.info.custom;

import java.awt.Image;
import java.awt.event.KeyEvent;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.ObjectInputStream;
import java.io.OutputStream;
import java.io.Serializable;
import java.lang.reflect.Constructor;
import java.lang.reflect.Executable;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;
import java.lang.reflect.Modifier;
import java.lang.reflect.Parameter;
import java.rmi.server.UID;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.SortedSet;
import java.util.TreeSet;
import java.util.function.Predicate;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import javax.xml.bind.DatatypeConverter;
import javax.xml.bind.JAXBContext;
import javax.xml.bind.Marshaller;
import javax.xml.bind.Unmarshaller;
import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlElements;
import javax.xml.bind.annotation.XmlRootElement;
import javax.xml.bind.annotation.XmlTransient;
import javax.xml.stream.XMLInputFactory;
import javax.xml.stream.XMLStreamReader;
import javax.xml.stream.util.StreamReaderDelegate;
import javax.xml.transform.stream.StreamSource;

import xy.reflect.ui.ReflectionUI;
import xy.reflect.ui.info.ColorSpecification;
import xy.reflect.ui.info.IInfo;
import xy.reflect.ui.info.InfoCategory;
import xy.reflect.ui.info.ResourcePath;
import xy.reflect.ui.info.ValueReturnMode;
import xy.reflect.ui.info.field.MembersCapsuleFieldInfo;
import xy.reflect.ui.info.field.IFieldInfo;
import xy.reflect.ui.info.field.MethodReturnValueAsFieldInfo;
import xy.reflect.ui.info.field.ParameterAsFieldInfo;
import xy.reflect.ui.info.filter.IInfoFilter;
import xy.reflect.ui.info.menu.IMenuItemContainerInfo;
import xy.reflect.ui.info.menu.StandardActionMenuItemInfo.FileBrowserConfiguration;
import xy.reflect.ui.info.method.DefaultConstructorInfo;
import xy.reflect.ui.info.method.DefaultMethodInfo;
import xy.reflect.ui.info.method.IMethodInfo;
import xy.reflect.ui.info.method.PresetInvocationDataMethodInfo;
import xy.reflect.ui.info.parameter.IParameterInfo;
import xy.reflect.ui.info.type.ITypeInfo;
import xy.reflect.ui.info.type.iterable.IListTypeInfo.ItemCreationMode;
import xy.reflect.ui.info.type.iterable.IListTypeInfo.ToolsLocation;
import xy.reflect.ui.info.type.iterable.item.DetachedItemDetailsAccessMode;
import xy.reflect.ui.info.type.iterable.item.EmbeddedItemDetailsAccessMode;
import xy.reflect.ui.info.type.iterable.item.IListItemDetailsAccessMode;
import xy.reflect.ui.info.type.iterable.util.IDynamicListFeauture.DisplayMode;
import xy.reflect.ui.info.type.source.JavaTypeInfoSource;
import xy.reflect.ui.info.type.source.SpecificitiesIdentifier;
import xy.reflect.ui.util.ClassUtils;
import xy.reflect.ui.util.Filter;
import xy.reflect.ui.util.IOUtils;
import xy.reflect.ui.util.KeyboardKey;
import xy.reflect.ui.util.KeyboardShortcut;
import xy.reflect.ui.util.Listener;
import xy.reflect.ui.util.MiscUtils;
import xy.reflect.ui.util.ReflectionUIError;
import xy.reflect.ui.util.ReflectionUIUtils;
import xy.reflect.ui.util.SystemProperties;
import xy.reflect.ui.util.Wildcard;

/**
 * This class allows to specify declarative customizations of abstract UI model
 * elements. Online help is available from the CustomUI sub-project.
 * 
 * @author olitank
 *
 */
@XmlRootElement
public class InfoCustomizations implements Serializable {
	private static final long serialVersionUID = 1L;

	public static final String UID_FIELD_NAME = &quot;uniqueIdentifier&quot;;
<span class="fc" id="L101">	public static final Object INITIAL_STATE_FIELD_NAME = &quot;initial&quot;;</span>

<span class="fc" id="L103">	public static InfoCustomizations defaultInstance;</span>

<span class="fc" id="L105">	protected ApplicationCustomization applicationCustomization = new ApplicationCustomization();</span>
<span class="fc" id="L106">	protected List&lt;TypeCustomization&gt; typeCustomizations = new ArrayList&lt;InfoCustomizations.TypeCustomization&gt;();</span>
<span class="fc" id="L107">	protected List&lt;ListCustomization&gt; listCustomizations = new ArrayList&lt;InfoCustomizations.ListCustomization&gt;();</span>
<span class="fc" id="L108">	protected List&lt;EnumerationCustomization&gt; enumerationCustomizations = new ArrayList&lt;InfoCustomizations.EnumerationCustomization&gt;();</span>
	protected String typeCustomizationsFilterPattern;
	protected String listCustomizationsFilterPattern;
	protected String enumerationCustomizationsFilterPattern;

<span class="fc" id="L113">	protected transient Migrator migrator = new Migrator();</span>

	/**
	 * @return the default instance of this class. Note that it may try to load the
	 *         default customization file according these system properties:
	 *         {@link SystemProperties#DEFAULT_INFO_CUSTOMIZATIONS_ACTIVE} and
	 *         {@link SystemProperties#DEFAULT_INFO_CUSTOMIZATIONS_FILE_PATH}
	 */
	public static InfoCustomizations getDefault() {
<span class="nc bnc" id="L122" title="All 2 branches missed.">		if (defaultInstance == null) {</span>
<span class="nc" id="L123">			defaultInstance = new InfoCustomizations() {</span>

				private static final long serialVersionUID = 1L;

				@Override
				public String toString() {
<span class="nc" id="L129">					return &quot;InfoCustomizations.DEFAULT&quot;;</span>
				}
			};
<span class="nc bnc" id="L132" title="All 2 branches missed.">			if (SystemProperties.areDefaultInfoCustomizationsActive()) {</span>
<span class="nc" id="L133">				String filePath = SystemProperties.getDefaultInfoCustomizationsFilePath();</span>
<span class="nc" id="L134">				File file = new File(filePath);</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">				if (file.exists()) {</span>
					try {
<span class="nc" id="L137">						defaultInstance.loadFromFile(file, null);</span>
<span class="nc" id="L138">					} catch (Throwable t) {</span>
<span class="nc" id="L139">						throw new ReflectionUIError(t);</span>
					}
				}
			}
		}
<span class="nc" id="L144">		return defaultInstance;</span>
	}

	/**
	 * The default constructor. Builds an empty instance.
	 */
<span class="fc" id="L150">	public InfoCustomizations() {</span>
<span class="fc" id="L151">	}</span>

	public ApplicationCustomization getApplicationCustomization() {
<span class="fc" id="L154">		return applicationCustomization;</span>
	}

	public void setApplicationCustomization(ApplicationCustomization applicationCustomization) {
<span class="fc" id="L158">		this.applicationCustomization = applicationCustomization;</span>
<span class="fc" id="L159">	}</span>

	@XmlElement(name = &quot;typeCustomization&quot;)
	public List&lt;TypeCustomization&gt; getTypeCustomizations() {
<span class="fc" id="L163">		return typeCustomizations;</span>
	}

	public void setTypeCustomizations(List&lt;TypeCustomization&gt; typeCustomizations) {
<span class="nc" id="L167">		this.typeCustomizations = typeCustomizations;</span>
<span class="nc" id="L168">	}</span>

	@XmlElement(name = &quot;listCustomization&quot;)
	public List&lt;ListCustomization&gt; getListCustomizations() {
<span class="fc" id="L172">		return listCustomizations;</span>
	}

	public void setListCustomizations(List&lt;ListCustomization&gt; listCustomizations) {
<span class="nc" id="L176">		this.listCustomizations = listCustomizations;</span>
<span class="nc" id="L177">	}</span>

	@XmlElement(name = &quot;enumerationCustomization&quot;)
	public List&lt;EnumerationCustomization&gt; getEnumerationCustomizations() {
<span class="fc" id="L181">		return enumerationCustomizations;</span>
	}

	public void setEnumerationCustomizations(List&lt;EnumerationCustomization&gt; enumerationCustomizations) {
<span class="nc" id="L185">		this.enumerationCustomizations = enumerationCustomizations;</span>
<span class="nc" id="L186">	}</span>

	@XmlTransient
	public String getTypeCustomizationsFilterPattern() {
<span class="nc" id="L190">		return typeCustomizationsFilterPattern;</span>
	}

	public void setTypeCustomizationsFilterPattern(String typeCustomizationsFilterPattern) {
<span class="nc" id="L194">		this.typeCustomizationsFilterPattern = typeCustomizationsFilterPattern;</span>
<span class="nc" id="L195">	}</span>

	@XmlTransient
	public String getEnumerationCustomizationsFilterPattern() {
<span class="nc" id="L199">		return enumerationCustomizationsFilterPattern;</span>
	}

	public void setEnumerationCustomizationsFilterPattern(String enumerationCustomizationsFilterPattern) {
<span class="nc" id="L203">		this.enumerationCustomizationsFilterPattern = enumerationCustomizationsFilterPattern;</span>
<span class="nc" id="L204">	}</span>

	@XmlTransient
	public String getListCustomizationsFilterPattern() {
<span class="nc" id="L208">		return listCustomizationsFilterPattern;</span>
	}

	public void setListCustomizationsFilterPattern(String listCustomizationsFilterPattern) {
<span class="nc" id="L212">		this.listCustomizationsFilterPattern = listCustomizationsFilterPattern;</span>
<span class="nc" id="L213">	}</span>

	protected Predicate&lt;TypeCustomization&gt; getTypeCustomizationsFilter() {
<span class="nc" id="L216">		return new Predicate&lt;InfoCustomizations.TypeCustomization&gt;() {</span>
			@Override
			public boolean test(TypeCustomization tc) {
<span class="nc bnc" id="L219" title="All 4 branches missed.">				return (typeCustomizationsFilterPattern == null) || (typeCustomizationsFilterPattern.length() == 0)</span>
<span class="nc bnc" id="L220" title="All 2 branches missed.">						|| Wildcard.match(tc.getTypeName(), &quot;*&quot; + typeCustomizationsFilterPattern + &quot;*&quot;);</span>
			}
		};
	}

	@XmlTransient
	public SortedSet&lt;TypeCustomization&gt; getFilteredTypeCustomizations() {
<span class="nc" id="L227">		return new TreeSet&lt;InfoCustomizations.TypeCustomization&gt;(MiscUtils</span>
<span class="nc" id="L228">				.getFilteredSet(new HashSet&lt;TypeCustomization&gt;(typeCustomizations), getTypeCustomizationsFilter()));</span>
	}

	public void setFilteredTypeCustomizations(SortedSet&lt;TypeCustomization&gt; typeCustomizations) {
<span class="nc" id="L232">		this.typeCustomizations = new ArrayList&lt;InfoCustomizations.TypeCustomization&gt;(</span>
<span class="nc" id="L233">				MiscUtils.inferNewNonFilteredSet(new HashSet&lt;TypeCustomization&gt;(this.typeCustomizations),</span>
<span class="nc" id="L234">						getTypeCustomizationsFilter(), typeCustomizations));</span>
<span class="nc" id="L235">	}</span>

	protected Predicate&lt;EnumerationCustomization&gt; getEnumerationCustomizationsFilter() {
<span class="nc" id="L238">		return new Predicate&lt;InfoCustomizations.EnumerationCustomization&gt;() {</span>
			@Override
			public boolean test(EnumerationCustomization ec) {
<span class="nc bnc" id="L241" title="All 2 branches missed.">				return (enumerationCustomizationsFilterPattern == null)</span>
<span class="nc bnc" id="L242" title="All 2 branches missed.">						|| (enumerationCustomizationsFilterPattern.length() == 0) || Wildcard</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">								.match(ec.getEnumerationTypeName(), &quot;*&quot; + enumerationCustomizationsFilterPattern + &quot;*&quot;);</span>
			}
		};
	}

	@XmlTransient
	public SortedSet&lt;EnumerationCustomization&gt; getFilteredEnumerationCustomizations() {
<span class="nc" id="L250">		return new TreeSet&lt;InfoCustomizations.EnumerationCustomization&gt;(</span>
<span class="nc" id="L251">				MiscUtils.getFilteredSet(new HashSet&lt;EnumerationCustomization&gt;(enumerationCustomizations),</span>
<span class="nc" id="L252">						getEnumerationCustomizationsFilter()));</span>
	}

	public void setFilteredEnumerationCustomizations(SortedSet&lt;EnumerationCustomization&gt; enumerationCustomizations) {
<span class="nc" id="L256">		this.enumerationCustomizations = new ArrayList&lt;InfoCustomizations.EnumerationCustomization&gt;(</span>
<span class="nc" id="L257">				MiscUtils.inferNewNonFilteredSet(new HashSet&lt;EnumerationCustomization&gt;(this.enumerationCustomizations),</span>
<span class="nc" id="L258">						getEnumerationCustomizationsFilter(), enumerationCustomizations));</span>
<span class="nc" id="L259">	}</span>

	protected Predicate&lt;ListCustomization&gt; getListCustomizationsFilter() {
<span class="nc" id="L262">		return new Predicate&lt;InfoCustomizations.ListCustomization&gt;() {</span>
			@Override
			public boolean test(ListCustomization lc) {
<span class="nc bnc" id="L265" title="All 4 branches missed.">				return (listCustomizationsFilterPattern == null) || (listCustomizationsFilterPattern.length() == 0)</span>
<span class="nc bnc" id="L266" title="All 2 branches missed.">						|| Wildcard.match(lc.getListTypeName(), &quot;*&quot; + listCustomizationsFilterPattern + &quot;*&quot;);</span>
			}
		};
	}

	@XmlTransient
	public SortedSet&lt;ListCustomization&gt; getFilteredListCustomizations() {
<span class="nc" id="L273">		return new TreeSet&lt;InfoCustomizations.ListCustomization&gt;(MiscUtils</span>
<span class="nc" id="L274">				.getFilteredSet(new HashSet&lt;ListCustomization&gt;(listCustomizations), getListCustomizationsFilter()));</span>
	}

	public void setFilteredListCustomizations(SortedSet&lt;ListCustomization&gt; listCustomizations) {
<span class="nc" id="L278">		this.listCustomizations = new ArrayList&lt;InfoCustomizations.ListCustomization&gt;(</span>
<span class="nc" id="L279">				MiscUtils.inferNewNonFilteredSet(new HashSet&lt;ListCustomization&gt;(this.listCustomizations),</span>
<span class="nc" id="L280">						getListCustomizationsFilter(), listCustomizations));</span>
<span class="nc" id="L281">	}</span>

	public void loadFromFile(File input, Listener&lt;String&gt; debugLogListener) throws IOException {
<span class="nc" id="L284">		FileInputStream stream = new FileInputStream(input);</span>
		try {
<span class="nc" id="L286">			loadFromStream(stream, debugLogListener);</span>
<span class="nc" id="L287">		} finally {</span>
			try {
<span class="nc" id="L289">				stream.close();</span>
<span class="nc" id="L290">			} catch (Exception ignore) {</span>
			}
		}
<span class="nc" id="L293">	}</span>

	public void loadFromStream(InputStream input, Listener&lt;String&gt; debugLogListener) throws IOException {
		InfoCustomizations loaded;
		try {
<span class="fc" id="L298">			JAXBContext jaxbContext = JAXBContext.newInstance(InfoCustomizations.class);</span>
<span class="fc" id="L299">			Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();</span>
<span class="fc" id="L300">			XMLInputFactory xmlInputFactory = XMLInputFactory.newFactory();</span>
<span class="fc" id="L301">			XMLStreamReader xmlStreamReader = xmlInputFactory.createXMLStreamReader(new StreamSource(input));</span>
<span class="fc" id="L302">			xmlStreamReader = new StreamReaderDelegate(xmlStreamReader) {</span>
				@Override
				public String getLocalName() {
<span class="fc" id="L305">					String localName = super.getLocalName();</span>
<span class="fc" id="L306">					String migratedLocalName = migrator.migrateXMLLocalName(localName);</span>
<span class="pc bpc" id="L307" title="1 of 2 branches missed.">					if (migratedLocalName != null) {</span>
<span class="nc" id="L308">						localName = migratedLocalName;</span>
					}
<span class="fc" id="L310">					return localName;</span>
				}
			};
<span class="fc" id="L313">			loaded = (InfoCustomizations) jaxbUnmarshaller.unmarshal(xmlStreamReader);</span>
<span class="pc" id="L314">		} catch (Exception e) {</span>
<span class="nc" id="L315">			throw new IOException(e);</span>
		}
<span class="fc" id="L317">		applicationCustomization = loaded.applicationCustomization;</span>
<span class="fc" id="L318">		typeCustomizations = loaded.typeCustomizations;</span>
<span class="fc" id="L319">		listCustomizations = loaded.listCustomizations;</span>
<span class="fc" id="L320">		enumerationCustomizations = loaded.enumerationCustomizations;</span>

<span class="fc" id="L322">		fillXMLSerializationGap();</span>
<span class="fc" id="L323">		migrator.migrate();</span>
<span class="fc" id="L324">	}</span>

	protected void fillXMLSerializationGap() {
<span class="fc bfc" id="L327" title="All 2 branches covered.">		for (TypeCustomization t : typeCustomizations) {</span>
<span class="fc bfc" id="L328" title="All 2 branches covered.">			for (MethodCustomization mc : t.methodsCustomizations) {</span>
<span class="fc bfc" id="L329" title="All 2 branches covered.">				if (mc.menuLocation != null) {</span>
<span class="fc bfc" id="L330" title="All 2 branches covered.">					for (IMenuItemContainerCustomization container : InfoCustomizations</span>
<span class="fc" id="L331">							.getAllMenuItemContainerCustomizations(t)) {</span>
<span class="fc" id="L332">						if (((AbstractCustomization) mc.menuLocation).getUniqueIdentifier()</span>
<span class="fc bfc" id="L333" title="All 2 branches covered.">								.equals(((AbstractCustomization) container).getUniqueIdentifier())) {</span>
<span class="fc" id="L334">							mc.menuLocation = container;</span>
						}
					}
				}
			}
		}
<span class="fc" id="L340">	}</span>

	public void saveToFile(File output, Listener&lt;String&gt; debugLogListener) throws IOException {
<span class="nc" id="L343">		ByteArrayOutputStream memoryStream = new ByteArrayOutputStream();</span>
<span class="nc" id="L344">		saveToStream(memoryStream, debugLogListener);</span>
<span class="nc" id="L345">		FileOutputStream stream = new FileOutputStream(output);</span>
		try {
<span class="nc" id="L347">			stream.write(memoryStream.toByteArray());</span>
<span class="nc" id="L348">		} finally {</span>
			try {
<span class="nc" id="L350">				stream.close();</span>
<span class="nc" id="L351">			} catch (Exception ignore) {</span>
			}
		}
<span class="nc" id="L354">	}</span>

	@SuppressWarnings(&quot;unchecked&quot;)
	public void saveToStream(OutputStream output, Listener&lt;String&gt; debugLogListener) throws IOException {
<span class="nc" id="L358">		InfoCustomizations toSave = new InfoCustomizations();</span>
<span class="nc" id="L359">		toSave.applicationCustomization = (ApplicationCustomization) IOUtils</span>
<span class="nc" id="L360">				.copyThroughSerialization((Serializable) applicationCustomization);</span>
<span class="nc" id="L361">		toSave.typeCustomizations = (List&lt;TypeCustomization&gt;) IOUtils</span>
<span class="nc" id="L362">				.copyThroughSerialization((Serializable) typeCustomizations);</span>
<span class="nc" id="L363">		toSave.listCustomizations = (List&lt;ListCustomization&gt;) IOUtils</span>
<span class="nc" id="L364">				.copyThroughSerialization((Serializable) listCustomizations);</span>
<span class="nc" id="L365">		toSave.enumerationCustomizations = (List&lt;EnumerationCustomization&gt;) IOUtils</span>
<span class="nc" id="L366">				.copyThroughSerialization((Serializable) enumerationCustomizations);</span>
<span class="nc" id="L367">		InfoCustomizations.clean(toSave, debugLogListener);</span>
		try {
<span class="nc" id="L369">			JAXBContext jaxbContext = JAXBContext.newInstance(InfoCustomizations.class);</span>
<span class="nc" id="L370">			javax.xml.bind.Marshaller jaxbMarshaller = jaxbContext.createMarshaller();</span>
<span class="nc" id="L371">			jaxbMarshaller.setProperty(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);</span>
<span class="nc" id="L372">			jaxbMarshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);</span>
<span class="nc" id="L373">			jaxbMarshaller.marshal(toSave, output);</span>
<span class="nc" id="L374">		} catch (Exception e) {</span>
<span class="nc" id="L375">			throw new IOException(e);</span>
		}

<span class="nc" id="L378">	}</span>

	public static void clean(InfoCustomizations infoCustomizations, Listener&lt;String&gt; debugLogListener) {
<span class="nc bnc" id="L381" title="All 2 branches missed.">		for (TypeCustomization tc : new ArrayList&lt;TypeCustomization&gt;(infoCustomizations.getTypeCustomizations())) {</span>
<span class="nc bnc" id="L382" title="All 2 branches missed.">			for (FieldCustomization fc : new ArrayList&lt;FieldCustomization&gt;(tc.getFieldsCustomizations())) {</span>
<span class="nc" id="L383">				clean(fc.getSpecificTypeCustomizations(), debugLogListener);</span>
<span class="nc bnc" id="L384" title="All 2 branches missed.">				if (fc.isInitial()) {</span>
<span class="nc" id="L385">					tc.getFieldsCustomizations().remove(fc);</span>
					continue;
				}
			}
<span class="nc bnc" id="L389" title="All 2 branches missed.">			for (MethodCustomization mc : new ArrayList&lt;MethodCustomization&gt;(tc.getMethodsCustomizations())) {</span>
<span class="nc bnc" id="L390" title="All 2 branches missed.">				if (mc.isInitial()) {</span>
<span class="nc" id="L391">					tc.getMethodsCustomizations().remove(mc);</span>
					continue;
				}
			}
<span class="nc bnc" id="L395" title="All 2 branches missed.">			if (tc.isInitial()) {</span>
<span class="nc bnc" id="L396" title="All 2 branches missed.">				if (debugLogListener != null) {</span>
<span class="nc" id="L397">					debugLogListener</span>
<span class="nc" id="L398">							.handle(InfoCustomizations.class.getName() + &quot;: Serialization cleanup: Excluding &quot; + tc);</span>
				}
<span class="nc" id="L400">				infoCustomizations.getTypeCustomizations().remove(tc);</span>
				continue;
			}

		}
<span class="nc bnc" id="L405" title="All 2 branches missed.">		for (ListCustomization lc : new ArrayList&lt;ListCustomization&gt;(infoCustomizations.getListCustomizations())) {</span>
<span class="nc bnc" id="L406" title="All 2 branches missed.">			for (ColumnCustomization cc : new ArrayList&lt;ColumnCustomization&gt;(lc.getColumnCustomizations())) {</span>
<span class="nc bnc" id="L407" title="All 2 branches missed.">				if (cc.isInitial()) {</span>
<span class="nc" id="L408">					lc.getColumnCustomizations().remove(cc);</span>
					continue;
				}
			}
<span class="nc bnc" id="L412" title="All 2 branches missed.">			if (lc.isInitial()) {</span>
<span class="nc bnc" id="L413" title="All 2 branches missed.">				if (debugLogListener != null) {</span>
<span class="nc" id="L414">					debugLogListener</span>
<span class="nc" id="L415">							.handle(InfoCustomizations.class.getName() + &quot;: Serialization cleanup: Excluding &quot; + lc);</span>
				}
<span class="nc" id="L417">				infoCustomizations.getListCustomizations().remove(lc);</span>
				continue;
			}

		}
<span class="nc bnc" id="L422" title="All 2 branches missed.">		for (EnumerationCustomization ec : new ArrayList&lt;EnumerationCustomization&gt;(</span>
<span class="nc" id="L423">				infoCustomizations.getEnumerationCustomizations())) {</span>
<span class="nc bnc" id="L424" title="All 2 branches missed.">			for (EnumerationItemCustomization ic : new ArrayList&lt;EnumerationItemCustomization&gt;(</span>
<span class="nc" id="L425">					ec.getItemCustomizations())) {</span>
<span class="nc bnc" id="L426" title="All 2 branches missed.">				if (ic.isInitial()) {</span>
<span class="nc" id="L427">					ec.getItemCustomizations().remove(ic);</span>
					continue;
				}
			}
<span class="nc bnc" id="L431" title="All 2 branches missed.">			if (ec.isInitial()) {</span>
<span class="nc bnc" id="L432" title="All 2 branches missed.">				if (debugLogListener != null) {</span>
<span class="nc" id="L433">					debugLogListener</span>
<span class="nc" id="L434">							.handle(InfoCustomizations.class.getName() + &quot;: Serialization cleanup: Excluding &quot; + ec);</span>
				}
<span class="nc" id="L436">				infoCustomizations.getEnumerationCustomizations().remove(ec);</span>
				continue;
			}
		}
<span class="nc" id="L440">	}</span>

	public static boolean isSimilar(final AbstractCustomization c1, final AbstractCustomization c2,
			final String... excludedFieldNames) {
<span class="nc" id="L444">		return ReflectionUIUtils.equalsAccordingInfos(c1, c2, ReflectionUI.getDefault(), new IInfoFilter() {</span>

			@Override
			public IMethodInfo apply(IMethodInfo method) {
<span class="nc" id="L448">				return method;</span>
			}

			@Override
			public IFieldInfo apply(IFieldInfo field) {
<span class="nc bnc" id="L453" title="All 2 branches missed.">				if (field.getName().equals(UID_FIELD_NAME)) {</span>
<span class="nc" id="L454">					return null;</span>
				}
<span class="nc bnc" id="L456" title="All 2 branches missed.">				if (field.getName().equals(INITIAL_STATE_FIELD_NAME)) {</span>
<span class="nc" id="L457">					return null;</span>
				}
<span class="nc bnc" id="L459" title="All 2 branches missed.">				if (Arrays.asList(excludedFieldNames).contains(field.getName())) {</span>
<span class="nc" id="L460">					return null;</span>
				}
<span class="nc" id="L462">				return field;</span>
			}
		});
	}

	public static List&lt;IMenuItemContainerCustomization&gt; getAllMenuItemContainerCustomizations(TypeCustomization tc) {
<span class="fc" id="L468">		List&lt;IMenuItemContainerCustomization&gt; result = new ArrayList&lt;IMenuItemContainerCustomization&gt;();</span>
<span class="fc bfc" id="L469" title="All 2 branches covered.">		for (IMenuElementCustomization rootMenuElementCustomization : tc.getMenuModelCustomization()</span>
<span class="fc" id="L470">				.getMenuCustomizations()) {</span>
<span class="pc bpc" id="L471" title="1 of 2 branches missed.">			if (rootMenuElementCustomization instanceof IMenuItemContainerCustomization) {</span>
<span class="fc" id="L472">				result.addAll(getAllMenuItemContainerCustomizations(</span>
<span class="fc" id="L473">						(IMenuItemContainerCustomization) rootMenuElementCustomization));</span>
			}
		}
<span class="fc" id="L476">		return result;</span>
	}

	public static List&lt;IMenuItemContainerCustomization&gt; getAllMenuItemContainerCustomizations(
			IMenuItemContainerCustomization from) {
<span class="fc" id="L481">		List&lt;IMenuItemContainerCustomization&gt; result = new ArrayList&lt;IMenuItemContainerCustomization&gt;();</span>
<span class="fc" id="L482">		result.add(from);</span>
<span class="fc bfc" id="L483" title="All 2 branches covered.">		for (AbstractMenuItemCustomization item : from.getItemCustomizations()) {</span>
<span class="pc bpc" id="L484" title="1 of 2 branches missed.">			if (item instanceof IMenuItemContainerInfo) {</span>
<span class="nc" id="L485">				result.addAll(getAllMenuItemContainerCustomizations((IMenuItemContainerCustomization) item));</span>
			}
		}
<span class="fc bfc" id="L488" title="All 2 branches covered.">		if (from instanceof MenuCustomization) {</span>
<span class="fc bfc" id="L489" title="All 2 branches covered.">			for (MenuItemCategoryCustomization item : ((MenuCustomization) from).getItemCategoryCustomizations()) {</span>
<span class="fc" id="L490">				result.addAll(getAllMenuItemContainerCustomizations(item));</span>
			}
		}
<span class="fc" id="L493">		return result;</span>
	}

	public static List&lt;String&gt; getMemberCategoryNameOptions(InfoCustomizations infoCustomizations,
			AbstractMemberCustomization m) {
<span class="nc" id="L498">		TypeCustomization tc = findParentTypeCustomization(infoCustomizations, m);</span>
<span class="nc" id="L499">		List&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>
<span class="nc bnc" id="L500" title="All 2 branches missed.">		for (CustomizationCategory c : tc.getMemberCategories()) {</span>
<span class="nc" id="L501">			result.add(c.getName());</span>
		}
<span class="nc" id="L503">		return result;</span>
	}

	public static TypeCustomization findParentTypeCustomization(InfoCustomizations infoCustomizations,
			AbstractMemberCustomization memberCustumization) {
<span class="nc bnc" id="L508" title="All 2 branches missed.">		for (TypeCustomization tc : getTypeCustomizationsPlusFieldSpecificities(infoCustomizations)) {</span>
<span class="nc bnc" id="L509" title="All 2 branches missed.">			for (FieldCustomization fc : tc.getFieldsCustomizations()) {</span>
<span class="nc bnc" id="L510" title="All 2 branches missed.">				if (fc == memberCustumization) {</span>
<span class="nc" id="L511">					return tc;</span>
				}
			}
<span class="nc bnc" id="L514" title="All 2 branches missed.">			for (MethodCustomization mc : tc.getMethodsCustomizations()) {</span>
<span class="nc bnc" id="L515" title="All 2 branches missed.">				if (mc == memberCustumization) {</span>
<span class="nc" id="L516">					return tc;</span>
				}
			}
		}
<span class="nc" id="L520">		return null;</span>
	}

	public static List&lt;TypeCustomization&gt; getTypeCustomizationsPlusFieldSpecificities(
			InfoCustomizations infoCustomizations) {
<span class="nc" id="L525">		List&lt;TypeCustomization&gt; result = new ArrayList&lt;TypeCustomization&gt;();</span>
<span class="nc bnc" id="L526" title="All 2 branches missed.">		for (TypeCustomization tc : infoCustomizations.getTypeCustomizations()) {</span>
<span class="nc" id="L527">			result.add(tc);</span>
<span class="nc bnc" id="L528" title="All 2 branches missed.">			for (FieldCustomization fc : tc.getFieldsCustomizations()) {</span>
<span class="nc" id="L529">				result.addAll(getTypeCustomizationsPlusFieldSpecificities(fc.getSpecificTypeCustomizations()));</span>
			}
		}
<span class="nc" id="L532">		return result;</span>
	}

	public static boolean areInfoCustomizationsCreatedIfNotFound() {
<span class="fc" id="L536">		return SystemProperties.areInfoCustomizationsCreatedIfNotFound();</span>
	}

	public static ParameterCustomization getParameterCustomization(MethodCustomization m, String paramName) {
<span class="fc" id="L540">		return getParameterCustomization(m, paramName, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static ParameterCustomization getParameterCustomization(MethodCustomization m, String paramName,
			boolean createIfNotFound) {
<span class="pc bpc" id="L545" title="1 of 2 branches missed.">		if (m != null) {</span>
<span class="fc bfc" id="L546" title="All 2 branches covered.">			for (ParameterCustomization p : m.getParametersCustomizations()) {</span>
<span class="fc bfc" id="L547" title="All 2 branches covered.">				if (paramName.equals(p.getParameterName())) {</span>
<span class="fc" id="L548">					return p;</span>
				}
			}
<span class="pc bpc" id="L551" title="1 of 2 branches missed.">			if (createIfNotFound) {</span>
<span class="fc" id="L552">				ParameterCustomization p = new ParameterCustomization();</span>
<span class="fc" id="L553">				p.setParameterName(paramName);</span>
<span class="fc" id="L554">				m.getParametersCustomizations().add(p);</span>
<span class="fc" id="L555">				return p;</span>
			}
		}
<span class="nc" id="L558">		return null;</span>
	}

	public static FieldCustomization getFieldCustomization(InfoCustomizations infoCustomizations, String typeName,
			String fieldName) {
<span class="fc" id="L563">		return getFieldCustomization(getTypeCustomization(infoCustomizations, typeName), fieldName,</span>
<span class="fc" id="L564">				areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static FieldCustomization getFieldCustomization(TypeCustomization t, String fieldName) {
<span class="fc" id="L568">		return getFieldCustomization(t, fieldName, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static FieldCustomization getFieldCustomization(TypeCustomization t, String fieldName,
			boolean createIfNotFound) {
<span class="pc bpc" id="L573" title="1 of 2 branches missed.">		if (t != null) {</span>
<span class="fc bfc" id="L574" title="All 2 branches covered.">			for (FieldCustomization f : t.getFieldsCustomizations()) {</span>
<span class="fc bfc" id="L575" title="All 2 branches covered.">				if (fieldName.equals(f.getFieldName())) {</span>
<span class="fc" id="L576">					return f;</span>
				}
			}
<span class="pc bpc" id="L579" title="1 of 2 branches missed.">			if (createIfNotFound) {</span>
<span class="fc" id="L580">				FieldCustomization f = new FieldCustomization();</span>
<span class="fc" id="L581">				f.setFieldName(fieldName);</span>
<span class="fc" id="L582">				t.getFieldsCustomizations().add(f);</span>
<span class="fc" id="L583">				return f;</span>
			}
		}
<span class="nc" id="L586">		return null;</span>
	}

	public static MethodCustomization getMethodCustomization(InfoCustomizations infoCustomizations, String typeName,
			String methodSignature) {
<span class="fc" id="L591">		return getMethodCustomization(getTypeCustomization(infoCustomizations, typeName), methodSignature,</span>
<span class="fc" id="L592">				areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static MethodCustomization getMethodCustomization(TypeCustomization t, String methodSignature) {
<span class="fc" id="L596">		return getMethodCustomization(t, methodSignature, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static MethodCustomization getMethodCustomization(TypeCustomization t, String methodSignature,
			boolean createIfNotFound) {
<span class="pc bpc" id="L601" title="1 of 2 branches missed.">		if (t != null) {</span>
<span class="fc bfc" id="L602" title="All 2 branches covered.">			for (MethodCustomization m : t.getMethodsCustomizations()) {</span>
<span class="fc bfc" id="L603" title="All 2 branches covered.">				if (methodSignature.equals(m.getMethodSignature())) {</span>
<span class="fc" id="L604">					return m;</span>
				}
			}
<span class="pc bpc" id="L607" title="1 of 2 branches missed.">			if (createIfNotFound) {</span>
<span class="fc" id="L608">				MethodCustomization m = new MethodCustomization();</span>
<span class="fc" id="L609">				m.setMethodSignature(methodSignature);</span>
<span class="fc" id="L610">				t.getMethodsCustomizations().add(m);</span>
<span class="fc" id="L611">				return m;</span>
			}
		}
<span class="nc" id="L614">		return null;</span>
	}

	public static TypeCustomization getTypeCustomization(InfoCustomizations infoCustomizations, String typeName) {
<span class="fc" id="L618">		return getTypeCustomization(infoCustomizations, typeName, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static TypeCustomization getTypeCustomization(InfoCustomizations infoCustomizations, String typeName,
			boolean createIfNotFound) {
<span class="fc bfc" id="L623" title="All 2 branches covered.">		for (TypeCustomization t : infoCustomizations.getTypeCustomizations()) {</span>
<span class="fc bfc" id="L624" title="All 2 branches covered.">			if (typeName.equals(t.getTypeName())) {</span>
<span class="fc" id="L625">				return t;</span>
			}
		}
<span class="pc bpc" id="L628" title="1 of 2 branches missed.">		if (createIfNotFound) {</span>
<span class="fc" id="L629">			TypeCustomization t = new TypeCustomization();</span>
<span class="fc" id="L630">			t.setTypeName(typeName);</span>
<span class="fc" id="L631">			infoCustomizations.getTypeCustomizations().add(t);</span>
<span class="fc" id="L632">			return t;</span>
		}
<span class="nc" id="L634">		return null;</span>
	}

	public static ListCustomization getListCustomization(InfoCustomizations infoCustomizations, String listTypeName,
			String itemTypeName) {
<span class="fc" id="L639">		return getListCustomization(infoCustomizations, listTypeName, itemTypeName,</span>
<span class="fc" id="L640">				areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static ListCustomization getListCustomization(InfoCustomizations infoCustomizations, String listTypeName,
			String itemTypeName, boolean createIfNotFound) {
<span class="fc bfc" id="L645" title="All 2 branches covered.">		for (ListCustomization l : infoCustomizations.getListCustomizations()) {</span>
<span class="fc bfc" id="L646" title="All 2 branches covered.">			if (listTypeName.equals(l.getListTypeName())) {</span>
<span class="fc bfc" id="L647" title="All 2 branches covered.">				if (MiscUtils.equalsOrBothNull(l.getItemTypeName(), itemTypeName)) {</span>
<span class="fc" id="L648">					return l;</span>
				}
			}
		}
<span class="pc bpc" id="L652" title="1 of 2 branches missed.">		if (createIfNotFound) {</span>
<span class="fc" id="L653">			ListCustomization l = new ListCustomization();</span>
<span class="fc" id="L654">			l.setListTypeName(listTypeName);</span>
<span class="fc" id="L655">			l.setItemTypeName(itemTypeName);</span>
<span class="fc" id="L656">			infoCustomizations.getListCustomizations().add(l);</span>
<span class="fc" id="L657">			return l;</span>
		}
<span class="nc" id="L659">		return null;</span>
	}

	public static ColumnCustomization getColumnCustomization(ListCustomization l, String columnName) {
<span class="fc" id="L663">		return getColumnCustomization(l, columnName, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static ColumnCustomization getColumnCustomization(ListCustomization l, String columnName,
			boolean createIfNotFound) {
<span class="fc bfc" id="L668" title="All 2 branches covered.">		for (ColumnCustomization c : l.getColumnCustomizations()) {</span>
<span class="fc bfc" id="L669" title="All 2 branches covered.">			if (columnName.equals(c.getColumnName())) {</span>
<span class="fc" id="L670">				return c;</span>
			}
		}
<span class="pc bpc" id="L673" title="1 of 2 branches missed.">		if (createIfNotFound) {</span>
<span class="fc" id="L674">			ColumnCustomization c = new ColumnCustomization();</span>
<span class="fc" id="L675">			c.setColumnName(columnName);</span>
<span class="fc" id="L676">			l.getColumnCustomizations().add(c);</span>
<span class="fc" id="L677">			return c;</span>
		}
<span class="nc" id="L679">		return null;</span>
	}

	public static EnumerationItemCustomization getEnumerationItemCustomization(EnumerationCustomization e,
			String enumItemName) {
<span class="fc" id="L684">		return getEnumerationItemCustomization(e, enumItemName, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static EnumerationItemCustomization getEnumerationItemCustomization(EnumerationCustomization e,
			String enumItemName, boolean createIfNotFound) {
<span class="fc bfc" id="L689" title="All 2 branches covered.">		for (EnumerationItemCustomization i : e.getItemCustomizations()) {</span>
<span class="fc bfc" id="L690" title="All 2 branches covered.">			if (enumItemName.equals(i.getItemName())) {</span>
<span class="fc" id="L691">				return i;</span>
			}
		}
<span class="pc bpc" id="L694" title="1 of 2 branches missed.">		if (createIfNotFound) {</span>
<span class="fc" id="L695">			EnumerationItemCustomization i = new EnumerationItemCustomization();</span>
<span class="fc" id="L696">			i.setItemName(enumItemName);</span>
<span class="fc" id="L697">			e.getItemCustomizations().add(i);</span>
<span class="fc" id="L698">			return i;</span>
		}
<span class="nc" id="L700">		return null;</span>
	}

	public static EnumerationCustomization getEnumerationCustomization(InfoCustomizations infoCustomizations,
			String enumTypeName) {
<span class="fc" id="L705">		return getEnumerationCustomization(infoCustomizations, enumTypeName, areInfoCustomizationsCreatedIfNotFound());</span>
	}

	public static EnumerationCustomization getEnumerationCustomization(InfoCustomizations infoCustomizations,
			String enumTypeName, boolean createIfNotFound) {
<span class="fc bfc" id="L710" title="All 2 branches covered.">		for (EnumerationCustomization e : infoCustomizations.getEnumerationCustomizations()) {</span>
<span class="fc bfc" id="L711" title="All 2 branches covered.">			if (enumTypeName.equals(e.getEnumerationTypeName())) {</span>
<span class="fc" id="L712">				return e;</span>
			}
		}
<span class="pc bpc" id="L715" title="1 of 2 branches missed.">		if (createIfNotFound) {</span>
<span class="fc" id="L716">			EnumerationCustomization e = new EnumerationCustomization();</span>
<span class="fc" id="L717">			e.setEnumerationTypeName(enumTypeName);</span>
<span class="fc" id="L718">			infoCustomizations.getEnumerationCustomizations().add(e);</span>
<span class="fc" id="L719">			return e;</span>
		}
<span class="nc" id="L721">		return null;</span>
	}

	public static &lt;I extends IInfo&gt; List&lt;String&gt; getInfosOrderAfterMove(List&lt;I&gt; list, I info, int offset) {
<span class="nc" id="L725">		int infoIndex = list.indexOf(info);</span>
<span class="nc" id="L726">		int newInfoIndex = -1;</span>
<span class="nc bnc" id="L727" title="All 2 branches missed.">		int offsetSign = ((offset &gt; 0) ? 1 : -1);</span>
<span class="nc" id="L728">		InfoCategory infoCategory = ReflectionUIUtils.getCategory(info);</span>
<span class="nc" id="L729">		int currentInfoIndex = infoIndex;</span>
<span class="nc bnc" id="L730" title="All 2 branches missed.">		for (int iOffset = 0; iOffset != offset; iOffset = iOffset + offsetSign) {</span>
<span class="nc" id="L731">			int nextSameCategoryInfoIndex = -1;</span>
			while (true) {
<span class="nc" id="L733">				currentInfoIndex += offsetSign;</span>
<span class="nc bnc" id="L734" title="All 4 branches missed.">				if ((offsetSign == -1) &amp;&amp; (currentInfoIndex == -1)) {</span>
<span class="nc" id="L735">					break;</span>
				}
<span class="nc bnc" id="L737" title="All 4 branches missed.">				if ((offsetSign == 1) &amp;&amp; (currentInfoIndex == list.size())) {</span>
<span class="nc" id="L738">					break;</span>
				}
<span class="nc" id="L740">				I otherInfo = list.get(currentInfoIndex);</span>
<span class="nc bnc" id="L741" title="All 2 branches missed.">				if ((otherInfo instanceof IFieldInfo)) {</span>
<span class="nc bnc" id="L742" title="All 2 branches missed.">					if (((IFieldInfo) otherInfo).isHidden()) {</span>
<span class="nc" id="L743">						continue;</span>
					}
				}
<span class="nc bnc" id="L746" title="All 2 branches missed.">				if ((otherInfo instanceof IMethodInfo)) {</span>
<span class="nc bnc" id="L747" title="All 2 branches missed.">					if (((IMethodInfo) otherInfo).isHidden()) {</span>
<span class="nc" id="L748">						continue;</span>
					}
				}
<span class="nc" id="L751">				InfoCategory otherInfoCategory = ReflectionUIUtils.getCategory(otherInfo);</span>
<span class="nc bnc" id="L752" title="All 2 branches missed.">				if (MiscUtils.equalsOrBothNull(infoCategory, otherInfoCategory)) {</span>
<span class="nc" id="L753">					nextSameCategoryInfoIndex = currentInfoIndex;</span>
					break;
				}
			}
<span class="nc bnc" id="L757" title="All 2 branches missed.">			if (nextSameCategoryInfoIndex == -1) {</span>
<span class="nc" id="L758">				break;</span>
			} else {
<span class="nc" id="L760">				newInfoIndex = nextSameCategoryInfoIndex;</span>
			}
		}

<span class="nc bnc" id="L764" title="All 2 branches missed.">		if (newInfoIndex == -1) {</span>
<span class="nc" id="L765">			throw new ReflectionUIError(&quot;Cannot move item: Limit reached&quot;);</span>
		}

<span class="nc" id="L768">		List&lt;I&gt; resultList = new ArrayList&lt;I&gt;(list);</span>
<span class="nc" id="L769">		resultList.remove(info);</span>
<span class="nc" id="L770">		resultList.add(newInfoIndex, info);</span>

<span class="nc" id="L772">		ArrayList&lt;String&gt; newOrder = new ArrayList&lt;String&gt;();</span>
<span class="nc bnc" id="L773" title="All 2 branches missed.">		for (I info2 : resultList) {</span>
<span class="nc" id="L774">			String name = info2.getName();</span>
<span class="nc bnc" id="L775" title="All 2 branches missed.">			if (name == null) {</span>
<span class="nc" id="L776">				throw new ReflectionUIError(&quot;Cannot move item: 'getName()' method returned &lt;null&gt; for item nÂ°&quot;</span>
<span class="nc" id="L777">						+ (list.indexOf(info2) + 1) + &quot; (caption='&quot; + info2.getCaption() + &quot;')&quot;);</span>
			}
<span class="nc" id="L779">			newOrder.add(name);</span>
		}
<span class="nc" id="L781">		return newOrder;</span>
	}

<span class="fc" id="L784">	public static abstract class AbstractCustomization implements Serializable {</span>
		private static final long serialVersionUID = 1L;

		public boolean isInitial() {
			try {
<span class="nc" id="L789">				return InfoCustomizations.isSimilar(this, getClass().newInstance());</span>
<span class="nc" id="L790">			} catch (Exception e) {</span>
<span class="nc" id="L791">				throw new ReflectionUIError(e);</span>
			}
		}

<span class="fc" id="L795">		protected String uniqueIdentifier = new UID().toString();</span>

		public String getUniqueIdentifier() {
<span class="fc" id="L798">			return uniqueIdentifier;</span>
		}

		public void setUniqueIdentifier(String uniqueIdentifier) {
<span class="fc" id="L802">			this.uniqueIdentifier = uniqueIdentifier;</span>
<span class="fc" id="L803">		}</span>

	}

<span class="fc" id="L807">	public static abstract class AbstractInfoCustomization extends AbstractCustomization {</span>

		private static final long serialVersionUID = 1L;

<span class="fc" id="L811">		protected Map&lt;String, Object&gt; specificProperties = new HashMap&lt;String, Object&gt;();</span>

		public Map&lt;String, Object&gt; getSpecificProperties() {
<span class="fc" id="L814">			return specificProperties;</span>
		}

		public void setSpecificProperties(Map&lt;String, Object&gt; specificProperties) {
<span class="fc" id="L818">			this.specificProperties = specificProperties;</span>
<span class="fc" id="L819">		}</span>

	}

<span class="fc" id="L823">	public static abstract class AbstractVirtualFieldDeclaration extends AbstractCustomization {</span>

		private static final long serialVersionUID = 1L;

		protected String fieldName;

		public String getFieldName() {
<span class="fc" id="L830">			return fieldName;</span>
		}

		public void setFieldName(String fieldName) {
<span class="fc" id="L834">			this.fieldName = fieldName;</span>
<span class="fc" id="L835">		}</span>

		public void validate() throws Exception {
<span class="nc bnc" id="L838" title="All 4 branches missed.">			if ((fieldName == null) || (fieldName.length() == 0)) {</span>
<span class="nc" id="L839">				throw new IllegalStateException(&quot;Field name not provided&quot;);</span>
			}
<span class="nc" id="L841">		}</span>

	}

<span class="fc" id="L845">	public static class VirtualFieldDeclaration extends AbstractVirtualFieldDeclaration {</span>
		private static final long serialVersionUID = 1L;

		protected ITypeInfoFinder fieldTypeFinder;

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getFieldTypeFinder() {
<span class="fc" id="L853">			return fieldTypeFinder;</span>
		}

		public void setFieldTypeFinder(ITypeInfoFinder fieldTypeFinder) {
<span class="fc" id="L857">			this.fieldTypeFinder = fieldTypeFinder;</span>
<span class="fc" id="L858">		}</span>

		public void validate() throws Exception {
<span class="nc" id="L861">			super.validate();</span>
<span class="nc bnc" id="L862" title="All 2 branches missed.">			if (fieldTypeFinder == null) {</span>
<span class="nc" id="L863">				throw new IllegalStateException(&quot;Field type not provided&quot;);</span>
			}
<span class="nc" id="L865">		}</span>

	}

<span class="nc" id="L869">	public static class ImplicitListFieldDeclaration extends AbstractVirtualFieldDeclaration {</span>
		private static final long serialVersionUID = 1L;

		protected ITypeInfoFinder itemTypeFinder;
		protected String createMethodName;
		protected String getMethodName;
		protected String addMethodName;
		protected String removeMethodName;
		protected String sizeFieldName;

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getItemTypeFinder() {
<span class="nc" id="L882">			return itemTypeFinder;</span>
		}

		public void setItemTypeFinder(ITypeInfoFinder itemTypeFinder) {
<span class="nc" id="L886">			this.itemTypeFinder = itemTypeFinder;</span>
<span class="nc" id="L887">		}</span>

		public String getCreateMethodName() {
<span class="nc" id="L890">			return createMethodName;</span>
		}

		public void setCreateMethodName(String createMethodName) {
<span class="nc" id="L894">			this.createMethodName = createMethodName;</span>
<span class="nc" id="L895">		}</span>

		public String getGetMethodName() {
<span class="nc" id="L898">			return getMethodName;</span>
		}

		public void setGetMethodName(String getMethodName) {
<span class="nc" id="L902">			this.getMethodName = getMethodName;</span>
<span class="nc" id="L903">		}</span>

		public String getAddMethodName() {
<span class="nc" id="L906">			return addMethodName;</span>
		}

		public void setAddMethodName(String addMethodName) {
<span class="nc" id="L910">			this.addMethodName = addMethodName;</span>
<span class="nc" id="L911">		}</span>

		public String getRemoveMethodName() {
<span class="nc" id="L914">			return removeMethodName;</span>
		}

		public void setRemoveMethodName(String removeMethodName) {
<span class="nc" id="L918">			this.removeMethodName = removeMethodName;</span>
<span class="nc" id="L919">		}</span>

		public String getSizeFieldName() {
<span class="nc" id="L922">			return sizeFieldName;</span>
		}

		public void setSizeFieldName(String sizeFieldName) {
<span class="nc" id="L926">			this.sizeFieldName = sizeFieldName;</span>
<span class="nc" id="L927">		}</span>

		public void validate() throws Exception {
<span class="nc" id="L930">			super.validate();</span>
<span class="nc bnc" id="L931" title="All 2 branches missed.">			if (itemTypeFinder == null) {</span>
<span class="nc" id="L932">				throw new IllegalStateException(&quot;Item type not provided&quot;);</span>
			}
<span class="nc bnc" id="L934" title="All 4 branches missed.">			if ((getMethodName == null) || (getMethodName.length() == 0)) {</span>
<span class="nc" id="L935">				throw new IllegalStateException(&quot;'Get' method name not provided&quot;);</span>
			}
<span class="nc bnc" id="L937" title="All 4 branches missed.">			if ((sizeFieldName == null) || (sizeFieldName.length() == 0)) {</span>
<span class="nc" id="L938">				throw new IllegalStateException(&quot;Size field name not provided&quot;);</span>
			}
<span class="nc" id="L940">		}</span>

	}

<span class="fc" id="L944">	public static class ImportedFieldDeclaration extends AbstractCustomization {</span>

		private static final long serialVersionUID = 1L;

		protected ITypeInfoFinder sourceTypeFinder;
		protected String sourceFieldName;
		protected String targetFieldName;

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getSourceTypeFinder() {
<span class="fc" id="L955">			return sourceTypeFinder;</span>
		}

		public void setSourceTypeFinder(ITypeInfoFinder sourceTypeFinder) {
<span class="fc" id="L959">			this.sourceTypeFinder = sourceTypeFinder;</span>
<span class="fc" id="L960">		}</span>

		public String getTargetFieldName() {
<span class="fc" id="L963">			return targetFieldName;</span>
		}

		public void setTargetFieldName(String targetFieldName) {
<span class="fc" id="L967">			this.targetFieldName = targetFieldName;</span>
<span class="fc" id="L968">		}</span>

		public String getSourceFieldName() {
<span class="fc" id="L971">			return sourceFieldName;</span>
		}

		public void setSourceFieldName(String sourceFieldName) {
<span class="fc" id="L975">			this.sourceFieldName = sourceFieldName;</span>
<span class="fc" id="L976">		}</span>

		public void validate() throws Exception {
<span class="nc bnc" id="L979" title="All 2 branches missed.">			if (sourceTypeFinder == null) {</span>
<span class="nc" id="L980">				throw new IllegalStateException(&quot;Source type not provided&quot;);</span>
			}
<span class="nc bnc" id="L982" title="All 4 branches missed.">			if ((sourceFieldName == null) || (sourceFieldName.length() == 0)) {</span>
<span class="nc" id="L983">				throw new IllegalStateException(&quot;Source field name not provided&quot;);</span>
			}
<span class="nc" id="L985">		}</span>
	}

<span class="nc" id="L988">	public static class ImportedMethodDeclaration extends AbstractCustomization {</span>

		private static final long serialVersionUID = 1L;

		protected ITypeInfoFinder sourceTypeFinder;
		protected String sourceMethodSignature;
		protected String targetMethodName;

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getSourceTypeFinder() {
<span class="nc" id="L999">			return sourceTypeFinder;</span>
		}

		public void setSourceTypeFinder(ITypeInfoFinder sourceTypeFinder) {
<span class="nc" id="L1003">			this.sourceTypeFinder = sourceTypeFinder;</span>
<span class="nc" id="L1004">		}</span>

		public String getTargetMethodName() {
<span class="nc" id="L1007">			return targetMethodName;</span>
		}

		public void setTargetMethodName(String targetMethodName) {
<span class="nc" id="L1011">			this.targetMethodName = targetMethodName;</span>
<span class="nc" id="L1012">		}</span>

		public String getSourceMethodSignature() {
<span class="nc" id="L1015">			return sourceMethodSignature;</span>
		}

		public void setSourceMethodSignature(String sourceMethodSignature) {
<span class="nc" id="L1019">			this.sourceMethodSignature = sourceMethodSignature;</span>
<span class="nc" id="L1020">		}</span>

		public void validate() throws Exception {
<span class="nc bnc" id="L1023" title="All 2 branches missed.">			if (sourceTypeFinder == null) {</span>
<span class="nc" id="L1024">				throw new IllegalStateException(&quot;Source type not provided&quot;);</span>
			}
<span class="nc bnc" id="L1026" title="All 4 branches missed.">			if ((sourceMethodSignature == null) || (sourceMethodSignature.length() == 0)) {</span>
<span class="nc" id="L1027">				throw new IllegalStateException(&quot;Source method signature not provided&quot;);</span>
			}
<span class="nc" id="L1029">		}</span>
	}

	public static interface IMenuElementCustomization {

		public String getName();

	}

	public static interface IMenuItemContainerCustomization extends IMenuElementCustomization {
		public List&lt;AbstractMenuItemCustomization&gt; getItemCustomizations();
	}

	public static class MenuItemCategoryCustomization extends AbstractCustomization
			implements IMenuItemContainerCustomization {
		private static final long serialVersionUID = 1L;

		protected String name;
<span class="fc" id="L1047">		protected List&lt;AbstractMenuItemCustomization&gt; itemCustomizations = new ArrayList&lt;AbstractMenuItemCustomization&gt;();</span>

<span class="fc" id="L1049">		public MenuItemCategoryCustomization() {</span>
<span class="fc" id="L1050">			name = &quot;Category&quot;;</span>
<span class="fc" id="L1051">		}</span>

		public String getName() {
<span class="fc" id="L1054">			return name;</span>
		}

		public void setName(String name) {
<span class="fc" id="L1058">			this.name = name;</span>
<span class="fc" id="L1059">		}</span>

		@XmlElements({ @XmlElement(name = &quot;menu&quot;, type = MenuCustomization.class),
				@XmlElement(name = &quot;exitMenuItem&quot;, type = ExitMenuItemCustomization.class),
				@XmlElement(name = &quot;helpMenuItem&quot;, type = HelpMenuItemCustomization.class),
				@XmlElement(name = &quot;undoMenuItem&quot;, type = UndoMenuItemCustomization.class),
				@XmlElement(name = &quot;redoMenuItem&quot;, type = RedoMenuItemCustomization.class),
				@XmlElement(name = &quot;resetMenuItem&quot;, type = ResetMenuItemCustomization.class),
				@XmlElement(name = &quot;renewMenuItem&quot;, type = RenewMenuItemCustomization.class),
				@XmlElement(name = &quot;openMenuItem&quot;, type = OpenMenuItemCustomization.class),
				@XmlElement(name = &quot;saveMenuItem&quot;, type = SaveMenuItemCustomization.class),
				@XmlElement(name = &quot;saveAsMenuItem&quot;, type = SaveAsMenuItemCustomization.class) })
		public List&lt;AbstractMenuItemCustomization&gt; getItemCustomizations() {
<span class="fc" id="L1072">			return itemCustomizations;</span>
		}

		public void setItemCustomizations(List&lt;AbstractMenuItemCustomization&gt; itemCustomizations) {
<span class="nc" id="L1076">			this.itemCustomizations = itemCustomizations;</span>
<span class="nc" id="L1077">		}</span>

		public void validate() {
<span class="nc bnc" id="L1080" title="All 4 branches missed.">			if ((name == null) || (name.trim().length() == 0)) {</span>
<span class="nc" id="L1081">				throw new ReflectionUIError(&quot;Name not provided&quot;);</span>
			}
<span class="nc" id="L1083">		}</span>

	}

<span class="fc" id="L1087">	public static abstract class AbstractMenuItemCustomization extends AbstractCustomization</span>
			implements IMenuElementCustomization {
		private static final long serialVersionUID = 1L;

<span class="fc" id="L1091">		protected String name = &quot;&quot;;</span>
		protected ResourcePath iconImagePath;

		public String getName() {
<span class="fc" id="L1095">			return name;</span>
		}

		public void setName(String name) {
<span class="fc" id="L1099">			this.name = name;</span>
<span class="fc" id="L1100">		}</span>

		public ResourcePath getIconImagePath() {
<span class="fc" id="L1103">			return iconImagePath;</span>
		}

		public void setIconImagePath(ResourcePath iconImagePath) {
<span class="fc" id="L1107">			this.iconImagePath = iconImagePath;</span>
<span class="fc" id="L1108">		}</span>

		public void validate() {
<span class="nc bnc" id="L1111" title="All 4 branches missed.">			if ((name == null) || (name.trim().length() == 0)) {</span>
<span class="nc" id="L1112">				throw new ReflectionUIError(&quot;Name not provided&quot;);</span>
			}
<span class="nc" id="L1114">		}</span>

	}

<span class="fc" id="L1118">	public static abstract class AbstractStandardActionMenuItemCustomization extends AbstractMenuItemCustomization {</span>

		private static final long serialVersionUID = 1L;

		protected KeyboardShortcut keyboardShortcut;

		public KeyboardShortcut getKeyboardShortcut() {
<span class="fc" id="L1125">			return keyboardShortcut;</span>
		}

		public void setKeyboardShortcut(KeyboardShortcut keyboardShortcut) {
<span class="fc" id="L1129">			this.keyboardShortcut = keyboardShortcut;</span>
<span class="fc" id="L1130">		}</span>
	}

	public static class ExitMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {
		private static final long serialVersionUID = 1L;

<span class="fc" id="L1136">		public ExitMenuItemCustomization() {</span>
<span class="fc" id="L1137">			name = &quot;Exit&quot;;</span>
<span class="fc" id="L1138">		}</span>

	}

<span class="fc" id="L1142">	public static abstract class AbstractFileMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {</span>

		private static final long serialVersionUID = 1L;

<span class="fc" id="L1146">		protected FileBrowserConfiguration fileBrowserConfiguration = new FileBrowserConfiguration();</span>

		public FileBrowserConfiguration getFileBrowserConfiguration() {
<span class="fc" id="L1149">			return fileBrowserConfiguration;</span>
		}

		public void setFileBrowserConfiguration(FileBrowserConfiguration fileBrowserConfiguration) {
<span class="fc" id="L1153">			this.fileBrowserConfiguration = fileBrowserConfiguration;</span>
<span class="fc" id="L1154">		}</span>

	}

<span class="fc" id="L1158">	public static abstract class AbstractSaveMenuItemCustomization extends AbstractFileMenuItemCustomization {</span>

		protected static final long serialVersionUID = 1L;

	}

	public static class HelpMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {

		private static final long serialVersionUID = 1L;

<span class="nc" id="L1168">		public HelpMenuItemCustomization() {</span>
<span class="nc" id="L1169">			name = &quot;Help&quot;;</span>
<span class="nc" id="L1170">		}</span>

	}

	public static class RenewMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {

		protected static final long serialVersionUID = 1L;

<span class="fc" id="L1178">		public RenewMenuItemCustomization() {</span>
<span class="fc" id="L1179">			name = &quot;New&quot;;</span>
<span class="fc" id="L1180">		}</span>
	}

	public static class OpenMenuItemCustomization extends AbstractFileMenuItemCustomization {

		protected static final long serialVersionUID = 1L;

<span class="fc" id="L1187">		public OpenMenuItemCustomization() {</span>
<span class="fc" id="L1188">			name = &quot;Open...&quot;;</span>
<span class="fc" id="L1189">			fileBrowserConfiguration.actionTitle = &quot;Open&quot;;</span>
<span class="fc" id="L1190">		}</span>
	}

	public static class SaveAsMenuItemCustomization extends AbstractSaveMenuItemCustomization {

		protected static final long serialVersionUID = 1L;

<span class="fc" id="L1197">		public SaveAsMenuItemCustomization() {</span>
<span class="fc" id="L1198">			name = &quot;Save As...&quot;;</span>
<span class="fc" id="L1199">			fileBrowserConfiguration.actionTitle = &quot;Save&quot;;</span>
<span class="fc" id="L1200">		}</span>

	}

	public static class SaveMenuItemCustomization extends AbstractSaveMenuItemCustomization {

		protected static final long serialVersionUID = 1L;

<span class="fc" id="L1208">		public SaveMenuItemCustomization() {</span>
<span class="fc" id="L1209">			name = &quot;Save&quot;;</span>
<span class="fc" id="L1210">			fileBrowserConfiguration.actionTitle = &quot;Save&quot;;</span>
<span class="fc" id="L1211">			keyboardShortcut = new KeyboardShortcut(KeyEvent.VK_S, false, true, false, false, false);</span>
<span class="fc" id="L1212">		}</span>

	}

	public static class RedoMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {

		private static final long serialVersionUID = 1L;

<span class="fc" id="L1220">		public RedoMenuItemCustomization() {</span>
<span class="fc" id="L1221">			name = &quot;Redo&quot;;</span>
<span class="fc" id="L1222">			keyboardShortcut = new KeyboardShortcut(KeyEvent.VK_Y, false, true, false, false, false);</span>
<span class="fc" id="L1223">		}</span>

	}

	public static class ResetMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {

		private static final long serialVersionUID = 1L;

<span class="fc" id="L1231">		public ResetMenuItemCustomization() {</span>
<span class="fc" id="L1232">			name = &quot;Reset&quot;;</span>
<span class="fc" id="L1233">		}</span>

	}

	public static class UndoMenuItemCustomization extends AbstractStandardActionMenuItemCustomization {

		private static final long serialVersionUID = 1L;

<span class="fc" id="L1241">		public UndoMenuItemCustomization() {</span>
<span class="fc" id="L1242">			name = &quot;Undo&quot;;</span>
<span class="fc" id="L1243">			keyboardShortcut = new KeyboardShortcut(KeyEvent.VK_Z, false, true, false, false, false);</span>
<span class="fc" id="L1244">		}</span>

	}

	public static class MenuCustomization extends AbstractMenuItemCustomization
			implements IMenuItemContainerCustomization {
		private static final long serialVersionUID = 1L;

<span class="fc" id="L1252">		protected List&lt;AbstractMenuItemCustomization&gt; itemCustomizations = new ArrayList&lt;AbstractMenuItemCustomization&gt;();</span>
<span class="fc" id="L1253">		protected List&lt;MenuItemCategoryCustomization&gt; itemCategoryCustomizations = new ArrayList&lt;MenuItemCategoryCustomization&gt;();</span>
		protected KeyboardKey mnemonicKey;

<span class="fc" id="L1256">		public MenuCustomization() {</span>
<span class="fc" id="L1257">			name = &quot;Menu&quot;;</span>
<span class="fc" id="L1258">		}</span>

		@XmlElements({ @XmlElement(name = &quot;menu&quot;, type = MenuCustomization.class),
				@XmlElement(name = &quot;exitMenuItem&quot;, type = ExitMenuItemCustomization.class),
				@XmlElement(name = &quot;helpMenuItem&quot;, type = HelpMenuItemCustomization.class),
				@XmlElement(name = &quot;undoMenuItem&quot;, type = UndoMenuItemCustomization.class),
				@XmlElement(name = &quot;redoMenuItem&quot;, type = RedoMenuItemCustomization.class),
				@XmlElement(name = &quot;resetMenuItem&quot;, type = ResetMenuItemCustomization.class),
				@XmlElement(name = &quot;renewMenuItem&quot;, type = RenewMenuItemCustomization.class),
				@XmlElement(name = &quot;openMenuItem&quot;, type = OpenMenuItemCustomization.class),
				@XmlElement(name = &quot;saveMenuItem&quot;, type = SaveMenuItemCustomization.class),
				@XmlElement(name = &quot;saveAsMenuItem&quot;, type = SaveAsMenuItemCustomization.class) })
		public List&lt;AbstractMenuItemCustomization&gt; getItemCustomizations() {
<span class="fc" id="L1271">			return itemCustomizations;</span>
		}

		public void setItemCustomizations(List&lt;AbstractMenuItemCustomization&gt; itemCustomizations) {
<span class="nc" id="L1275">			this.itemCustomizations = itemCustomizations;</span>
<span class="nc" id="L1276">		}</span>

		@XmlElement(name = &quot;itemCategory&quot;)
		public List&lt;MenuItemCategoryCustomization&gt; getItemCategoryCustomizations() {
<span class="fc" id="L1280">			return itemCategoryCustomizations;</span>
		}

		public void setItemCategoryCustomizations(List&lt;MenuItemCategoryCustomization&gt; itemCategoryCustomizations) {
<span class="nc" id="L1284">			this.itemCategoryCustomizations = itemCategoryCustomizations;</span>
<span class="nc" id="L1285">		}</span>

		public KeyboardKey getMnemonicKey() {
<span class="fc" id="L1288">			return mnemonicKey;</span>
		}

		public void setMnemonicKey(KeyboardKey mnemonicKey) {
<span class="fc" id="L1292">			this.mnemonicKey = mnemonicKey;</span>
<span class="fc" id="L1293">		}</span>

		public void validate() {
<span class="nc bnc" id="L1296" title="All 4 branches missed.">			if ((name == null) || (name.trim().length() == 0)) {</span>
<span class="nc" id="L1297">				throw new ReflectionUIError(&quot;Name not provided&quot;);</span>
			}
<span class="nc" id="L1299">		}</span>

	}

<span class="fc" id="L1303">	public static class MenuModelCustomization extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

<span class="fc" id="L1306">		protected List&lt;MenuCustomization&gt; menuCustomizations = new ArrayList&lt;MenuCustomization&gt;();</span>

		@XmlElement(name = &quot;menu&quot;)
		public List&lt;MenuCustomization&gt; getMenuCustomizations() {
<span class="fc" id="L1310">			return menuCustomizations;</span>
		}

		public void setMenuCustomizations(List&lt;MenuCustomization&gt; menuCustomizations) {
<span class="nc" id="L1314">			this.menuCustomizations = menuCustomizations;</span>
<span class="nc" id="L1315">		}</span>

	}

<span class="fc" id="L1319">	public enum FormSizeUnit {</span>
<span class="fc" id="L1320">		PIXELS, SCREEN_PERCENT</span>
	}

<span class="fc" id="L1323">	public static class FormSizeCustomization extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

<span class="fc" id="L1326">		protected FormSizeUnit unit = FormSizeUnit.PIXELS;</span>
<span class="fc" id="L1327">		protected int value = 500;</span>

		public FormSizeUnit getUnit() {
<span class="fc" id="L1330">			return unit;</span>
		}

		public void setUnit(FormSizeUnit unit) {
<span class="fc" id="L1334">			this.unit = unit;</span>
<span class="fc" id="L1335">		}</span>

		public int getValue() {
<span class="fc" id="L1338">			return value;</span>
		}

		public void setValue(int value) {
<span class="fc" id="L1342">			this.value = value;</span>
<span class="fc" id="L1343">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L1347">			final int prime = 31;</span>
<span class="nc" id="L1348">			int result = 1;</span>
<span class="nc bnc" id="L1349" title="All 2 branches missed.">			result = prime * result + ((unit == null) ? 0 : unit.hashCode());</span>
<span class="nc" id="L1350">			result = prime * result + value;</span>
<span class="nc" id="L1351">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L1356" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L1357">				return true;</span>
<span class="nc bnc" id="L1358" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L1359">				return false;</span>
<span class="nc bnc" id="L1360" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L1361">				return false;</span>
<span class="nc" id="L1362">			FormSizeCustomization other = (FormSizeCustomization) obj;</span>
<span class="nc bnc" id="L1363" title="All 2 branches missed.">			if (unit != other.unit)</span>
<span class="nc" id="L1364">				return false;</span>
<span class="nc bnc" id="L1365" title="All 2 branches missed.">			if (value != other.value)</span>
<span class="nc" id="L1366">				return false;</span>
<span class="nc" id="L1367">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L1372">			return &quot;FormSizeCustomization [unit=&quot; + unit + &quot;, value=&quot; + value + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L1377">	public static class ApplicationCustomization extends AbstractInfoCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected String applicationName;
		protected String customApplicationCaption;
		protected String onlineHelp;
		protected ResourcePath mainBackgroundImagePath;
		protected ColorSpecification mainForegroundColor;
		protected ColorSpecification mainBackgroundColor;
		protected ColorSpecification mainBorderColor;
		protected ColorSpecification mainEditorBackgroundColor;
		protected ColorSpecification mainEditorForegroundColor;
		protected ResourcePath mainButtonBackgroundImagePath;
		protected ColorSpecification mainButtonForegroundColor;
		protected ColorSpecification mainButtonBackgroundColor;
		protected ColorSpecification mainButtonBorderColor;
		protected ColorSpecification titleForegroundColor;
		protected ColorSpecification titleBackgroundColor;
		protected ResourcePath iconImagePath;
		protected boolean systemIntegrationCrossPlatform;
		protected ResourcePath titleCustomFontResourcePath;
		protected ResourcePath labelCustomFontResourcePath;
		protected ResourcePath editorCustomFontResourcePath;
		protected ResourcePath buttonCustomFontResourcePath;

		public String getApplicationName() {
<span class="nc" id="L1403">			return applicationName;</span>
		}

		public void setApplicationName(String applicationName) {
<span class="nc" id="L1407">			this.applicationName = applicationName;</span>
<span class="nc" id="L1408">		}</span>

		public boolean isSystemIntegrationCrossPlatform() {
<span class="fc" id="L1411">			return systemIntegrationCrossPlatform;</span>
		}

		public void setSystemIntegrationCrossPlatform(boolean systemIntegrationCrossPlatform) {
<span class="fc" id="L1415">			this.systemIntegrationCrossPlatform = systemIntegrationCrossPlatform;</span>
<span class="fc" id="L1416">		}</span>

		public String getCustomApplicationCaption() {
<span class="nc" id="L1419">			return customApplicationCaption;</span>
		}

		public ResourcePath getIconImagePath() {
<span class="fc" id="L1423">			return iconImagePath;</span>
		}

		public void setIconImagePath(ResourcePath iconImagePath) {
<span class="fc" id="L1427">			this.iconImagePath = iconImagePath;</span>
<span class="fc" id="L1428">		}</span>

		public void setCustomApplicationCaption(String customApplicationCaption) {
<span class="nc" id="L1431">			this.customApplicationCaption = customApplicationCaption;</span>
<span class="nc" id="L1432">		}</span>

		public String getOnlineHelp() {
<span class="nc" id="L1435">			return onlineHelp;</span>
		}

		public void setOnlineHelp(String onlineHelp) {
<span class="nc" id="L1439">			this.onlineHelp = onlineHelp;</span>
<span class="nc" id="L1440">		}</span>

		public ResourcePath getMainBackgroundImagePath() {
<span class="fc" id="L1443">			return mainBackgroundImagePath;</span>
		}

		public void setMainBackgroundImagePath(ResourcePath mainBackgroundImagePath) {
<span class="nc" id="L1447">			this.mainBackgroundImagePath = mainBackgroundImagePath;</span>
<span class="nc" id="L1448">		}</span>

		public ColorSpecification getMainForegroundColor() {
<span class="fc" id="L1451">			return mainForegroundColor;</span>
		}

		public void setMainForegroundColor(ColorSpecification mainForegroundColor) {
<span class="fc" id="L1455">			this.mainForegroundColor = mainForegroundColor;</span>
<span class="fc" id="L1456">		}</span>

		public ColorSpecification getMainBackgroundColor() {
<span class="fc" id="L1459">			return mainBackgroundColor;</span>
		}

		public void setMainBackgroundColor(ColorSpecification mainBackgroundColor) {
<span class="fc" id="L1463">			this.mainBackgroundColor = mainBackgroundColor;</span>
<span class="fc" id="L1464">		}</span>

		public ColorSpecification getMainEditorBackgroundColor() {
<span class="fc" id="L1467">			return mainEditorBackgroundColor;</span>
		}

		public void setMainEditorBackgroundColor(ColorSpecification mainEditorBackgroundColor) {
<span class="fc" id="L1471">			this.mainEditorBackgroundColor = mainEditorBackgroundColor;</span>
<span class="fc" id="L1472">		}</span>

		public ColorSpecification getMainEditorForegroundColor() {
<span class="fc" id="L1475">			return mainEditorForegroundColor;</span>
		}

		public void setMainEditorForegroundColor(ColorSpecification mainEditorForegroundColor) {
<span class="fc" id="L1479">			this.mainEditorForegroundColor = mainEditorForegroundColor;</span>
<span class="fc" id="L1480">		}</span>

		public ColorSpecification getMainBorderColor() {
<span class="fc" id="L1483">			return mainBorderColor;</span>
		}

		public void setMainBorderColor(ColorSpecification mainBorderColor) {
<span class="fc" id="L1487">			this.mainBorderColor = mainBorderColor;</span>
<span class="fc" id="L1488">		}</span>

		public ColorSpecification getTitleForegroundColor() {
<span class="fc" id="L1491">			return titleForegroundColor;</span>
		}

		public void setTitleForegroundColor(ColorSpecification titleForegroundColor) {
<span class="fc" id="L1495">			this.titleForegroundColor = titleForegroundColor;</span>
<span class="fc" id="L1496">		}</span>

		public ColorSpecification getTitleBackgroundColor() {
<span class="fc" id="L1499">			return titleBackgroundColor;</span>
		}

		public void setTitleBackgroundColor(ColorSpecification titleBackgroundColor) {
<span class="fc" id="L1503">			this.titleBackgroundColor = titleBackgroundColor;</span>
<span class="fc" id="L1504">		}</span>

		public ResourcePath getMainButtonBackgroundImagePath() {
<span class="fc" id="L1507">			return mainButtonBackgroundImagePath;</span>
		}

		public void setMainButtonBackgroundImagePath(ResourcePath mainButtonBackgroundImagePath) {
<span class="fc" id="L1511">			this.mainButtonBackgroundImagePath = mainButtonBackgroundImagePath;</span>
<span class="fc" id="L1512">		}</span>

		public ColorSpecification getMainButtonForegroundColor() {
<span class="fc" id="L1515">			return mainButtonForegroundColor;</span>
		}

		public void setMainButtonForegroundColor(ColorSpecification mainButtonForegroundColor) {
<span class="fc" id="L1519">			this.mainButtonForegroundColor = mainButtonForegroundColor;</span>
<span class="fc" id="L1520">		}</span>

		public ColorSpecification getMainButtonBackgroundColor() {
<span class="fc" id="L1523">			return mainButtonBackgroundColor;</span>
		}

		public void setMainButtonBackgroundColor(ColorSpecification mainButtonBackgroundColor) {
<span class="fc" id="L1527">			this.mainButtonBackgroundColor = mainButtonBackgroundColor;</span>
<span class="fc" id="L1528">		}</span>

		public ColorSpecification getMainButtonBorderColor() {
<span class="fc" id="L1531">			return mainButtonBorderColor;</span>
		}

		public void setMainButtonBorderColor(ColorSpecification mainButtonBorderColor) {
<span class="fc" id="L1535">			this.mainButtonBorderColor = mainButtonBorderColor;</span>
<span class="fc" id="L1536">		}</span>

		public ResourcePath getTitleCustomFontResourcePath() {
<span class="fc" id="L1539">			return titleCustomFontResourcePath;</span>
		}

		public void setTitleCustomFontResourcePath(ResourcePath titleCustomFontResourcePath) {
<span class="nc" id="L1543">			this.titleCustomFontResourcePath = titleCustomFontResourcePath;</span>
<span class="nc" id="L1544">		}</span>

		public ResourcePath getLabelCustomFontResourcePath() {
<span class="fc" id="L1547">			return labelCustomFontResourcePath;</span>
		}

		public void setLabelCustomFontResourcePath(ResourcePath labelCustomFontResourcePath) {
<span class="nc" id="L1551">			this.labelCustomFontResourcePath = labelCustomFontResourcePath;</span>
<span class="nc" id="L1552">		}</span>

		public ResourcePath getEditorCustomFontResourcePath() {
<span class="fc" id="L1555">			return editorCustomFontResourcePath;</span>
		}

		public void setEditorCustomFontResourcePath(ResourcePath editorCustomFontResourcePath) {
<span class="nc" id="L1559">			this.editorCustomFontResourcePath = editorCustomFontResourcePath;</span>
<span class="nc" id="L1560">		}</span>

		public ResourcePath getButtonCustomFontResourcePath() {
<span class="fc" id="L1563">			return buttonCustomFontResourcePath;</span>
		}

		public void setButtonCustomFontResourcePath(ResourcePath buttonCustomFontResourcePath) {
<span class="nc" id="L1567">			this.buttonCustomFontResourcePath = buttonCustomFontResourcePath;</span>
<span class="nc" id="L1568">		}</span>

		@Override
		public String toString() {
<span class="nc" id="L1572">			return &quot;ApplicationCustomization []&quot;;</span>
		}

	}

<span class="fc" id="L1577">	public static class TypeCustomization extends AbstractInfoCustomization implements Comparable&lt;TypeCustomization&gt; {</span>
		private static final long serialVersionUID = 1L;

		protected String typeName;
		protected String baseTypeName;
		protected String customTypeCaption;
		protected String onlineHelp;
<span class="fc" id="L1584">		protected List&lt;FieldCustomization&gt; fieldsCustomizations = new ArrayList&lt;InfoCustomizations.FieldCustomization&gt;();</span>
<span class="fc" id="L1585">		protected List&lt;MethodCustomization&gt; methodsCustomizations = new ArrayList&lt;InfoCustomizations.MethodCustomization&gt;();</span>
		protected List&lt;String&gt; customFieldsOrder;
		protected List&lt;String&gt; customMethodsOrder;
<span class="fc" id="L1588">		protected List&lt;CustomizationCategory&gt; memberCategories = new ArrayList&lt;CustomizationCategory&gt;();</span>
<span class="fc" id="L1589">		protected boolean undoManagementHidden = false;</span>
<span class="fc" id="L1590">		protected boolean immutableForced = false;</span>
<span class="fc" id="L1591">		protected boolean abstractForced = false;</span>
<span class="fc" id="L1592">		protected List&lt;ITypeInfoFinder&gt; polymorphicSubTypeFinders = new ArrayList&lt;ITypeInfoFinder&gt;();</span>
		protected ResourcePath iconImagePath;
		protected ITypeInfo.FieldsLayout fieldsLayout;
		protected ITypeInfo.MethodsLayout methodsLayout;
		protected ITypeInfo.CategoriesStyle categoriesStyle;
<span class="fc" id="L1597">		protected MenuModelCustomization menuModelCustomization = new MenuModelCustomization();</span>
<span class="fc" id="L1598">		protected boolean anyDefaultObjectMemberIncluded = false;</span>
<span class="fc" id="L1599">		protected boolean anyPersistenceMemberIncluded = false;</span>
<span class="fc" id="L1600">		protected List&lt;AbstractVirtualFieldDeclaration&gt; virtualFieldDeclarations = new ArrayList&lt;AbstractVirtualFieldDeclaration&gt;();</span>
		protected FormSizeCustomization formWidth;
		protected FormSizeCustomization formHeight;
		protected ResourcePath formBackgroundImagePath;
		protected ColorSpecification formForegroundColor;
		protected ColorSpecification formBackgroundColor;
		protected ColorSpecification formBorderColor;
		protected ColorSpecification formEditorForegroundColor;
		protected ColorSpecification formEditorBackgroundColor;
		protected ColorSpecification categoriesForegroundColor;
		protected ColorSpecification categoriesBackgroundColor;
		protected ColorSpecification formButtonBackgroundColor;
		protected ColorSpecification formButtonForegroundColor;
		protected ColorSpecification formButtonBorderColor;
		protected ResourcePath formButtonBackgroundImagePath;
		protected String savingMethodName;
		protected String loadingMethodName;
<span class="fc" id="L1617">		protected boolean copyForbidden = false;</span>
		protected Integer formSpacing;
<span class="fc" id="L1619">		protected boolean validationRequirementForced = false;</span>
<span class="fc" id="L1620">		protected List&lt;ImportedFieldDeclaration&gt; importedFieldDeclarations = new ArrayList&lt;ImportedFieldDeclaration&gt;();</span>
<span class="fc" id="L1621">		protected List&lt;ImportedMethodDeclaration&gt; importedMethodDeclarations = new ArrayList&lt;ImportedMethodDeclaration&gt;();</span>
<span class="fc" id="L1622">		protected boolean polymorphicInstanceAbstractTypeOptionAllowed = false;</span>

		@Override
		public boolean isInitial() {
<span class="nc" id="L1626">			TypeCustomization defaultTypeCustomization = new TypeCustomization();</span>
<span class="nc" id="L1627">			defaultTypeCustomization.typeName = typeName;</span>
<span class="nc" id="L1628">			return InfoCustomizations.isSimilar(this, defaultTypeCustomization, &quot;typeName&quot;);</span>
		}

		public boolean isPolymorphicInstanceAbstractTypeOptionAllowed() {
<span class="fc" id="L1632">			return polymorphicInstanceAbstractTypeOptionAllowed;</span>
		}

		public void setPolymorphicInstanceAbstractTypeOptionAllowed(
				boolean polymorphicInstanceAbstractTypeOptionAllowed) {
<span class="fc" id="L1637">			this.polymorphicInstanceAbstractTypeOptionAllowed = polymorphicInstanceAbstractTypeOptionAllowed;</span>
<span class="fc" id="L1638">		}</span>

		@XmlElement(name = &quot;importedFieldDeclaration&quot;)
		public List&lt;ImportedFieldDeclaration&gt; getImportedFieldDeclarations() {
<span class="fc" id="L1642">			return importedFieldDeclarations;</span>
		}

		public void setImportedFieldDeclarations(List&lt;ImportedFieldDeclaration&gt; importedFieldDeclarations) {
<span class="nc" id="L1646">			this.importedFieldDeclarations = importedFieldDeclarations;</span>
<span class="nc" id="L1647">		}</span>

		@XmlElement(name = &quot;importedMethodDeclaration&quot;)
		public List&lt;ImportedMethodDeclaration&gt; getImportedMethodDeclarations() {
<span class="fc" id="L1651">			return importedMethodDeclarations;</span>
		}

		public void setImportedMethodDeclarations(List&lt;ImportedMethodDeclaration&gt; importedMethodDeclarations) {
<span class="nc" id="L1655">			this.importedMethodDeclarations = importedMethodDeclarations;</span>
<span class="nc" id="L1656">		}</span>

		public boolean isValidationRequirementForced() {
<span class="fc" id="L1659">			return validationRequirementForced;</span>
		}

		public void setValidationRequirementForced(boolean validationRequirementForced) {
<span class="fc" id="L1663">			this.validationRequirementForced = validationRequirementForced;</span>
<span class="fc" id="L1664">		}</span>

		public Integer getFormSpacing() {
<span class="fc" id="L1667">			return formSpacing;</span>
		}

		public void setFormSpacing(Integer formSpacing) {
<span class="fc" id="L1671">			this.formSpacing = formSpacing;</span>
<span class="fc" id="L1672">		}</span>

		public String getBaseTypeName() {
<span class="fc" id="L1675">			return baseTypeName;</span>
		}

		public void setBaseTypeName(String baseTypeName) {
<span class="fc" id="L1679">			this.baseTypeName = baseTypeName;</span>
<span class="fc" id="L1680">		}</span>

		public boolean isCopyForbidden() {
<span class="fc" id="L1683">			return copyForbidden;</span>
		}

		public void setCopyForbidden(boolean copyForbidden) {
<span class="fc" id="L1687">			this.copyForbidden = copyForbidden;</span>
<span class="fc" id="L1688">		}</span>

		public String getSavingMethodName() {
<span class="fc" id="L1691">			return savingMethodName;</span>
		}

		public void setSavingMethodName(String savingMethodName) {
<span class="fc" id="L1695">			this.savingMethodName = savingMethodName;</span>
<span class="fc" id="L1696">		}</span>

		public List&lt;String&gt; getSavingMethodNameOptions(ReflectionUI reflectionUI) {
			Class&lt;?&gt; javaType;
			try {
<span class="nc" id="L1701">				javaType = reflectionUI.getReflectedClass(typeName);</span>
<span class="nc" id="L1702">			} catch (ClassNotFoundException e) {</span>
<span class="nc" id="L1703">				return Collections.emptyList();</span>
			}
<span class="nc" id="L1705">			List&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>
<span class="nc bnc" id="L1706" title="All 2 branches missed.">			for (Method method : javaType.getMethods()) {</span>
<span class="nc bnc" id="L1707" title="All 2 branches missed.">				if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="nc" id="L1708">					continue;</span>
				}
<span class="nc bnc" id="L1710" title="All 2 branches missed.">				if (!method.getReturnType().equals(void.class)) {</span>
<span class="nc" id="L1711">					continue;</span>
				}
<span class="nc" id="L1713">				List&lt;Parameter&gt; parameters = ClassUtils.getJavaParameters(method);</span>
<span class="nc bnc" id="L1714" title="All 2 branches missed.">				if (parameters.size() != 1) {</span>
<span class="nc" id="L1715">					continue;</span>
				}
<span class="nc bnc" id="L1717" title="All 2 branches missed.">				if (!parameters.get(0).getType().equals(File.class)) {</span>
<span class="nc" id="L1718">					continue;</span>
				}
<span class="nc" id="L1720">				result.add(method.getName());</span>
			}
<span class="nc" id="L1722">			Collections.sort(result);</span>
<span class="nc" id="L1723">			return result;</span>
		}

		public String getLoadingMethodName() {
<span class="fc" id="L1727">			return loadingMethodName;</span>
		}

		public void setLoadingMethodName(String loadingMethodName) {
<span class="fc" id="L1731">			this.loadingMethodName = loadingMethodName;</span>
<span class="fc" id="L1732">		}</span>

		public List&lt;String&gt; getLoadingMethodNameOptions(ReflectionUI reflectionUI) {
			Class&lt;?&gt; javaType;
			try {
<span class="nc" id="L1737">				javaType = reflectionUI.getReflectedClass(typeName);</span>
<span class="nc" id="L1738">			} catch (ClassNotFoundException e) {</span>
<span class="nc" id="L1739">				return Collections.emptyList();</span>
			}
<span class="nc" id="L1741">			List&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>
<span class="nc bnc" id="L1742" title="All 2 branches missed.">			for (Method method : javaType.getMethods()) {</span>
<span class="nc bnc" id="L1743" title="All 2 branches missed.">				if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="nc" id="L1744">					continue;</span>
				}
<span class="nc bnc" id="L1746" title="All 2 branches missed.">				if (!method.getReturnType().equals(void.class)) {</span>
<span class="nc" id="L1747">					continue;</span>
				}
<span class="nc" id="L1749">				List&lt;Parameter&gt; parameters = ClassUtils.getJavaParameters(method);</span>
<span class="nc bnc" id="L1750" title="All 2 branches missed.">				if (parameters.size() != 1) {</span>
<span class="nc" id="L1751">					continue;</span>
				}
<span class="nc bnc" id="L1753" title="All 2 branches missed.">				if (!parameters.get(0).getType().equals(File.class)) {</span>
<span class="nc" id="L1754">					continue;</span>
				}
<span class="nc" id="L1756">				result.add(method.getName());</span>
			}
<span class="nc" id="L1758">			Collections.sort(result);</span>
<span class="nc" id="L1759">			return result;</span>
		}

		public boolean isAnyPersistenceMemberIncluded() {
<span class="fc" id="L1763">			return anyPersistenceMemberIncluded;</span>
		}

		public void setAnyPersistenceMemberIncluded(boolean anyPersistenceMemberIncluded) {
<span class="fc" id="L1767">			this.anyPersistenceMemberIncluded = anyPersistenceMemberIncluded;</span>
<span class="fc" id="L1768">		}</span>

		public ITypeInfo.CategoriesStyle getCategoriesStyle() {
<span class="fc" id="L1771">			return categoriesStyle;</span>
		}

		public void setCategoriesStyle(ITypeInfo.CategoriesStyle categoriesStyle) {
<span class="fc" id="L1775">			this.categoriesStyle = categoriesStyle;</span>
<span class="fc" id="L1776">		}</span>

		public ResourcePath getFormBackgroundImagePath() {
<span class="fc" id="L1779">			return formBackgroundImagePath;</span>
		}

		public void setFormBackgroundImagePath(ResourcePath formBackgroundImagePath) {
<span class="fc" id="L1783">			this.formBackgroundImagePath = formBackgroundImagePath;</span>
<span class="fc" id="L1784">		}</span>

		public ColorSpecification getFormBackgroundColor() {
<span class="fc" id="L1787">			return formBackgroundColor;</span>
		}

		public void setFormBackgroundColor(ColorSpecification formBackgroundColor) {
<span class="fc" id="L1791">			this.formBackgroundColor = formBackgroundColor;</span>
<span class="fc" id="L1792">		}</span>

		public ColorSpecification getFormForegroundColor() {
<span class="fc" id="L1795">			return formForegroundColor;</span>
		}

		public void setFormForegroundColor(ColorSpecification formForegroundColor) {
<span class="fc" id="L1799">			this.formForegroundColor = formForegroundColor;</span>
<span class="fc" id="L1800">		}</span>

		public ColorSpecification getFormBorderColor() {
<span class="fc" id="L1803">			return formBorderColor;</span>
		}

		public void setFormBorderColor(ColorSpecification formBorderColor) {
<span class="fc" id="L1807">			this.formBorderColor = formBorderColor;</span>
<span class="fc" id="L1808">		}</span>

		public ColorSpecification getFormEditorForegroundColor() {
<span class="fc" id="L1811">			return formEditorForegroundColor;</span>
		}

		public void setFormEditorForegroundColor(ColorSpecification formEditorForegroundColor) {
<span class="fc" id="L1815">			this.formEditorForegroundColor = formEditorForegroundColor;</span>
<span class="fc" id="L1816">		}</span>

		public ColorSpecification getFormEditorBackgroundColor() {
<span class="fc" id="L1819">			return formEditorBackgroundColor;</span>
		}

		public void setFormEditorBackgroundColor(ColorSpecification formEditorBackgroundColor) {
<span class="fc" id="L1823">			this.formEditorBackgroundColor = formEditorBackgroundColor;</span>
<span class="fc" id="L1824">		}</span>

		public ColorSpecification getFormButtonBackgroundColor() {
<span class="fc" id="L1827">			return formButtonBackgroundColor;</span>
		}

		public void setFormButtonBackgroundColor(ColorSpecification formButtonBackgroundColor) {
<span class="fc" id="L1831">			this.formButtonBackgroundColor = formButtonBackgroundColor;</span>
<span class="fc" id="L1832">		}</span>

		public ColorSpecification getFormButtonForegroundColor() {
<span class="fc" id="L1835">			return formButtonForegroundColor;</span>
		}

		public void setFormButtonForegroundColor(ColorSpecification formButtonForegroundColor) {
<span class="nc" id="L1839">			this.formButtonForegroundColor = formButtonForegroundColor;</span>
<span class="nc" id="L1840">		}</span>

		public ColorSpecification getFormButtonBorderColor() {
<span class="fc" id="L1843">			return formButtonBorderColor;</span>
		}

		public void setFormButtonBorderColor(ColorSpecification formButtonBorderColor) {
<span class="fc" id="L1847">			this.formButtonBorderColor = formButtonBorderColor;</span>
<span class="fc" id="L1848">		}</span>

		public ResourcePath getFormButtonBackgroundImagePath() {
<span class="fc" id="L1851">			return formButtonBackgroundImagePath;</span>
		}

		public void setFormButtonBackgroundImagePath(ResourcePath formButtonBackgroundImagePath) {
<span class="nc" id="L1855">			this.formButtonBackgroundImagePath = formButtonBackgroundImagePath;</span>
<span class="nc" id="L1856">		}</span>

		public ColorSpecification getCategoriesForegroundColor() {
<span class="fc" id="L1859">			return categoriesForegroundColor;</span>
		}

		public void setCategoriesForegroundColor(ColorSpecification categoriesForegroundColor) {
<span class="nc" id="L1863">			this.categoriesForegroundColor = categoriesForegroundColor;</span>
<span class="nc" id="L1864">		}</span>

		public ColorSpecification getCategoriesBackgroundColor() {
<span class="fc" id="L1867">			return categoriesBackgroundColor;</span>
		}

		public void setCategoriesBackgroundColor(ColorSpecification categoriesBackgroundColor) {
<span class="fc" id="L1871">			this.categoriesBackgroundColor = categoriesBackgroundColor;</span>
<span class="fc" id="L1872">		}</span>

		public FormSizeCustomization getFormWidth() {
<span class="fc" id="L1875">			return formWidth;</span>
		}

		public void setFormWidth(FormSizeCustomization formWidth) {
<span class="fc" id="L1879">			this.formWidth = formWidth;</span>
<span class="fc" id="L1880">		}</span>

		public FormSizeCustomization getFormHeight() {
<span class="fc" id="L1883">			return formHeight;</span>
		}

		public void setFormHeight(FormSizeCustomization formHeight) {
<span class="fc" id="L1887">			this.formHeight = formHeight;</span>
<span class="fc" id="L1888">		}</span>

		@XmlElements({ @XmlElement(name = &quot;virtualFieldDeclaration&quot;, type = VirtualFieldDeclaration.class),
				@XmlElement(name = &quot;implicitListFieldDeclaration&quot;, type = ImplicitListFieldDeclaration.class) })
		public List&lt;AbstractVirtualFieldDeclaration&gt; getVirtualFieldDeclarations() {
<span class="fc" id="L1893">			return virtualFieldDeclarations;</span>
		}

		public void setVirtualFieldDeclarations(List&lt;AbstractVirtualFieldDeclaration&gt; virtualFieldDeclarations) {
<span class="nc" id="L1897">			this.virtualFieldDeclarations = virtualFieldDeclarations;</span>
<span class="nc" id="L1898">		}</span>

		public boolean isAnyDefaultObjectMemberIncluded() {
<span class="fc" id="L1901">			return anyDefaultObjectMemberIncluded;</span>
		}

		public void setAnyDefaultObjectMemberIncluded(boolean anyDefaultObjectMemberIncluded) {
<span class="fc" id="L1905">			this.anyDefaultObjectMemberIncluded = anyDefaultObjectMemberIncluded;</span>
<span class="fc" id="L1906">		}</span>

		@XmlElement(name = &quot;menuModel&quot;)
		public MenuModelCustomization getMenuModelCustomization() {
<span class="fc" id="L1910">			return menuModelCustomization;</span>
		}

		public void setMenuModelCustomization(MenuModelCustomization menuModelCustomization) {
<span class="fc" id="L1914">			this.menuModelCustomization = menuModelCustomization;</span>
<span class="fc" id="L1915">		}</span>

		public ITypeInfo.FieldsLayout getFieldsLayout() {
<span class="fc" id="L1918">			return fieldsLayout;</span>
		}

		public void setFieldsLayout(ITypeInfo.FieldsLayout fieldsLayout) {
<span class="fc" id="L1922">			this.fieldsLayout = fieldsLayout;</span>
<span class="fc" id="L1923">		}</span>

		public ITypeInfo.MethodsLayout getMethodsLayout() {
<span class="fc" id="L1926">			return methodsLayout;</span>
		}

		public void setMethodsLayout(ITypeInfo.MethodsLayout methodsLayout) {
<span class="fc" id="L1930">			this.methodsLayout = methodsLayout;</span>
<span class="fc" id="L1931">		}</span>

		public ResourcePath getIconImagePath() {
<span class="fc" id="L1934">			return iconImagePath;</span>
		}

		public void setIconImagePath(ResourcePath iconImagePath) {
<span class="fc" id="L1938">			this.iconImagePath = iconImagePath;</span>
<span class="fc" id="L1939">		}</span>

		public String getTypeName() {
<span class="fc" id="L1942">			return typeName;</span>
		}

		public void setTypeName(String typeName) {
<span class="fc" id="L1946">			this.typeName = typeName;</span>
<span class="fc" id="L1947">		}</span>

		public boolean isAbstractForced() {
<span class="fc" id="L1950">			return abstractForced;</span>
		}

		public void setAbstractForced(boolean abtractForced) {
<span class="fc" id="L1954">			this.abstractForced = abtractForced;</span>
<span class="fc" id="L1955">		}</span>

		public boolean isImmutableForced() {
<span class="fc" id="L1958">			return immutableForced;</span>
		}

		public void setImmutableForced(boolean immutableForced) {
<span class="fc" id="L1962">			this.immutableForced = immutableForced;</span>
<span class="fc" id="L1963">		}</span>

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public List&lt;ITypeInfoFinder&gt; getPolymorphicSubTypeFinders() {
<span class="fc" id="L1968">			return polymorphicSubTypeFinders;</span>
		}

		public void setPolymorphicSubTypeFinders(List&lt;ITypeInfoFinder&gt; polymorphicSubTypeFinders) {
<span class="nc" id="L1972">			this.polymorphicSubTypeFinders = polymorphicSubTypeFinders;</span>
<span class="nc" id="L1973">		}</span>

		@XmlElement(name = &quot;memberCategory&quot;)
		public List&lt;CustomizationCategory&gt; getMemberCategories() {
<span class="fc" id="L1977">			return memberCategories;</span>
		}

		public void setMemberCategories(List&lt;CustomizationCategory&gt; memberCategories) {
<span class="nc" id="L1981">			this.memberCategories = memberCategories;</span>
<span class="nc" id="L1982">		}</span>

		@XmlElement(name = &quot;customFieldsOrderEntry&quot;)
		public List&lt;String&gt; getCustomFieldsOrder() {
<span class="fc" id="L1986">			return customFieldsOrder;</span>
		}

		public void setCustomFieldsOrder(List&lt;String&gt; customFieldsOrder) {
<span class="fc" id="L1990">			this.customFieldsOrder = customFieldsOrder;</span>
<span class="fc" id="L1991">		}</span>

		@XmlElement(name = &quot;customMethodsOrderEntry&quot;)
		public List&lt;String&gt; getCustomMethodsOrder() {
<span class="fc" id="L1995">			return customMethodsOrder;</span>
		}

		public void setCustomMethodsOrder(List&lt;String&gt; customMethodsOrder) {
<span class="fc" id="L1999">			this.customMethodsOrder = customMethodsOrder;</span>
<span class="fc" id="L2000">		}</span>

		public String getCustomTypeCaption() {
<span class="fc" id="L2003">			return customTypeCaption;</span>
		}

		public void setCustomTypeCaption(String customTypeCaption) {
<span class="fc" id="L2007">			this.customTypeCaption = customTypeCaption;</span>
<span class="fc" id="L2008">		}</span>

		@XmlElement(name = &quot;fieldsCustomization&quot;)
		public List&lt;FieldCustomization&gt; getFieldsCustomizations() {
<span class="fc" id="L2012">			return fieldsCustomizations;</span>
		}

		public void setFieldsCustomizations(List&lt;FieldCustomization&gt; fieldsCustomizations) {
<span class="nc" id="L2016">			this.fieldsCustomizations = fieldsCustomizations;</span>
<span class="nc" id="L2017">		}</span>

		@XmlElement(name = &quot;methodsCustomization&quot;)
		public List&lt;MethodCustomization&gt; getMethodsCustomizations() {
<span class="fc" id="L2021">			return methodsCustomizations;</span>
		}

		public void setMethodsCustomizations(List&lt;MethodCustomization&gt; methodsCustomizations) {
<span class="nc" id="L2025">			this.methodsCustomizations = methodsCustomizations;</span>
<span class="nc" id="L2026">		}</span>

		public String getOnlineHelp() {
<span class="fc" id="L2029">			return onlineHelp;</span>
		}

		public void setOnlineHelp(String onlineHelp) {
<span class="fc" id="L2033">			this.onlineHelp = onlineHelp;</span>
<span class="fc" id="L2034">		}</span>

		public boolean isUndoManagementHidden() {
<span class="fc" id="L2037">			return undoManagementHidden;</span>
		}

		public void setUndoManagementHidden(boolean undoManagementHidden) {
<span class="fc" id="L2041">			this.undoManagementHidden = undoManagementHidden;</span>
<span class="fc" id="L2042">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L2046">			final int prime = 31;</span>
<span class="nc" id="L2047">			int result = 1;</span>
<span class="nc bnc" id="L2048" title="All 2 branches missed.">			result = prime * result + ((typeName == null) ? 0 : typeName.hashCode());</span>
<span class="nc" id="L2049">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L2054" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L2055">				return true;</span>
<span class="nc bnc" id="L2056" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L2057">				return false;</span>
<span class="nc bnc" id="L2058" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L2059">				return false;</span>
<span class="nc" id="L2060">			TypeCustomization other = (TypeCustomization) obj;</span>
<span class="nc bnc" id="L2061" title="All 2 branches missed.">			if (typeName == null) {</span>
<span class="nc bnc" id="L2062" title="All 2 branches missed.">				if (other.typeName != null)</span>
<span class="nc" id="L2063">					return false;</span>
<span class="nc bnc" id="L2064" title="All 2 branches missed.">			} else if (!typeName.equals(other.typeName))</span>
<span class="nc" id="L2065">				return false;</span>
<span class="nc" id="L2066">			return true;</span>
		}

		@Override
		public int compareTo(TypeCustomization o) {
<span class="nc" id="L2071">			return MiscUtils.compareNullables(typeName, o.typeName);</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L2076">			return &quot;TypeCustomization [typeName=&quot; + typeName + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L2081">	public static class CustomizationCategory extends AbstractCustomization implements Serializable {</span>

		private static final long serialVersionUID = 1L;

		protected String name;
		protected String customCaption;
		protected ResourcePath iconImagePath;

		public String getName() {
<span class="fc" id="L2090">			return name;</span>
		}

		public void setName(String name) {
<span class="fc" id="L2094">			this.name = name;</span>
<span class="fc" id="L2095">		}</span>

		public String getCustomCaption() {
<span class="nc" id="L2098">			return customCaption;</span>
		}

		public void setCustomCaption(String customCaption) {
<span class="fc" id="L2102">			this.customCaption = customCaption;</span>
<span class="fc" id="L2103">		}</span>

		public String getCaption() {
<span class="fc bfc" id="L2106" title="All 2 branches covered.">			if (customCaption != null) {</span>
<span class="fc" id="L2107">				return customCaption;</span>
			}
<span class="fc" id="L2109">			return ReflectionUIUtils.identifierToCaption(name);</span>
		}

		public void setCaption(String caption) {
<span class="pc bpc" id="L2113" title="1 of 2 branches missed.">			if (name == null) {</span>
<span class="fc" id="L2114">				this.name = caption;</span>
<span class="fc" id="L2115">				return;</span>
			}
<span class="nc" id="L2117">			this.customCaption = caption;</span>
<span class="nc" id="L2118">		}</span>

		public ResourcePath getIconImagePath() {
<span class="fc" id="L2121">			return iconImagePath;</span>
		}

		public void setIconImagePath(ResourcePath iconImagePath) {
<span class="nc" id="L2125">			this.iconImagePath = iconImagePath;</span>
<span class="nc" id="L2126">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L2130">			final int prime = 31;</span>
<span class="nc" id="L2131">			int result = 1;</span>
<span class="nc bnc" id="L2132" title="All 2 branches missed.">			result = prime * result + ((customCaption == null) ? 0 : customCaption.hashCode());</span>
<span class="nc bnc" id="L2133" title="All 2 branches missed.">			result = prime * result + ((iconImagePath == null) ? 0 : iconImagePath.hashCode());</span>
<span class="nc bnc" id="L2134" title="All 2 branches missed.">			result = prime * result + ((name == null) ? 0 : name.hashCode());</span>
<span class="nc" id="L2135">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L2140" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L2141">				return true;</span>
<span class="nc bnc" id="L2142" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L2143">				return false;</span>
<span class="nc bnc" id="L2144" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L2145">				return false;</span>
<span class="nc" id="L2146">			CustomizationCategory other = (CustomizationCategory) obj;</span>
<span class="nc bnc" id="L2147" title="All 2 branches missed.">			if (customCaption == null) {</span>
<span class="nc bnc" id="L2148" title="All 2 branches missed.">				if (other.customCaption != null)</span>
<span class="nc" id="L2149">					return false;</span>
<span class="nc bnc" id="L2150" title="All 2 branches missed.">			} else if (!customCaption.equals(other.customCaption))</span>
<span class="nc" id="L2151">				return false;</span>
<span class="nc bnc" id="L2152" title="All 2 branches missed.">			if (iconImagePath == null) {</span>
<span class="nc bnc" id="L2153" title="All 2 branches missed.">				if (other.iconImagePath != null)</span>
<span class="nc" id="L2154">					return false;</span>
<span class="nc bnc" id="L2155" title="All 2 branches missed.">			} else if (!iconImagePath.equals(other.iconImagePath))</span>
<span class="nc" id="L2156">				return false;</span>
<span class="nc bnc" id="L2157" title="All 2 branches missed.">			if (name == null) {</span>
<span class="nc bnc" id="L2158" title="All 2 branches missed.">				if (other.name != null)</span>
<span class="nc" id="L2159">					return false;</span>
<span class="nc bnc" id="L2160" title="All 2 branches missed.">			} else if (!name.equals(other.name))</span>
<span class="nc" id="L2161">				return false;</span>
<span class="nc" id="L2162">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L2167">			return &quot;CustomizationCategory [name=&quot; + name + &quot;, customCaption=&quot; + customCaption + &quot;, iconImagePath=&quot;</span>
<span class="nc" id="L2168">					+ iconImagePath + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L2173">	public static abstract class AbstractMemberCustomization extends AbstractInfoCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected String categoryName;
<span class="fc" id="L2177">		protected boolean hidden = false;</span>
		protected String onlineHelp;
		protected String relevanceStatusFieldName;

		public boolean isHidden() {
<span class="fc" id="L2182">			return hidden;</span>
		}

		public void setHidden(boolean hidden) {
<span class="fc" id="L2186">			this.hidden = hidden;</span>
<span class="fc" id="L2187">		}</span>

		public String getRelevanceStatusFieldName() {
<span class="fc" id="L2190">			return relevanceStatusFieldName;</span>
		}

		public void setRelevanceStatusFieldName(String relevanceStatusFieldName) {
<span class="fc" id="L2194">			this.relevanceStatusFieldName = relevanceStatusFieldName;</span>
<span class="fc" id="L2195">		}</span>

		public String getCategoryName() {
<span class="fc" id="L2198">			return categoryName;</span>
		}

		public void setCategoryName(String categoryName) {
<span class="fc" id="L2202">			this.categoryName = categoryName;</span>
<span class="fc" id="L2203">		}</span>

		@Deprecated
		public String getCategoryCaption() {
<span class="nc" id="L2207">			return categoryName;</span>
		}

		@Deprecated
		public void setCategoryCaption(String categoryCaption) {
<span class="fc" id="L2212">			this.categoryName = categoryCaption;</span>
<span class="fc" id="L2213">		}</span>

		@Deprecated
		public CustomizationCategory getCategory() {
<span class="nc bnc" id="L2217" title="All 2 branches missed.">			if (categoryName == null) {</span>
<span class="nc" id="L2218">				return null;</span>
			} else {
<span class="nc" id="L2220">				CustomizationCategory result = new CustomizationCategory();</span>
<span class="nc" id="L2221">				result.setCaption(categoryName);</span>
<span class="nc" id="L2222">				return result;</span>
			}
		}

		@Deprecated
		public void setCategory(CustomizationCategory category) {
<span class="pc bpc" id="L2228" title="1 of 2 branches missed.">			if (category == null) {</span>
<span class="nc" id="L2229">				this.categoryName = null;</span>
<span class="nc" id="L2230">			} else {</span>
<span class="fc" id="L2231">				this.categoryName = category.getCaption();</span>
			}
<span class="fc" id="L2233">		}</span>

		public String getOnlineHelp() {
<span class="fc" id="L2236">			return onlineHelp;</span>
		}

		public void setOnlineHelp(String onlineHelp) {
<span class="fc" id="L2240">			this.onlineHelp = onlineHelp;</span>
<span class="fc" id="L2241">		}</span>
	}

<span class="fc" id="L2244">	public static class FieldTypeSpecificities extends InfoCustomizations {</span>
		private static final long serialVersionUID = 1L;

	}

<span class="fc" id="L2249">	public static class ConversionMethodFinder extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected static final String NON_STATIC_METHOD_OWNER_AS_PARAMETER_NAME = &quot;(The method owner)&quot;;

		protected String conversionClassName;
		protected String conversionMethodSignature;
<span class="fc" id="L2256">		protected int chosenParameterPosition = -1;</span>
<span class="fc" id="L2257">		protected Map&lt;Integer, TextualStorage&gt; otherParameterValueStorages = new HashMap&lt;Integer, InfoCustomizations.TextualStorage&gt;();</span>

		public String getConversionClassName() {
<span class="fc" id="L2260">			return conversionClassName;</span>
		}

		public void setConversionClassName(String conversionClassName) {
<span class="fc" id="L2264">			this.conversionClassName = conversionClassName;</span>
<span class="fc" id="L2265">		}</span>

		public String getConversionMethodSignature() {
<span class="fc" id="L2268">			return conversionMethodSignature;</span>
		}

		public void setConversionMethodSignature(String conversionMethodSignature) {
<span class="fc" id="L2272">			this.conversionMethodSignature = conversionMethodSignature;</span>
<span class="fc" id="L2273">		}</span>

		public int getChosenParameterPosition() {
<span class="fc" id="L2276">			return chosenParameterPosition;</span>
		}

		public void setChosenParameterPosition(int chosenParameterPosition) {
<span class="fc" id="L2280">			this.chosenParameterPosition = chosenParameterPosition;</span>
<span class="fc" id="L2281">		}</span>

		public Map&lt;Integer, TextualStorage&gt; getOtherParameterValueStorages() {
<span class="fc" id="L2284">			return otherParameterValueStorages;</span>
		}

		public void setOtherParameterValueStorages(Map&lt;Integer, TextualStorage&gt; otherParameterValueStorages) {
<span class="fc" id="L2288">			this.otherParameterValueStorages = otherParameterValueStorages;</span>
<span class="fc" id="L2289">		}</span>

		public List&lt;String&gt; getConversionMethodSignatureOptions(ReflectionUI reflectionUI) {
			Class&lt;?&gt; conversionClass;
			try {
<span class="nc" id="L2294">				conversionClass = reflectionUI.getReflectedClass(conversionClassName);</span>
<span class="nc" id="L2295">			} catch (Exception e) {</span>
<span class="nc" id="L2296">				return Collections.emptyList();</span>
			}
<span class="nc" id="L2298">			List&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>
<span class="nc bnc" id="L2299" title="All 2 branches missed.">			for (Constructor&lt;?&gt; ctor : conversionClass.getConstructors()) {</span>
<span class="nc bnc" id="L2300" title="All 2 branches missed.">				if (ctor.getParameterTypes().length &gt;= 1) {</span>
<span class="nc" id="L2301">					result.add(ReflectionUIUtils.buildMethodSignature(</span>
<span class="nc" id="L2302">							new DefaultConstructorInfo(ReflectionUI.getDefault(), ctor, conversionClass)));</span>
				}
			}
<span class="nc bnc" id="L2305" title="All 2 branches missed.">			for (Method method : conversionClass.getMethods()) {</span>
<span class="nc bnc" id="L2306" title="All 2 branches missed.">				if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="nc bnc" id="L2307" title="All 2 branches missed.">					if (method.getParameterTypes().length &gt;= 1) {</span>
<span class="nc bnc" id="L2308" title="All 2 branches missed.">						if (!method.getReturnType().equals(void.class)) {</span>
<span class="nc" id="L2309">							result.add(ReflectionUIUtils.buildMethodSignature(</span>
<span class="nc" id="L2310">									new DefaultMethodInfo(ReflectionUI.getDefault(), method, conversionClass)));</span>
						}
					}
<span class="nc" id="L2313">				} else {</span>
<span class="nc bnc" id="L2314" title="All 2 branches missed.">					if (method.getParameterTypes().length &gt;= 0) {</span>
<span class="nc bnc" id="L2315" title="All 2 branches missed.">						if (!method.getReturnType().equals(void.class)) {</span>
<span class="nc" id="L2316">							result.add(ReflectionUIUtils.buildMethodSignature(</span>
<span class="nc" id="L2317">									new DefaultMethodInfo(ReflectionUI.getDefault(), method, conversionClass)));</span>
						}
					}
				}
			}
<span class="nc" id="L2322">			Collections.sort(result);</span>
<span class="nc" id="L2323">			return result;</span>
		}

		public IConverter find(ReflectionUI reflectionUI) {
<span class="pc bpc" id="L2327" title="2 of 4 branches missed.">			if ((conversionClassName == null) || (conversionClassName.length() == 0)) {</span>
<span class="nc" id="L2328">				return null;</span>
			}
			try {
<span class="fc" id="L2331">				final Class&lt;?&gt; conversionClass = reflectionUI.getReflectedClass(conversionClassName);</span>
<span class="pc bpc" id="L2332" title="2 of 4 branches missed.">				if ((conversionMethodSignature == null) || (conversionMethodSignature.length() == 0)) {</span>
<span class="nc" id="L2333">					throw new ReflectionUIError(&quot;Conversion method not specified!&quot;);</span>
				}
<span class="fc" id="L2335">				final String conversionMethodName = ReflectionUIUtils</span>
<span class="fc" id="L2336">						.extractMethodNameFromSignature(conversionMethodSignature);</span>
<span class="fc" id="L2337">				String[] conversionMethodParameterTypeNames = ReflectionUIUtils</span>
<span class="fc" id="L2338">						.extractMethodParameterTypeNamesFromSignature(conversionMethodSignature);</span>
<span class="fc" id="L2339">				final Class&lt;?&gt;[] conversionMethodParameterTypes = new Class&lt;?&gt;[conversionMethodParameterTypeNames.length];</span>
<span class="fc bfc" id="L2340" title="All 2 branches covered.">				for (int i = 0; i &lt; conversionMethodParameterTypeNames.length; i++) {</span>
<span class="fc" id="L2341">					conversionMethodParameterTypes[i] = reflectionUI</span>
<span class="fc" id="L2342">							.getReflectedClass(conversionMethodParameterTypeNames[i]);</span>
				}
<span class="pc bpc" id="L2344" title="1 of 2 branches missed.">				if (conversionMethodName == null) {</span>
<span class="nc" id="L2345">					throw new ReflectionUIError(&quot;Malformed method signature: '&quot; + conversionMethodSignature + &quot;'&quot;);</span>
				}
<span class="fc bfc" id="L2347" title="All 2 branches covered.">				if (conversionMethodName.length() == 0) {</span>
<span class="fc" id="L2348">					return new ConstructorBasedConverter(reflectionUI, this, conversionClass,</span>
<span class="fc" id="L2349">							conversionMethodParameterTypes);</span>
				} else {
<span class="fc" id="L2351">					return new MethodBasedConverter(reflectionUI, this, conversionClass, conversionMethodName,</span>
<span class="fc" id="L2352">							conversionMethodParameterTypes);</span>
				}
<span class="nc" id="L2354">			} catch (Throwable t) {</span>
<span class="nc" id="L2355">				throw new ReflectionUIError(t);</span>
			}
		}

		protected Executable getExecutable(Filter&lt;Object&gt; converter) {
<span class="nc bnc" id="L2360" title="All 2 branches missed.">			if (converter instanceof ConstructorBasedConverter) {</span>
<span class="nc" id="L2361">				return ((ConstructorBasedConverter) converter).getConstructor();</span>
<span class="nc bnc" id="L2362" title="All 2 branches missed.">			} else if (converter instanceof MethodBasedConverter) {</span>
<span class="nc" id="L2363">				return ((MethodBasedConverter) converter).getMethod();</span>
			} else {
<span class="nc" id="L2365">				throw new ReflectionUIError();</span>
			}
		}

		protected String getParameterName(Class&lt;?&gt; conversionClass, Executable executable, int parameterPosition) {
<span class="nc bnc" id="L2370" title="All 2 branches missed.">			if (executable instanceof Constructor) {</span>
<span class="nc" id="L2371">				DefaultConstructorInfo constructorInfo = new DefaultConstructorInfo(ReflectionUI.getDefault(),</span>
<span class="nc" id="L2372">						(Constructor&lt;?&gt;) executable, conversionClass);</span>
<span class="nc" id="L2373">				List&lt;IParameterInfo&gt; paramInfos = constructorInfo.getParameters();</span>
<span class="nc bnc" id="L2374" title="All 2 branches missed.">				if (parameterPosition &gt;= paramInfos.size()) {</span>
<span class="nc" id="L2375">					return null;</span>
				}
<span class="nc" id="L2377">				IParameterInfo paramInfo = paramInfos.get(parameterPosition);</span>
<span class="nc" id="L2378">				return paramInfo.getName();</span>
<span class="nc bnc" id="L2379" title="All 2 branches missed.">			} else if (executable instanceof Method) {</span>
<span class="nc" id="L2380">				Method method = (Method) executable;</span>
<span class="nc" id="L2381">				DefaultMethodInfo methodInfo = new DefaultMethodInfo(ReflectionUI.getDefault(), method,</span>
<span class="nc" id="L2382">						conversionClass);</span>
<span class="nc" id="L2383">				List&lt;IParameterInfo&gt; paramInfos = methodInfo.getParameters();</span>
<span class="nc bnc" id="L2384" title="All 2 branches missed.">				if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="nc bnc" id="L2385" title="All 2 branches missed.">					if (parameterPosition &gt;= paramInfos.size()) {</span>
<span class="nc" id="L2386">						return null;</span>
					}
<span class="nc" id="L2388">					IParameterInfo paramInfo = paramInfos.get(parameterPosition);</span>
<span class="nc" id="L2389">					return paramInfo.getName();</span>
				} else {
<span class="nc bnc" id="L2391" title="All 2 branches missed.">					if (parameterPosition == 0) {</span>
<span class="nc" id="L2392">						return NON_STATIC_METHOD_OWNER_AS_PARAMETER_NAME;</span>
					}
<span class="nc bnc" id="L2394" title="All 2 branches missed.">					if ((parameterPosition - 1) &gt;= paramInfos.size()) {</span>
<span class="nc" id="L2395">						return null;</span>
					}
<span class="nc" id="L2397">					IParameterInfo paramInfo = paramInfos.get((parameterPosition - 1));</span>
<span class="nc" id="L2398">					return paramInfo.getName();</span>
				}
			} else {
<span class="nc" id="L2401">				throw new ReflectionUIError();</span>
			}
		}

		protected int getParameterCount(Executable executable) {
<span class="fc bfc" id="L2406" title="All 2 branches covered.">			if (executable instanceof Constructor) {</span>
<span class="fc" id="L2407">				Constructor&lt;?&gt; constructor = (Constructor&lt;?&gt;) executable;</span>
<span class="fc" id="L2408">				return constructor.getParameterTypes().length;</span>
<span class="pc bpc" id="L2409" title="1 of 2 branches missed.">			} else if (executable instanceof Method) {</span>
<span class="fc" id="L2410">				Method method = (Method) executable;</span>
<span class="fc bfc" id="L2411" title="All 2 branches covered.">				if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="fc" id="L2412">					return method.getParameterTypes().length;</span>
				} else {
<span class="fc" id="L2414">					return method.getParameterTypes().length + 1;</span>
				}
			} else {
<span class="nc" id="L2417">				throw new ReflectionUIError();</span>
			}
		}

		public boolean isParameterPluralityResolvingRequired(ReflectionUI reflectionUI) {
			Filter&lt;Object&gt; converter;
			try {
<span class="nc" id="L2424">				converter = find(reflectionUI);</span>
<span class="nc" id="L2425">			} catch (Throwable t) {</span>
<span class="nc" id="L2426">				return false;</span>
			}
<span class="nc bnc" id="L2428" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2429">				return false;</span>
			}
<span class="nc" id="L2431">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2432" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2433">				return false;</span>
			}
<span class="nc bnc" id="L2435" title="All 2 branches missed.">			return getParameterCount(executable) &gt; 1;</span>
		}

		public List&lt;String&gt; getChosenParameterNameOptions(ReflectionUI reflectionUI) {
<span class="nc bnc" id="L2439" title="All 2 branches missed.">			if (!isParameterPluralityResolvingRequired(reflectionUI)) {</span>
<span class="nc" id="L2440">				return Collections.emptyList();</span>
			}
			IConverter converter;
			try {
<span class="nc" id="L2444">				converter = find(reflectionUI);</span>
<span class="nc" id="L2445">			} catch (Throwable t) {</span>
<span class="nc" id="L2446">				return Collections.emptyList();</span>
			}
<span class="nc bnc" id="L2448" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2449">				return Collections.emptyList();</span>
			}
<span class="nc" id="L2451">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2452" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2453">				return Collections.emptyList();</span>
			}
<span class="nc" id="L2455">			List&lt;String&gt; result = new ArrayList&lt;String&gt;();</span>
<span class="nc" id="L2456">			int paramCount = getParameterCount(executable);</span>
<span class="nc bnc" id="L2457" title="All 2 branches missed.">			for (int paramPosition = 0; paramPosition &lt; paramCount; paramPosition++) {</span>
<span class="nc" id="L2458">				result.add(getParameterName(converter.getConversionClass(), executable, paramPosition));</span>
			}
<span class="nc" id="L2460">			return result;</span>
		}

		public String getChosenParameterName(ReflectionUI reflectionUI) {
<span class="nc bnc" id="L2464" title="All 2 branches missed.">			if (!isParameterPluralityResolvingRequired(reflectionUI)) {</span>
<span class="nc" id="L2465">				return null;</span>
			}
<span class="nc bnc" id="L2467" title="All 2 branches missed.">			if (chosenParameterPosition == -1) {</span>
<span class="nc" id="L2468">				return null;</span>
			}
			IConverter converter;
			try {
<span class="nc" id="L2472">				converter = find(reflectionUI);</span>
<span class="nc" id="L2473">			} catch (Throwable t) {</span>
<span class="nc" id="L2474">				return null;</span>
			}
<span class="nc bnc" id="L2476" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2477">				return null;</span>
			}
<span class="nc" id="L2479">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2480" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2481">				return null;</span>
			}
<span class="nc" id="L2483">			return getParameterName(converter.getConversionClass(), executable, chosenParameterPosition);</span>
		}

		public void setChosenParameterName(ReflectionUI reflectionUI, String parameterName) {
<span class="nc bnc" id="L2487" title="All 2 branches missed.">			if (!isParameterPluralityResolvingRequired(reflectionUI)) {</span>
<span class="nc" id="L2488">				throw new ReflectionUIError();</span>
			}
			IConverter converter;
			try {
<span class="nc" id="L2492">				converter = find(reflectionUI);</span>
<span class="nc" id="L2493">			} catch (Throwable t) {</span>
<span class="nc" id="L2494">				throw new ReflectionUIError(t);</span>
			}
<span class="nc bnc" id="L2496" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2497">				throw new ReflectionUIError();</span>
			}
<span class="nc" id="L2499">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2500" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2501">				throw new ReflectionUIError();</span>
			}
<span class="nc" id="L2503">			int paramCount = getParameterCount(executable);</span>
<span class="nc bnc" id="L2504" title="All 2 branches missed.">			for (int paramPosition = 0; paramPosition &lt; paramCount; paramPosition++) {</span>
<span class="nc" id="L2505">				String currentParameterName = getParameterName(converter.getConversionClass(), executable,</span>
<span class="nc" id="L2506">						paramPosition);</span>
<span class="nc bnc" id="L2507" title="All 2 branches missed.">				if (parameterName.equals(currentParameterName)) {</span>
<span class="nc" id="L2508">					chosenParameterPosition = paramPosition;</span>
<span class="nc" id="L2509">					break;</span>
				}
			}
<span class="nc" id="L2512">		}</span>

		public Map&lt;String, TextualStorage&gt; getOtherParameterValueStorageByName(ReflectionUI reflectionUI) {
<span class="nc bnc" id="L2515" title="All 2 branches missed.">			if (!isParameterPluralityResolvingRequired(reflectionUI)) {</span>
<span class="nc" id="L2516">				return null;</span>
			}
			IConverter converter;
			try {
<span class="nc" id="L2520">				converter = find(reflectionUI);</span>
<span class="nc" id="L2521">			} catch (Throwable t) {</span>
<span class="nc" id="L2522">				return null;</span>
			}
<span class="nc bnc" id="L2524" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2525">				return null;</span>
			}
<span class="nc" id="L2527">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2528" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2529">				return null;</span>
			}
<span class="nc" id="L2531">			Map&lt;String, TextualStorage&gt; result = new LinkedHashMap&lt;String, InfoCustomizations.TextualStorage&gt;();</span>
<span class="nc" id="L2532">			int paramCount = getParameterCount(executable);</span>
<span class="nc bnc" id="L2533" title="All 2 branches missed.">			for (int paramPosition = 0; paramPosition &lt; paramCount; paramPosition++) {</span>
<span class="nc bnc" id="L2534" title="All 2 branches missed.">				if (paramPosition == chosenParameterPosition) {</span>
<span class="nc" id="L2535">					continue;</span>
				}
<span class="nc" id="L2537">				TextualStorage storage = otherParameterValueStorages.get(paramPosition);</span>
<span class="nc bnc" id="L2538" title="All 2 branches missed.">				if (storage == null) {</span>
<span class="nc" id="L2539">					storage = new TextualStorage();</span>
				}
<span class="nc" id="L2541">				result.put(getParameterName(converter.getConversionClass(), executable, paramPosition), storage);</span>
			}
<span class="nc" id="L2543">			return result;</span>
		}

		public void setOtherParameterValueStorageByName(ReflectionUI reflectionUI, Map&lt;String, TextualStorage&gt; map) {
<span class="nc bnc" id="L2547" title="All 2 branches missed.">			if (!isParameterPluralityResolvingRequired(reflectionUI)) {</span>
<span class="nc" id="L2548">				throw new ReflectionUIError();</span>
			}
			IConverter converter;
			try {
<span class="nc" id="L2552">				converter = find(reflectionUI);</span>
<span class="nc" id="L2553">			} catch (Throwable t) {</span>
<span class="nc" id="L2554">				throw new ReflectionUIError(t);</span>
			}
<span class="nc bnc" id="L2556" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2557">				throw new ReflectionUIError();</span>
			}
<span class="nc" id="L2559">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2560" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2561">				throw new ReflectionUIError();</span>
			}
<span class="nc" id="L2563">			otherParameterValueStorages.clear();</span>
<span class="nc" id="L2564">			int paramCount = getParameterCount(executable);</span>
<span class="nc bnc" id="L2565" title="All 2 branches missed.">			for (int paramPosition = 0; paramPosition &lt; paramCount; paramPosition++) {</span>
<span class="nc" id="L2566">				String parameterName = getParameterName(converter.getConversionClass(), executable, paramPosition);</span>
<span class="nc" id="L2567">				TextualStorage storage = map.get(parameterName);</span>
<span class="nc bnc" id="L2568" title="All 2 branches missed.">				if (storage == null) {</span>
<span class="nc" id="L2569">					continue;</span>
				}
<span class="nc" id="L2571">				otherParameterValueStorages.put(paramPosition, storage);</span>
			}
<span class="nc" id="L2573">		}</span>

		public void validate(ReflectionUI reflectionUI) {
			Filter&lt;Object&gt; converter;
			try {
<span class="nc" id="L2578">				converter = find(reflectionUI);</span>
<span class="nc" id="L2579">			} catch (Throwable t) {</span>
<span class="nc" id="L2580">				throw new ReflectionUIError(t);</span>
			}
<span class="nc bnc" id="L2582" title="All 2 branches missed.">			if (converter == null) {</span>
<span class="nc" id="L2583">				return;</span>
			}
<span class="nc" id="L2585">			Executable executable = getExecutable(converter);</span>
<span class="nc bnc" id="L2586" title="All 2 branches missed.">			if (executable == null) {</span>
<span class="nc" id="L2587">				throw new ReflectionUIError(&quot;Failed to retrieve the conversion method/constructor!&quot;);</span>
			}
<span class="nc bnc" id="L2589" title="All 2 branches missed.">			if (isParameterPluralityResolvingRequired(reflectionUI)) {</span>
<span class="nc bnc" id="L2590" title="All 2 branches missed.">				if (getChosenParameterName(reflectionUI) == null) {</span>
<span class="nc" id="L2591">					throw new ReflectionUIError(&quot;Conversion input parameter not selected!&quot;);</span>
				}
			}
<span class="nc" id="L2594">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L2598">			final int prime = 31;</span>
<span class="nc" id="L2599">			int result = 1;</span>
<span class="nc" id="L2600">			result = prime * result + chosenParameterPosition;</span>
<span class="nc bnc" id="L2601" title="All 2 branches missed.">			result = prime * result + ((conversionClassName == null) ? 0 : conversionClassName.hashCode());</span>
<span class="nc bnc" id="L2602" title="All 2 branches missed.">			result = prime * result + ((conversionMethodSignature == null) ? 0 : conversionMethodSignature.hashCode());</span>
<span class="nc" id="L2603">			result = prime * result</span>
<span class="nc bnc" id="L2604" title="All 2 branches missed.">					+ ((otherParameterValueStorages == null) ? 0 : otherParameterValueStorages.hashCode());</span>
<span class="nc" id="L2605">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L2610" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L2611">				return true;</span>
<span class="nc bnc" id="L2612" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L2613">				return false;</span>
<span class="nc bnc" id="L2614" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L2615">				return false;</span>
<span class="nc" id="L2616">			ConversionMethodFinder other = (ConversionMethodFinder) obj;</span>
<span class="nc bnc" id="L2617" title="All 2 branches missed.">			if (chosenParameterPosition != other.chosenParameterPosition)</span>
<span class="nc" id="L2618">				return false;</span>
<span class="nc bnc" id="L2619" title="All 2 branches missed.">			if (conversionClassName == null) {</span>
<span class="nc bnc" id="L2620" title="All 2 branches missed.">				if (other.conversionClassName != null)</span>
<span class="nc" id="L2621">					return false;</span>
<span class="nc bnc" id="L2622" title="All 2 branches missed.">			} else if (!conversionClassName.equals(other.conversionClassName))</span>
<span class="nc" id="L2623">				return false;</span>
<span class="nc bnc" id="L2624" title="All 2 branches missed.">			if (conversionMethodSignature == null) {</span>
<span class="nc bnc" id="L2625" title="All 2 branches missed.">				if (other.conversionMethodSignature != null)</span>
<span class="nc" id="L2626">					return false;</span>
<span class="nc bnc" id="L2627" title="All 2 branches missed.">			} else if (!conversionMethodSignature.equals(other.conversionMethodSignature))</span>
<span class="nc" id="L2628">				return false;</span>
<span class="nc bnc" id="L2629" title="All 2 branches missed.">			if (otherParameterValueStorages == null) {</span>
<span class="nc bnc" id="L2630" title="All 2 branches missed.">				if (other.otherParameterValueStorages != null)</span>
<span class="nc" id="L2631">					return false;</span>
<span class="nc bnc" id="L2632" title="All 2 branches missed.">			} else if (!otherParameterValueStorages.equals(other.otherParameterValueStorages))</span>
<span class="nc" id="L2633">				return false;</span>
<span class="nc" id="L2634">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L2639">			return &quot;ConversionMethodFinder [conversionClassName=&quot; + conversionClassName + &quot;, conversionMethodSignature=&quot;</span>
<span class="nc" id="L2640">					+ conversionMethodSignature + &quot;, chosenParameterPosition=&quot; + chosenParameterPosition</span>
<span class="nc" id="L2641">					+ &quot;, otherParameterValueStorages=&quot; + otherParameterValueStorages + &quot;]&quot;;</span>
		}

		protected interface IConverter extends Filter&lt;Object&gt; {

			Class&lt;?&gt; getConversionClass();

		}

		protected static class MethodBasedConverter implements IConverter {

			protected ReflectionUI reflectionUI;
			protected Class&lt;?&gt; conversionClass;
			protected Method method;
			protected int parameterCount;
			protected boolean parameterPluralityResolvingRequired;
			protected int chosenParameterPosition;
			protected Map&lt;Integer, TextualStorage&gt; otherParameterValueStorages;

<span class="fc" id="L2660">			public MethodBasedConverter(ReflectionUI reflectionUI, ConversionMethodFinder conversionMethodFinder,</span>
					Class&lt;?&gt; theClass, String methodName, Class&lt;?&gt;[] parameterTypes) {
<span class="fc" id="L2662">				this.reflectionUI = reflectionUI;</span>
<span class="fc" id="L2663">				this.conversionClass = theClass;</span>
				try {
<span class="fc" id="L2665">					this.method = theClass.getMethod(methodName, parameterTypes);</span>
<span class="pc" id="L2666">				} catch (NoSuchMethodException e) {</span>
<span class="nc" id="L2667">					throw new ReflectionUIError(e);</span>
<span class="nc" id="L2668">				} catch (SecurityException e) {</span>
<span class="nc" id="L2669">					throw new ReflectionUIError(e);</span>
				}
<span class="fc" id="L2671">				this.parameterCount = conversionMethodFinder.getParameterCount(method);</span>
<span class="pc bpc" id="L2672" title="1 of 2 branches missed.">				this.parameterPluralityResolvingRequired = parameterCount &gt; 1;</span>
<span class="fc" id="L2673">				this.otherParameterValueStorages = conversionMethodFinder.getOtherParameterValueStorages();</span>
<span class="fc" id="L2674">				this.chosenParameterPosition = conversionMethodFinder.getChosenParameterPosition();</span>
<span class="fc" id="L2675">			}</span>

			@Override
			public Object get(Object obj) {
				try {
<span class="fc" id="L2680">					Method method = getMethod();</span>
<span class="pc bpc" id="L2681" title="1 of 2 branches missed.">					if (parameterPluralityResolvingRequired) {</span>
<span class="nc" id="L2682">						Object[] paramValues = new Object[parameterCount];</span>
<span class="nc bnc" id="L2683" title="All 2 branches missed.">						for (int paramPosition = 0; paramPosition &lt; paramValues.length; paramPosition++) {</span>
<span class="nc bnc" id="L2684" title="All 2 branches missed.">							if (paramPosition == chosenParameterPosition) {</span>
<span class="nc" id="L2685">								paramValues[paramPosition] = obj;</span>
<span class="nc" id="L2686">							} else {</span>
<span class="nc" id="L2687">								TextualStorage storage = otherParameterValueStorages.get(paramPosition);</span>
<span class="nc bnc" id="L2688" title="All 2 branches missed.">								if (storage == null) {</span>
<span class="nc" id="L2689">									continue;</span>
								}
<span class="nc" id="L2691">								paramValues[paramPosition] = storage.load(reflectionUI);</span>
							}
						}
<span class="nc bnc" id="L2694" title="All 2 branches missed.">						if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="nc" id="L2695">							return method.invoke(null, paramValues);</span>
						} else {
<span class="nc" id="L2697">							return method.invoke(paramValues[0],</span>
<span class="nc" id="L2698">									Arrays.copyOfRange(paramValues, 1, paramValues.length));</span>
						}
					} else {
<span class="fc bfc" id="L2701" title="All 2 branches covered.">						if (Modifier.isStatic(method.getModifiers())) {</span>
<span class="fc" id="L2702">							return method.invoke(null, obj);</span>
						} else {
<span class="fc" id="L2704">							return method.invoke(obj);</span>
						}
					}
<span class="nc" id="L2707">				} catch (InvocationTargetException e) {</span>
<span class="nc" id="L2708">					throw new ReflectionUIError(e.getTargetException());</span>
<span class="nc" id="L2709">				} catch (Exception e) {</span>
<span class="nc" id="L2710">					throw new ReflectionUIError(&quot;Failed to convert '&quot; + obj + &quot;' with &quot; + this + &quot;: &quot; + e.toString(),</span>
<span class="nc" id="L2711">							e);</span>
				}
			}

			@Override
			public Class&lt;?&gt; getConversionClass() {
<span class="nc" id="L2717">				return conversionClass;</span>
			}

			public Method getMethod() {
<span class="fc" id="L2721">				return method;</span>
			}

			@Override
			public int hashCode() {
<span class="nc" id="L2726">				final int prime = 31;</span>
<span class="nc" id="L2727">				int result = 1;</span>
<span class="nc" id="L2728">				result = prime * result + chosenParameterPosition;</span>
<span class="nc bnc" id="L2729" title="All 2 branches missed.">				result = prime * result + ((method == null) ? 0 : method.hashCode());</span>
<span class="nc" id="L2730">				result = prime * result</span>
<span class="nc bnc" id="L2731" title="All 2 branches missed.">						+ ((otherParameterValueStorages == null) ? 0 : otherParameterValueStorages.hashCode());</span>
<span class="nc" id="L2732">				result = prime * result + parameterCount;</span>
<span class="nc bnc" id="L2733" title="All 2 branches missed.">				result = prime * result + (parameterPluralityResolvingRequired ? 1231 : 1237);</span>
<span class="nc" id="L2734">				return result;</span>
			}

			@Override
			public boolean equals(Object obj) {
<span class="nc bnc" id="L2739" title="All 2 branches missed.">				if (this == obj)</span>
<span class="nc" id="L2740">					return true;</span>
<span class="nc bnc" id="L2741" title="All 2 branches missed.">				if (obj == null)</span>
<span class="nc" id="L2742">					return false;</span>
<span class="nc bnc" id="L2743" title="All 2 branches missed.">				if (getClass() != obj.getClass())</span>
<span class="nc" id="L2744">					return false;</span>
<span class="nc" id="L2745">				MethodBasedConverter other = (MethodBasedConverter) obj;</span>
<span class="nc bnc" id="L2746" title="All 2 branches missed.">				if (chosenParameterPosition != other.chosenParameterPosition)</span>
<span class="nc" id="L2747">					return false;</span>
<span class="nc bnc" id="L2748" title="All 2 branches missed.">				if (method == null) {</span>
<span class="nc bnc" id="L2749" title="All 2 branches missed.">					if (other.method != null)</span>
<span class="nc" id="L2750">						return false;</span>
<span class="nc bnc" id="L2751" title="All 2 branches missed.">				} else if (!method.equals(other.method))</span>
<span class="nc" id="L2752">					return false;</span>
<span class="nc bnc" id="L2753" title="All 2 branches missed.">				if (otherParameterValueStorages == null) {</span>
<span class="nc bnc" id="L2754" title="All 2 branches missed.">					if (other.otherParameterValueStorages != null)</span>
<span class="nc" id="L2755">						return false;</span>
<span class="nc bnc" id="L2756" title="All 2 branches missed.">				} else if (!otherParameterValueStorages.equals(other.otherParameterValueStorages))</span>
<span class="nc" id="L2757">					return false;</span>
<span class="nc bnc" id="L2758" title="All 2 branches missed.">				if (parameterCount != other.parameterCount)</span>
<span class="nc" id="L2759">					return false;</span>
<span class="nc bnc" id="L2760" title="All 2 branches missed.">				if (parameterPluralityResolvingRequired != other.parameterPluralityResolvingRequired)</span>
<span class="nc" id="L2761">					return false;</span>
<span class="nc" id="L2762">				return true;</span>
			}

			@Override
			public String toString() {
<span class="nc" id="L2767">				return &quot;MethodBasedConverter [method=&quot; + method + &quot;, parameterCount=&quot; + parameterCount</span>
<span class="nc" id="L2768">						+ &quot;, parameterPluralityResolvingRequired=&quot; + parameterPluralityResolvingRequired</span>
<span class="nc" id="L2769">						+ &quot;, chosenParameterPosition=&quot; + chosenParameterPosition + &quot;, otherParameterValueStorages=&quot;</span>
<span class="nc" id="L2770">						+ otherParameterValueStorages + &quot;]&quot;;</span>
			}

		}

		protected static class ConstructorBasedConverter implements IConverter {

			protected ReflectionUI reflectionUI;
			protected Class&lt;?&gt; conversionClass;
			protected Constructor&lt;?&gt; constrcutor;
			protected int parameterCount;
			protected boolean parameterPluralityResolvingRequired;
			protected int chosenParameterPosition;
			protected Map&lt;Integer, TextualStorage&gt; otherParameterValueStorages;

<span class="fc" id="L2785">			public ConstructorBasedConverter(ReflectionUI reflectionUI, ConversionMethodFinder conversionMethodFinder,</span>
					Class&lt;?&gt; theClass, Class&lt;?&gt;[] parameterTypes) {
<span class="fc" id="L2787">				this.reflectionUI = reflectionUI;</span>
<span class="fc" id="L2788">				this.conversionClass = theClass;</span>
				try {
<span class="fc" id="L2790">					this.constrcutor = theClass.getDeclaredConstructor(parameterTypes);</span>
<span class="pc" id="L2791">				} catch (NoSuchMethodException e) {</span>
<span class="nc" id="L2792">					throw new ReflectionUIError(e);</span>
<span class="nc" id="L2793">				} catch (SecurityException e) {</span>
<span class="nc" id="L2794">					throw new ReflectionUIError(e);</span>
				}
<span class="fc" id="L2796">				this.parameterCount = conversionMethodFinder.getParameterCount(constrcutor);</span>
<span class="pc bpc" id="L2797" title="1 of 2 branches missed.">				this.parameterPluralityResolvingRequired = parameterCount &gt; 1;</span>
<span class="fc" id="L2798">				this.otherParameterValueStorages = conversionMethodFinder.getOtherParameterValueStorages();</span>
<span class="fc" id="L2799">				this.chosenParameterPosition = conversionMethodFinder.getChosenParameterPosition();</span>
<span class="fc" id="L2800">			}</span>

			@Override
			public Object get(Object obj) {
				try {
<span class="fc" id="L2805">					Constructor&lt;?&gt; constructor = getConstructor();</span>
<span class="pc bpc" id="L2806" title="1 of 2 branches missed.">					if (parameterPluralityResolvingRequired) {</span>
<span class="nc" id="L2807">						Object[] paramValues = new Object[parameterCount];</span>
<span class="nc bnc" id="L2808" title="All 2 branches missed.">						for (int paramPosition = 0; paramPosition &lt; paramValues.length; paramPosition++) {</span>
<span class="nc bnc" id="L2809" title="All 2 branches missed.">							if (paramPosition == chosenParameterPosition) {</span>
<span class="nc" id="L2810">								paramValues[paramPosition] = obj;</span>
<span class="nc" id="L2811">							} else {</span>
<span class="nc" id="L2812">								TextualStorage storage = otherParameterValueStorages.get(paramPosition);</span>
<span class="nc bnc" id="L2813" title="All 2 branches missed.">								if (storage == null) {</span>
<span class="nc" id="L2814">									continue;</span>
								}
<span class="nc" id="L2816">								paramValues[paramPosition] = storage.load(reflectionUI);</span>
							}
						}
<span class="nc" id="L2819">						return constructor.newInstance(paramValues);</span>
					} else {
<span class="fc" id="L2821">						return constructor.newInstance(obj);</span>
					}
<span class="nc" id="L2823">				} catch (InvocationTargetException e) {</span>
<span class="nc" id="L2824">					throw new ReflectionUIError(e.getTargetException());</span>
<span class="nc" id="L2825">				} catch (Exception e) {</span>
<span class="nc" id="L2826">					throw new ReflectionUIError(&quot;Failed to convert '&quot; + obj + &quot;' with &quot; + this + &quot;: &quot; + e.toString(),</span>
<span class="nc" id="L2827">							e);</span>
				}
			}

			@Override
			public Class&lt;?&gt; getConversionClass() {
<span class="nc" id="L2833">				return conversionClass;</span>
			}

			public Constructor&lt;?&gt; getConstructor() {
<span class="fc" id="L2837">				return constrcutor;</span>
			}

			@Override
			public int hashCode() {
<span class="nc" id="L2842">				final int prime = 31;</span>
<span class="nc" id="L2843">				int result = 1;</span>
<span class="nc" id="L2844">				result = prime * result + chosenParameterPosition;</span>
<span class="nc bnc" id="L2845" title="All 2 branches missed.">				result = prime * result + ((constrcutor == null) ? 0 : constrcutor.hashCode());</span>
<span class="nc" id="L2846">				result = prime * result</span>
<span class="nc bnc" id="L2847" title="All 2 branches missed.">						+ ((otherParameterValueStorages == null) ? 0 : otherParameterValueStorages.hashCode());</span>
<span class="nc" id="L2848">				result = prime * result + parameterCount;</span>
<span class="nc bnc" id="L2849" title="All 2 branches missed.">				result = prime * result + (parameterPluralityResolvingRequired ? 1231 : 1237);</span>
<span class="nc" id="L2850">				return result;</span>
			}

			@Override
			public boolean equals(Object obj) {
<span class="nc bnc" id="L2855" title="All 2 branches missed.">				if (this == obj)</span>
<span class="nc" id="L2856">					return true;</span>
<span class="nc bnc" id="L2857" title="All 2 branches missed.">				if (obj == null)</span>
<span class="nc" id="L2858">					return false;</span>
<span class="nc bnc" id="L2859" title="All 2 branches missed.">				if (getClass() != obj.getClass())</span>
<span class="nc" id="L2860">					return false;</span>
<span class="nc" id="L2861">				ConstructorBasedConverter other = (ConstructorBasedConverter) obj;</span>
<span class="nc bnc" id="L2862" title="All 2 branches missed.">				if (chosenParameterPosition != other.chosenParameterPosition)</span>
<span class="nc" id="L2863">					return false;</span>
<span class="nc bnc" id="L2864" title="All 2 branches missed.">				if (constrcutor == null) {</span>
<span class="nc bnc" id="L2865" title="All 2 branches missed.">					if (other.constrcutor != null)</span>
<span class="nc" id="L2866">						return false;</span>
<span class="nc bnc" id="L2867" title="All 2 branches missed.">				} else if (!constrcutor.equals(other.constrcutor))</span>
<span class="nc" id="L2868">					return false;</span>
<span class="nc bnc" id="L2869" title="All 2 branches missed.">				if (otherParameterValueStorages == null) {</span>
<span class="nc bnc" id="L2870" title="All 2 branches missed.">					if (other.otherParameterValueStorages != null)</span>
<span class="nc" id="L2871">						return false;</span>
<span class="nc bnc" id="L2872" title="All 2 branches missed.">				} else if (!otherParameterValueStorages.equals(other.otherParameterValueStorages))</span>
<span class="nc" id="L2873">					return false;</span>
<span class="nc bnc" id="L2874" title="All 2 branches missed.">				if (parameterCount != other.parameterCount)</span>
<span class="nc" id="L2875">					return false;</span>
<span class="nc bnc" id="L2876" title="All 2 branches missed.">				if (parameterPluralityResolvingRequired != other.parameterPluralityResolvingRequired)</span>
<span class="nc" id="L2877">					return false;</span>
<span class="nc" id="L2878">				return true;</span>
			}

			@Override
			public String toString() {
<span class="nc" id="L2883">				return &quot;ConstructorBasedConverter [constrcutor=&quot; + constrcutor + &quot;, parameterCount=&quot; + parameterCount</span>
<span class="nc" id="L2884">						+ &quot;, parameterPluralityResolvingRequired=&quot; + parameterPluralityResolvingRequired</span>
<span class="nc" id="L2885">						+ &quot;, chosenParameterPosition=&quot; + chosenParameterPosition + &quot;, otherParameterValueStorages=&quot;</span>
<span class="nc" id="L2886">						+ otherParameterValueStorages + &quot;]&quot;;</span>
			}

		};

	}

<span class="fc" id="L2893">	public static class TypeConversion extends Mapping {</span>
		private static final long serialVersionUID = 1L;

		protected ITypeInfoFinder newTypeFinder;
<span class="fc" id="L2897">		protected boolean nullValueConverted = false;</span>

		public boolean isNullValueConverted() {
<span class="fc" id="L2900">			return nullValueConverted;</span>
		}

		public void setNullValueConverted(boolean nullValueConverted) {
<span class="fc" id="L2904">			this.nullValueConverted = nullValueConverted;</span>
<span class="fc" id="L2905">		}</span>

		@XmlTransient
		public List&lt;Mapping&gt; getPreMappings() {
<span class="nc" id="L2909">			List&lt;Mapping&gt; result = new ArrayList&lt;InfoCustomizations.Mapping&gt;();</span>
<span class="nc" id="L2910">			Mapping currentMapping = this;</span>
<span class="nc bnc" id="L2911" title="All 2 branches missed.">			while (currentMapping.getPreMapping() != null) {</span>
<span class="nc" id="L2912">				result.add(currentMapping.getPreMapping());</span>
<span class="nc" id="L2913">				currentMapping = currentMapping.getPreMapping();</span>
			}
<span class="nc" id="L2915">			Collections.reverse(result);</span>
<span class="nc" id="L2916">			return result;</span>
		}

		public void setPreMappings(List&lt;Mapping&gt; preMappings) {
<span class="nc" id="L2920">			preMappings = new ArrayList&lt;InfoCustomizations.Mapping&gt;(preMappings);</span>
<span class="nc" id="L2921">			Collections.reverse(preMappings);</span>
<span class="nc" id="L2922">			Mapping currentMapping = this;</span>
<span class="nc bnc" id="L2923" title="All 2 branches missed.">			for (Mapping preMapping : preMappings) {</span>
<span class="nc" id="L2924">				currentMapping.setPreMapping(preMapping);</span>
<span class="nc" id="L2925">				currentMapping = preMapping;</span>
			}
<span class="nc" id="L2927">			currentMapping.setPreMapping(null);</span>
<span class="nc" id="L2928">		}</span>

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getNewTypeFinder() {
<span class="nc" id="L2933">			return newTypeFinder;</span>
		}

		public void setNewTypeFinder(ITypeInfoFinder newTypeFinder) {
<span class="fc" id="L2937">			this.newTypeFinder = newTypeFinder;</span>
<span class="fc" id="L2938">		}</span>

		public ITypeInfo findNewType(ReflectionUI reflectionUI, SpecificitiesIdentifier specificitiesIdentifier) {
<span class="pc bpc" id="L2941" title="1 of 2 branches missed.">			if (newTypeFinder != null) {</span>
<span class="fc" id="L2942">				return newTypeFinder.find(reflectionUI, specificitiesIdentifier);</span>
			} else {
<span class="nc" id="L2944">				return reflectionUI.getTypeInfo(new JavaTypeInfoSource(Object.class, specificitiesIdentifier));</span>
			}
		}

		@Override
		public int hashCode() {
<span class="nc" id="L2950">			final int prime = 31;</span>
<span class="nc" id="L2951">			int result = super.hashCode();</span>
<span class="nc bnc" id="L2952" title="All 2 branches missed.">			result = prime * result + ((newTypeFinder == null) ? 0 : newTypeFinder.hashCode());</span>
<span class="nc bnc" id="L2953" title="All 2 branches missed.">			result = prime * result + (nullValueConverted ? 1231 : 1237);</span>
<span class="nc" id="L2954">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L2959" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L2960">				return true;</span>
<span class="nc bnc" id="L2961" title="All 2 branches missed.">			if (!super.equals(obj))</span>
<span class="nc" id="L2962">				return false;</span>
<span class="nc bnc" id="L2963" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L2964">				return false;</span>
<span class="nc" id="L2965">			TypeConversion other = (TypeConversion) obj;</span>
<span class="nc bnc" id="L2966" title="All 2 branches missed.">			if (newTypeFinder == null) {</span>
<span class="nc bnc" id="L2967" title="All 2 branches missed.">				if (other.newTypeFinder != null)</span>
<span class="nc" id="L2968">					return false;</span>
<span class="nc bnc" id="L2969" title="All 2 branches missed.">			} else if (!newTypeFinder.equals(other.newTypeFinder))</span>
<span class="nc" id="L2970">				return false;</span>
<span class="nc bnc" id="L2971" title="All 2 branches missed.">			if (nullValueConverted != other.nullValueConverted)</span>
<span class="nc" id="L2972">				return false;</span>
<span class="nc" id="L2973">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L2978">			return &quot;TypeConversion [newTypeFinder=&quot; + newTypeFinder + &quot;, nullValueConverted=&quot; + nullValueConverted</span>
<span class="nc" id="L2979">					+ &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L2984">	public static class Mapping extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected Mapping preMapping;
		protected ConversionMethodFinder conversionMethodFinder;
		protected ConversionMethodFinder reverseConversionMethodFinder;

		public Filter&lt;Object&gt; buildOverallConversionMethod(ReflectionUI reflectionUI) {
<span class="fc" id="L2992">			Filter&lt;Object&gt; result = null;</span>
<span class="fc bfc" id="L2993" title="All 2 branches covered.">			if (conversionMethodFinder != null) {</span>
<span class="fc" id="L2994">				result = conversionMethodFinder.find(reflectionUI);</span>
			}
<span class="fc bfc" id="L2996" title="All 2 branches covered.">			if (preMapping != null) {</span>
<span class="fc" id="L2997">				Filter&lt;Object&gt; preConversionMethod = preMapping.buildOverallConversionMethod(reflectionUI);</span>
<span class="pc bpc" id="L2998" title="1 of 2 branches missed.">				if (preConversionMethod != null) {</span>
<span class="pc bpc" id="L2999" title="1 of 2 branches missed.">					if (result == null) {</span>
<span class="nc" id="L3000">						result = preConversionMethod;</span>
<span class="nc" id="L3001">					} else {</span>
<span class="fc" id="L3002">						result = new Filter.Chain&lt;Object&gt;(preConversionMethod, result);</span>
					}
				}
			}
<span class="fc" id="L3006">			return result;</span>
		}

		public Filter&lt;Object&gt; buildOverallReverseConversionMethod(ReflectionUI reflectionUI) {
<span class="fc" id="L3010">			Filter&lt;Object&gt; result = null;</span>
<span class="fc bfc" id="L3011" title="All 2 branches covered.">			if (reverseConversionMethodFinder != null) {</span>
<span class="fc" id="L3012">				result = reverseConversionMethodFinder.find(reflectionUI);</span>
			}
<span class="fc bfc" id="L3014" title="All 2 branches covered.">			if (preMapping != null) {</span>
<span class="fc" id="L3015">				Filter&lt;Object&gt; postReverseConversionMethod = preMapping</span>
<span class="fc" id="L3016">						.buildOverallReverseConversionMethod(reflectionUI);</span>
<span class="pc bpc" id="L3017" title="1 of 2 branches missed.">				if (postReverseConversionMethod != null) {</span>
<span class="nc bnc" id="L3018" title="All 2 branches missed.">					if (result == null) {</span>
<span class="nc" id="L3019">						result = postReverseConversionMethod;</span>
<span class="nc" id="L3020">					} else {</span>
<span class="nc" id="L3021">						result = new Filter.Chain&lt;Object&gt;(result, postReverseConversionMethod);</span>
					}
				}
			}
<span class="fc" id="L3025">			return result;</span>
		}

		public ConversionMethodFinder getConversionMethodFinder() {
<span class="nc" id="L3029">			return conversionMethodFinder;</span>
		}

		public void setConversionMethodFinder(ConversionMethodFinder conversionMethodFinder) {
<span class="fc" id="L3033">			this.conversionMethodFinder = conversionMethodFinder;</span>
<span class="fc" id="L3034">		}</span>

		public ConversionMethodFinder getReverseConversionMethodFinder() {
<span class="fc" id="L3037">			return reverseConversionMethodFinder;</span>
		}

		public void setReverseConversionMethodFinder(ConversionMethodFinder reverseConversionMethodFinder) {
<span class="fc" id="L3041">			this.reverseConversionMethodFinder = reverseConversionMethodFinder;</span>
<span class="fc" id="L3042">		}</span>

		public Mapping getPreMapping() {
<span class="nc" id="L3045">			return preMapping;</span>
		}

		public void setPreMapping(Mapping preMapping) {
<span class="fc" id="L3049">			this.preMapping = preMapping;</span>
<span class="fc" id="L3050">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L3054">			final int prime = 31;</span>
<span class="nc" id="L3055">			int result = 1;</span>
<span class="nc bnc" id="L3056" title="All 2 branches missed.">			result = prime * result + ((conversionMethodFinder == null) ? 0 : conversionMethodFinder.hashCode());</span>
<span class="nc bnc" id="L3057" title="All 2 branches missed.">			result = prime * result + ((preMapping == null) ? 0 : preMapping.hashCode());</span>
<span class="nc" id="L3058">			result = prime * result</span>
<span class="nc bnc" id="L3059" title="All 2 branches missed.">					+ ((reverseConversionMethodFinder == null) ? 0 : reverseConversionMethodFinder.hashCode());</span>
<span class="nc" id="L3060">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L3065" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L3066">				return true;</span>
<span class="nc bnc" id="L3067" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L3068">				return false;</span>
<span class="nc bnc" id="L3069" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L3070">				return false;</span>
<span class="nc" id="L3071">			Mapping other = (Mapping) obj;</span>
<span class="nc bnc" id="L3072" title="All 2 branches missed.">			if (conversionMethodFinder == null) {</span>
<span class="nc bnc" id="L3073" title="All 2 branches missed.">				if (other.conversionMethodFinder != null)</span>
<span class="nc" id="L3074">					return false;</span>
<span class="nc bnc" id="L3075" title="All 2 branches missed.">			} else if (!conversionMethodFinder.equals(other.conversionMethodFinder))</span>
<span class="nc" id="L3076">				return false;</span>
<span class="nc bnc" id="L3077" title="All 2 branches missed.">			if (preMapping == null) {</span>
<span class="nc bnc" id="L3078" title="All 2 branches missed.">				if (other.preMapping != null)</span>
<span class="nc" id="L3079">					return false;</span>
<span class="nc bnc" id="L3080" title="All 2 branches missed.">			} else if (!preMapping.equals(other.preMapping))</span>
<span class="nc" id="L3081">				return false;</span>
<span class="nc bnc" id="L3082" title="All 2 branches missed.">			if (reverseConversionMethodFinder == null) {</span>
<span class="nc bnc" id="L3083" title="All 2 branches missed.">				if (other.reverseConversionMethodFinder != null)</span>
<span class="nc" id="L3084">					return false;</span>
<span class="nc bnc" id="L3085" title="All 2 branches missed.">			} else if (!reverseConversionMethodFinder.equals(other.reverseConversionMethodFinder))</span>
<span class="nc" id="L3086">				return false;</span>
<span class="nc" id="L3087">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L3092">			return &quot;Mapping [preMapping=&quot; + preMapping + &quot;, conversionMethodFinder=&quot; + conversionMethodFinder</span>
<span class="nc" id="L3093">					+ &quot;, reverseConversionMethodFinder=&quot; + reverseConversionMethodFinder + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L3098">	public static class FieldCustomization extends AbstractMemberCustomization</span>
			implements Comparable&lt;FieldCustomization&gt; {
		private static final long serialVersionUID = 1L;

		protected String fieldName;
		protected String customFieldCaption;
<span class="fc" id="L3104">		protected boolean nullValueDistinctForced = false;</span>
<span class="fc" id="L3105">		protected boolean getOnlyForced = false;</span>
<span class="fc" id="L3106">		protected boolean transientForced = false;</span>
		protected String customSetterSignature;
		protected String valueOptionsFieldName;
		protected ValueReturnMode customValueReturnMode;
		protected String nullValueLabel;
		protected String encapsulationFieldName;
		protected boolean getterGenerated;
		protected boolean setterGenerated;
<span class="fc" id="L3114">		protected boolean displayedAsSingletonList = false;</span>
<span class="fc" id="L3115">		protected boolean nullStatusFieldExported = false;</span>
		protected String importedNullStatusFieldName;
<span class="fc" id="L3117">		protected FieldTypeSpecificities specificTypeCustomizations = new FieldTypeSpecificities();</span>
<span class="fc" id="L3118">		protected boolean formControlEmbeddingForced = false;</span>
<span class="fc" id="L3119">		protected boolean formControlCreationForced = false;</span>
		protected TypeConversion typeConversion;
<span class="fc" id="L3121">		protected TextualStorage nullReplacement = new TextualStorage();</span>
<span class="fc" id="L3122">		protected boolean duplicateGenerated = false;</span>
		protected Long autoUpdatePeriodMilliseconds;
		protected Double displayAreaHorizontalWeight;
		protected Double displayAreaVerticalWeight;
		protected Boolean displayAreaHorizontalFilling;
		protected Boolean displayAreaVerticalFilling;
<span class="fc" id="L3128">		protected boolean valueValidityDetectionForced = false;</span>

		@Override
		public boolean isInitial() {
<span class="nc" id="L3132">			FieldCustomization defaultFieldCustomization = new FieldCustomization();</span>
<span class="nc" id="L3133">			defaultFieldCustomization.fieldName = fieldName;</span>
<span class="nc" id="L3134">			return InfoCustomizations.isSimilar(this, defaultFieldCustomization);</span>
		}

		public boolean isValueValidityDetectionForced() {
<span class="fc" id="L3138">			return valueValidityDetectionForced;</span>
		}

		public void setValueValidityDetectionForced(boolean valueValidityDetectionForced) {
<span class="fc" id="L3142">			this.valueValidityDetectionForced = valueValidityDetectionForced;</span>
<span class="fc" id="L3143">		}</span>

		public Boolean getDisplayAreaHorizontalFilling() {
<span class="fc" id="L3146">			return displayAreaHorizontalFilling;</span>
		}

		public void setDisplayAreaHorizontalFilling(Boolean displayAreaHorizontalFilling) {
<span class="fc" id="L3150">			this.displayAreaHorizontalFilling = displayAreaHorizontalFilling;</span>
<span class="fc" id="L3151">		}</span>

		public Boolean getDisplayAreaVerticalFilling() {
<span class="fc" id="L3154">			return displayAreaVerticalFilling;</span>
		}

		public void setDisplayAreaVerticalFilling(Boolean displayAreaVerticalFilling) {
<span class="fc" id="L3158">			this.displayAreaVerticalFilling = displayAreaVerticalFilling;</span>
<span class="fc" id="L3159">		}</span>

		public Double getDisplayAreaHorizontalWeight() {
<span class="fc" id="L3162">			return displayAreaHorizontalWeight;</span>
		}

		public void setDisplayAreaHorizontalWeight(Double displayAreaHorizontalWeight) {
<span class="fc" id="L3166">			this.displayAreaHorizontalWeight = displayAreaHorizontalWeight;</span>
<span class="fc" id="L3167">		}</span>

		public Double getDisplayAreaVerticalWeight() {
<span class="fc" id="L3170">			return displayAreaVerticalWeight;</span>
		}

		public void setDisplayAreaVerticalWeight(Double displayAreaVerticalWeight) {
<span class="fc" id="L3174">			this.displayAreaVerticalWeight = displayAreaVerticalWeight;</span>
<span class="fc" id="L3175">		}</span>

		public Long getAutoUpdatePeriodMilliseconds() {
<span class="fc" id="L3178">			return autoUpdatePeriodMilliseconds;</span>
		}

		public void setAutoUpdatePeriodMilliseconds(Long autoUpdatePeriodMilliseconds) {
<span class="fc" id="L3182">			this.autoUpdatePeriodMilliseconds = autoUpdatePeriodMilliseconds;</span>
<span class="fc" id="L3183">		}</span>

		public boolean isDuplicateGenerated() {
<span class="fc" id="L3186">			return duplicateGenerated;</span>
		}

		public void setDuplicateGenerated(boolean duplicateGenerated) {
<span class="fc" id="L3190">			this.duplicateGenerated = duplicateGenerated;</span>
<span class="fc" id="L3191">		}</span>

		public TextualStorage getNullReplacement() {
<span class="fc" id="L3194">			return nullReplacement;</span>
		}

		public void setNullReplacement(TextualStorage nullReplacement) {
<span class="fc" id="L3198">			this.nullReplacement = nullReplacement;</span>
<span class="fc" id="L3199">		}</span>

		public TypeConversion getTypeConversion() {
<span class="fc" id="L3202">			return typeConversion;</span>
		}

		public void setTypeConversion(TypeConversion typeConversion) {
<span class="fc" id="L3206">			this.typeConversion = typeConversion;</span>
<span class="fc" id="L3207">		}</span>

		public String getEncapsulationFieldName() {
<span class="fc" id="L3210">			return encapsulationFieldName;</span>
		}

		public void setEncapsulationFieldName(String encapsulationFieldName) {
<span class="fc" id="L3214">			this.encapsulationFieldName = encapsulationFieldName;</span>
<span class="fc" id="L3215">		}</span>

		public boolean isFormControlCreationForced() {
<span class="fc" id="L3218">			return formControlCreationForced;</span>
		}

		public void setFormControlCreationForced(boolean formControlCreationForced) {
<span class="fc" id="L3222">			this.formControlCreationForced = formControlCreationForced;</span>
<span class="fc" id="L3223">		}</span>

		public boolean isFormControlEmbeddingForced() {
<span class="fc" id="L3226">			return formControlEmbeddingForced;</span>
		}

		public void setFormControlEmbeddingForced(boolean formControlEmbeddingForced) {
<span class="fc" id="L3230">			this.formControlEmbeddingForced = formControlEmbeddingForced;</span>
<span class="fc" id="L3231">		}</span>

		public String getCustomSetterSignature() {
<span class="fc" id="L3234">			return customSetterSignature;</span>
		}

		public void setCustomSetterSignature(String customSetterSignature) {
<span class="fc" id="L3238">			this.customSetterSignature = customSetterSignature;</span>
<span class="fc" id="L3239">		}</span>

		public boolean isGetterGenerated() {
<span class="fc" id="L3242">			return getterGenerated;</span>
		}

		public void setGetterGenerated(boolean getterGenerated) {
<span class="fc" id="L3246">			this.getterGenerated = getterGenerated;</span>
<span class="fc" id="L3247">		}</span>

		public boolean isSetterGenerated() {
<span class="fc" id="L3250">			return setterGenerated;</span>
		}

		public void setSetterGenerated(boolean setterGenerated) {
<span class="fc" id="L3254">			this.setterGenerated = setterGenerated;</span>
<span class="fc" id="L3255">		}</span>

		public FieldTypeSpecificities getSpecificTypeCustomizations() {
<span class="fc" id="L3258">			return specificTypeCustomizations;</span>
		}

		public void setSpecificTypeCustomizations(FieldTypeSpecificities specificTypeCustomizations) {
<span class="fc" id="L3262">			this.specificTypeCustomizations = specificTypeCustomizations;</span>
<span class="fc" id="L3263">		}</span>

		public boolean isNullStatusFieldExported() {
<span class="fc" id="L3266">			return nullStatusFieldExported;</span>
		}

		public void setNullStatusFieldExported(boolean nullStatusFieldExported) {
<span class="fc" id="L3270">			this.nullStatusFieldExported = nullStatusFieldExported;</span>
<span class="fc" id="L3271">		}</span>

		public String getImportedNullStatusFieldName() {
<span class="fc" id="L3274">			return importedNullStatusFieldName;</span>
		}

		public void setImportedNullStatusFieldName(String importedNullStatusFieldName) {
<span class="fc" id="L3278">			this.importedNullStatusFieldName = importedNullStatusFieldName;</span>
<span class="fc" id="L3279">		}</span>

		public boolean isDisplayedAsSingletonList() {
<span class="fc" id="L3282">			return displayedAsSingletonList;</span>
		}

		public void setDisplayedAsSingletonList(boolean displayedAsSingletonList) {
<span class="fc" id="L3286">			this.displayedAsSingletonList = displayedAsSingletonList;</span>
<span class="fc" id="L3287">		}</span>

		public String getFieldName() {
<span class="fc" id="L3290">			return fieldName;</span>
		}

		public void setFieldName(String fieldName) {
<span class="fc" id="L3294">			this.fieldName = fieldName;</span>
<span class="fc" id="L3295">		}</span>

		public boolean isNullValueDistinctForced() {
<span class="fc" id="L3298">			return nullValueDistinctForced;</span>
		}

		public void setNullValueDistinctForced(boolean nullValueDistinctForced) {
<span class="fc" id="L3302">			this.nullValueDistinctForced = nullValueDistinctForced;</span>
<span class="fc" id="L3303">		}</span>

		public ValueReturnMode getCustomValueReturnMode() {
<span class="fc" id="L3306">			return customValueReturnMode;</span>
		}

		public void setCustomValueReturnMode(ValueReturnMode customValueReturnMode) {
<span class="fc" id="L3310">			this.customValueReturnMode = customValueReturnMode;</span>
<span class="fc" id="L3311">		}</span>

		public String getNullValueLabel() {
<span class="fc" id="L3314">			return nullValueLabel;</span>
		}

		public void setNullValueLabel(String nullValueLabel) {
<span class="fc" id="L3318">			this.nullValueLabel = nullValueLabel;</span>
<span class="fc" id="L3319">		}</span>

		public boolean isGetOnlyForced() {
<span class="fc" id="L3322">			return getOnlyForced;</span>
		}

		public void setGetOnlyForced(boolean getOnlyForced) {
<span class="fc" id="L3326">			this.getOnlyForced = getOnlyForced;</span>
<span class="fc" id="L3327">		}</span>

		public boolean isTransientForced() {
<span class="fc" id="L3330">			return transientForced;</span>
		}

		public void setTransientForced(boolean transientForced) {
<span class="fc" id="L3334">			this.transientForced = transientForced;</span>
<span class="fc" id="L3335">		}</span>

		public String getCustomFieldCaption() {
<span class="fc" id="L3338">			return customFieldCaption;</span>
		}

		public void setCustomFieldCaption(String customFieldCaption) {
<span class="fc" id="L3342">			this.customFieldCaption = customFieldCaption;</span>
<span class="fc" id="L3343">		}</span>

		public String getValueOptionsFieldName() {
<span class="fc" id="L3346">			return valueOptionsFieldName;</span>
		}

		public void setValueOptionsFieldName(String valueOptionsFieldName) {
<span class="fc" id="L3350">			this.valueOptionsFieldName = valueOptionsFieldName;</span>
<span class="fc" id="L3351">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L3355">			final int prime = 31;</span>
<span class="nc" id="L3356">			int result = 1;</span>
<span class="nc bnc" id="L3357" title="All 2 branches missed.">			result = prime * result + ((fieldName == null) ? 0 : fieldName.hashCode());</span>
<span class="nc" id="L3358">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L3363" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L3364">				return true;</span>
<span class="nc bnc" id="L3365" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L3366">				return false;</span>
<span class="nc bnc" id="L3367" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L3368">				return false;</span>
<span class="nc" id="L3369">			FieldCustomization other = (FieldCustomization) obj;</span>
<span class="nc bnc" id="L3370" title="All 2 branches missed.">			if (fieldName == null) {</span>
<span class="nc bnc" id="L3371" title="All 2 branches missed.">				if (other.fieldName != null)</span>
<span class="nc" id="L3372">					return false;</span>
<span class="nc bnc" id="L3373" title="All 2 branches missed.">			} else if (!fieldName.equals(other.fieldName))</span>
<span class="nc" id="L3374">				return false;</span>
<span class="nc" id="L3375">			return true;</span>
		}

		@Override
		public int compareTo(FieldCustomization o) {
<span class="nc" id="L3380">			return MiscUtils.compareNullables(fieldName, o.fieldName);</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L3385">			return &quot;FieldCustomization [fieldName=&quot; + fieldName + &quot;]&quot;;</span>
		}

	}

	public static class TextualStorage extends AbstractCustomization {
		private static final long serialVersionUID = 1L;

		protected String data;
		protected Mapping preConversion;

<span class="fc" id="L3396">		public TextualStorage() {</span>
<span class="fc" id="L3397">		}</span>

		public String getData() {
<span class="fc" id="L3400">			return data;</span>
		}

		public void setData(String data) {
<span class="fc" id="L3404">			this.data = data;</span>
<span class="fc" id="L3405">		}</span>

		public Mapping getPreConversion() {
<span class="fc" id="L3408">			return preConversion;</span>
		}

		public void setPreConversion(Mapping preConversion) {
<span class="fc" id="L3412">			this.preConversion = preConversion;</span>
<span class="fc" id="L3413">		}</span>

		public void save(ReflectionUI reflectionUI, Object object) {
<span class="nc bnc" id="L3416" title="All 2 branches missed.">			if (object == null) {</span>
<span class="nc" id="L3417">				this.data = null;</span>
<span class="nc" id="L3418">			} else {</span>
<span class="nc bnc" id="L3419" title="All 2 branches missed.">				if (preConversion != null) {</span>
<span class="nc" id="L3420">					Filter&lt;Object&gt; conversionMethod = preConversion.buildOverallConversionMethod(reflectionUI);</span>
<span class="nc" id="L3421">					object = conversionMethod.get(object);</span>
				}
<span class="nc" id="L3423">				this.data = IOUtils.serializeToHexaText(object);</span>
			}
<span class="nc" id="L3425">		}</span>

		public Object load(ReflectionUI reflectionUI) {
<span class="fc bfc" id="L3428" title="All 2 branches covered.">			if (data == null) {</span>
<span class="fc" id="L3429">				return null;</span>
			} else {
<span class="fc" id="L3431">				Object result = IOUtils.deserializeFromHexaText(data);</span>
<span class="fc bfc" id="L3432" title="All 2 branches covered.">				if (preConversion != null) {</span>
<span class="fc" id="L3433">					Filter&lt;Object&gt; reverseConversionMethod = preConversion</span>
<span class="fc" id="L3434">							.buildOverallReverseConversionMethod(reflectionUI);</span>
<span class="fc" id="L3435">					result = reverseConversionMethod.get(result);</span>
				}
<span class="fc" id="L3437">				return result;</span>
			}
		}

		@Override
		public int hashCode() {
<span class="nc" id="L3443">			final int prime = 31;</span>
<span class="nc" id="L3444">			int result = 1;</span>
<span class="nc bnc" id="L3445" title="All 2 branches missed.">			result = prime * result + ((data == null) ? 0 : data.hashCode());</span>
<span class="nc bnc" id="L3446" title="All 2 branches missed.">			result = prime * result + ((preConversion == null) ? 0 : preConversion.hashCode());</span>
<span class="nc" id="L3447">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="pc bpc" id="L3452" title="1 of 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L3453">				return true;</span>
<span class="pc bpc" id="L3454" title="1 of 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L3455">				return false;</span>
<span class="pc bpc" id="L3456" title="1 of 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L3457">				return false;</span>
<span class="fc" id="L3458">			TextualStorage other = (TextualStorage) obj;</span>
<span class="pc bpc" id="L3459" title="1 of 2 branches missed.">			if (data == null) {</span>
<span class="nc bnc" id="L3460" title="All 2 branches missed.">				if (other.data != null)</span>
<span class="nc" id="L3461">					return false;</span>
<span class="pc bpc" id="L3462" title="1 of 2 branches missed.">			} else if (!data.equals(other.data))</span>
<span class="nc" id="L3463">				return false;</span>
<span class="pc bpc" id="L3464" title="1 of 2 branches missed.">			if (preConversion == null) {</span>
<span class="pc bpc" id="L3465" title="1 of 2 branches missed.">				if (other.preConversion != null)</span>
<span class="nc" id="L3466">					return false;</span>
<span class="nc bnc" id="L3467" title="All 2 branches missed.">			} else if (!preConversion.equals(other.preConversion))</span>
<span class="nc" id="L3468">				return false;</span>
<span class="fc" id="L3469">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc bnc" id="L3474" title="All 2 branches missed.">			return &quot;TextualStorage [data=&quot; + ((data == null) ? null : MiscUtils.truncateNicely(data, 30))</span>
<span class="nc" id="L3475">					+ &quot;, preConversion=&quot; + preConversion + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L3480">	public enum TransactionalRole {</span>
<span class="fc" id="L3481">		BEGIN, COMMIT, ROLLBACK</span>
	}

<span class="fc" id="L3484">	public static class MethodCustomization extends AbstractMemberCustomization</span>
			implements Comparable&lt;MethodCustomization&gt; {
		private static final long serialVersionUID = 1L;

		protected String methodSignature;
		protected String customMethodCaption;
<span class="fc" id="L3490">		protected boolean readOnlyForced = false;</span>
<span class="fc" id="L3491">		protected boolean validating = false;</span>
<span class="fc" id="L3492">		protected boolean runWhenObjectShown = false;</span>
<span class="fc" id="L3493">		protected boolean runWhenObjectHidden = false;</span>
<span class="fc" id="L3494">		protected List&lt;ParameterCustomization&gt; parametersCustomizations = new ArrayList&lt;InfoCustomizations.ParameterCustomization&gt;();</span>
		protected ValueReturnMode customValueReturnMode;
		protected String nullReturnValueLabel;
<span class="fc" id="L3497">		protected boolean returnValueFieldGenerated = false;</span>
<span class="fc" id="L3498">		protected boolean detachedReturnValueForced = false;</span>
<span class="fc" id="L3499">		protected boolean returnValueValidityDetectionForced = false;</span>
		protected String encapsulationFieldName;
<span class="fc" id="L3501">		protected List&lt;String&gt; parameterizedFieldNames = new ArrayList&lt;String&gt;();</span>
		protected ResourcePath iconImagePath;
		protected IMenuItemContainerCustomization menuLocation;
<span class="fc" id="L3504">		protected boolean ignoredReturnValueForced = false;</span>
<span class="fc" id="L3505">		protected List&lt;TextualStorage&gt; serializedInvocationDatas = new ArrayList&lt;TextualStorage&gt;();</span>
<span class="fc" id="L3506">		protected boolean duplicateGenerated = false;</span>
		protected String confirmationMessage;
		protected String parametersValidationCustomCaption;
		protected TransactionalRole transactionalRole;
		protected String enablementStatusFieldName;
		protected String executionSuccessMessage;
<span class="fc" id="L3512">		protected boolean lastInvocationDataUsageDisabled = false;</span>

		@Override
		public boolean isInitial() {
<span class="nc bnc" id="L3516" title="All 2 branches missed.">			for (ParameterCustomization pc : parametersCustomizations) {</span>
<span class="nc bnc" id="L3517" title="All 2 branches missed.">				if (!pc.isInitial()) {</span>
<span class="nc" id="L3518">					return false;</span>
				}
			}
<span class="nc" id="L3521">			MethodCustomization defaultMethodCustomization = new MethodCustomization();</span>
<span class="nc" id="L3522">			defaultMethodCustomization.methodSignature = methodSignature;</span>
<span class="nc" id="L3523">			return InfoCustomizations.isSimilar(this, defaultMethodCustomization, &quot;parametersCustomizations&quot;);</span>
		}

		public boolean isLastInvocationDataUsageDisabled() {
<span class="fc" id="L3527">			return lastInvocationDataUsageDisabled;</span>
		}

		public void setLastInvocationDataUsageDisabled(boolean lastInvocationDataUsageDisabled) {
<span class="fc" id="L3531">			this.lastInvocationDataUsageDisabled = lastInvocationDataUsageDisabled;</span>
<span class="fc" id="L3532">		}</span>

		public String getExecutionSuccessMessage() {
<span class="fc" id="L3535">			return executionSuccessMessage;</span>
		}

		public void setExecutionSuccessMessage(String executionSuccessMessage) {
<span class="nc" id="L3539">			this.executionSuccessMessage = executionSuccessMessage;</span>
<span class="nc" id="L3540">		}</span>

		public String getEnablementStatusFieldName() {
<span class="fc" id="L3543">			return enablementStatusFieldName;</span>
		}

		public void setEnablementStatusFieldName(String enablementStatusFieldName) {
<span class="fc" id="L3547">			this.enablementStatusFieldName = enablementStatusFieldName;</span>
<span class="fc" id="L3548">		}</span>

		public TransactionalRole getTransactionalRole() {
<span class="fc" id="L3551">			return transactionalRole;</span>
		}

		public void setTransactionalRole(TransactionalRole transactionalRole) {
<span class="nc" id="L3555">			this.transactionalRole = transactionalRole;</span>
<span class="nc" id="L3556">		}</span>

		public String getParametersValidationCustomCaption() {
<span class="fc" id="L3559">			return parametersValidationCustomCaption;</span>
		}

		public void setParametersValidationCustomCaption(String parametersValidationCustomCaption) {
<span class="fc" id="L3563">			this.parametersValidationCustomCaption = parametersValidationCustomCaption;</span>
<span class="fc" id="L3564">		}</span>

		public boolean isRunWhenObjectShown() {
<span class="fc" id="L3567">			return runWhenObjectShown;</span>
		}

		public void setRunWhenObjectShown(boolean runWhenObjectShown) {
<span class="fc" id="L3571">			this.runWhenObjectShown = runWhenObjectShown;</span>
<span class="fc" id="L3572">		}</span>

		public boolean isRunWhenObjectHidden() {
<span class="fc" id="L3575">			return runWhenObjectHidden;</span>
		}

		public void setRunWhenObjectHidden(boolean runWhenObjectHidden) {
<span class="fc" id="L3579">			this.runWhenObjectHidden = runWhenObjectHidden;</span>
<span class="fc" id="L3580">		}</span>

		public String getConfirmationMessage() {
<span class="fc" id="L3583">			return confirmationMessage;</span>
		}

		public void setConfirmationMessage(String confirmationMessage) {
<span class="nc" id="L3587">			this.confirmationMessage = confirmationMessage;</span>
<span class="nc" id="L3588">		}</span>

		public boolean isDuplicateGenerated() {
<span class="fc" id="L3591">			return duplicateGenerated;</span>
		}

		public void setDuplicateGenerated(boolean duplicateGenerated) {
<span class="fc" id="L3595">			this.duplicateGenerated = duplicateGenerated;</span>
<span class="fc" id="L3596">		}</span>

		@XmlElement(name = &quot;serializedInvocationData&quot;)
		public List&lt;TextualStorage&gt; getSerializedInvocationDatas() {
<span class="fc" id="L3600">			return serializedInvocationDatas;</span>
		}

		public void setSerializedInvocationDatas(List&lt;TextualStorage&gt; serializedInvocationDatas) {
<span class="nc" id="L3604">			this.serializedInvocationDatas = serializedInvocationDatas;</span>
<span class="nc" id="L3605">		}</span>

		public boolean isIgnoredReturnValueForced() {
<span class="fc" id="L3608">			return ignoredReturnValueForced;</span>
		}

		public void setIgnoredReturnValueForced(boolean ignoredReturnValueForced) {
<span class="fc" id="L3612">			this.ignoredReturnValueForced = ignoredReturnValueForced;</span>
<span class="fc" id="L3613">		}</span>

		@XmlElements({ @XmlElement(name = &quot;menu&quot;, type = MenuCustomization.class),
				@XmlElement(name = &quot;menuItemCategory&quot;, type = MenuItemCategoryCustomization.class) })
		public IMenuItemContainerCustomization getMenuLocation() {
<span class="fc" id="L3618">			return menuLocation;</span>
		}

		public void setMenuLocation(IMenuItemContainerCustomization menuLocation) {
<span class="fc" id="L3622">			this.menuLocation = menuLocation;</span>
<span class="fc" id="L3623">		}</span>

		public String getMethodName() {
<span class="pc bpc" id="L3626" title="1 of 2 branches missed.">			if (methodSignature == null) {</span>
<span class="nc" id="L3627">				return null;</span>
			}
<span class="fc" id="L3629">			return ReflectionUIUtils.extractMethodNameFromSignature(methodSignature);</span>
		}

		public void setMethodName(String methodName) {
<span class="pc bpc" id="L3633" title="1 of 2 branches missed.">			if (methodSignature == null) {</span>
<span class="fc" id="L3634">				return;</span>
			}
<span class="nc" id="L3636">			String returnTypeName = ReflectionUIUtils.extractMethodReturnTypeNameFromSignature(methodSignature);</span>
<span class="nc" id="L3637">			String[] parameterTypeNames = ReflectionUIUtils</span>
<span class="nc" id="L3638">					.extractMethodParameterTypeNamesFromSignature(methodSignature);</span>
<span class="nc" id="L3639">			this.methodSignature = ReflectionUIUtils.buildMethodSignature(returnTypeName, methodName,</span>
<span class="nc" id="L3640">					Arrays.asList(parameterTypeNames));</span>
<span class="nc" id="L3641">		}</span>

		public ResourcePath getIconImagePath() {
<span class="fc" id="L3644">			return iconImagePath;</span>
		}

		public void setIconImagePath(ResourcePath iconImagePath) {
<span class="fc" id="L3648">			this.iconImagePath = iconImagePath;</span>
<span class="fc" id="L3649">		}</span>

		public String getEncapsulationFieldName() {
<span class="fc" id="L3652">			return encapsulationFieldName;</span>
		}

		public void setEncapsulationFieldName(String encapsulationFieldName) {
<span class="fc" id="L3656">			this.encapsulationFieldName = encapsulationFieldName;</span>
<span class="fc" id="L3657">		}</span>

		public boolean isReturnValueFieldGenerated() {
<span class="fc" id="L3660">			return returnValueFieldGenerated;</span>
		}

		public void setReturnValueFieldGenerated(boolean returnValueFieldGenerated) {
<span class="fc" id="L3664">			this.returnValueFieldGenerated = returnValueFieldGenerated;</span>
<span class="fc" id="L3665">		}</span>

		@XmlElement(name = &quot;parameterizedFieldName&quot;)
		public List&lt;String&gt; getParameterizedFieldNames() {
<span class="fc" id="L3669">			return parameterizedFieldNames;</span>
		}

		public void setParameterizedFieldNames(List&lt;String&gt; parameterizedFieldNames) {
<span class="nc" id="L3673">			this.parameterizedFieldNames = parameterizedFieldNames;</span>
<span class="nc" id="L3674">		}</span>

		public boolean isDetachedReturnValueForced() {
<span class="fc" id="L3677">			return detachedReturnValueForced;</span>
		}

		public void setDetachedReturnValueForced(boolean detachedReturnValueForced) {
<span class="fc" id="L3681">			this.detachedReturnValueForced = detachedReturnValueForced;</span>
<span class="fc" id="L3682">		}</span>

		public boolean isReturnValueValidityDetectionForced() {
<span class="fc" id="L3685">			return returnValueValidityDetectionForced;</span>
		}

		public void setReturnValueValidityDetectionForced(boolean returnValueValidityDetectionForced) {
<span class="fc" id="L3689">			this.returnValueValidityDetectionForced = returnValueValidityDetectionForced;</span>
<span class="fc" id="L3690">		}</span>

		public boolean isValidating() {
<span class="fc" id="L3693">			return validating;</span>
		}

		public void setValidating(boolean validating) {
<span class="fc" id="L3697">			this.validating = validating;</span>
<span class="fc" id="L3698">		}</span>

		public boolean isReadOnlyForced() {
<span class="fc" id="L3701">			return readOnlyForced;</span>
		}

		public void setReadOnlyForced(boolean readOnlyForced) {
<span class="fc" id="L3705">			this.readOnlyForced = readOnlyForced;</span>
<span class="fc" id="L3706">		}</span>

		public ValueReturnMode getCustomValueReturnMode() {
<span class="fc" id="L3709">			return customValueReturnMode;</span>
		}

		public void setCustomValueReturnMode(ValueReturnMode customReturnValueReturnMode) {
<span class="fc" id="L3713">			this.customValueReturnMode = customReturnValueReturnMode;</span>
<span class="fc" id="L3714">		}</span>

		public String getNullReturnValueLabel() {
<span class="nc" id="L3717">			return nullReturnValueLabel;</span>
		}

		public void setNullReturnValueLabel(String nullReturnValueLabel) {
<span class="nc" id="L3721">			this.nullReturnValueLabel = nullReturnValueLabel;</span>
<span class="nc" id="L3722">		}</span>

		public String getMethodSignature() {
<span class="fc" id="L3725">			return methodSignature;</span>
		}

		public void setMethodSignature(String methodSignature) {
<span class="fc" id="L3729">			this.methodSignature = methodSignature;</span>
<span class="fc" id="L3730">		}</span>

		public String getCustomMethodCaption() {
<span class="fc" id="L3733">			return customMethodCaption;</span>
		}

		public void setCustomMethodCaption(String customMethodCaption) {
<span class="fc" id="L3737">			this.customMethodCaption = customMethodCaption;</span>
<span class="fc" id="L3738">		}</span>

		@XmlElement(name = &quot;parametersCustomization&quot;)
		public List&lt;ParameterCustomization&gt; getParametersCustomizations() {
<span class="fc" id="L3742">			return parametersCustomizations;</span>
		}

		public void setParametersCustomizations(List&lt;ParameterCustomization&gt; parametersCustomizations) {
<span class="nc" id="L3746">			this.parametersCustomizations = parametersCustomizations;</span>
<span class="nc" id="L3747">		}</span>

		@Override
		public int hashCode() {
<span class="fc" id="L3751">			final int prime = 31;</span>
<span class="fc" id="L3752">			int result = 1;</span>
<span class="pc bpc" id="L3753" title="1 of 2 branches missed.">			result = prime * result + ((methodSignature == null) ? 0 : methodSignature.hashCode());</span>
<span class="fc" id="L3754">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L3759" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L3760">				return true;</span>
<span class="nc bnc" id="L3761" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L3762">				return false;</span>
<span class="nc bnc" id="L3763" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L3764">				return false;</span>
<span class="nc" id="L3765">			MethodCustomization other = (MethodCustomization) obj;</span>
<span class="nc bnc" id="L3766" title="All 2 branches missed.">			if (methodSignature == null) {</span>
<span class="nc bnc" id="L3767" title="All 2 branches missed.">				if (other.methodSignature != null)</span>
<span class="nc" id="L3768">					return false;</span>
<span class="nc bnc" id="L3769" title="All 2 branches missed.">			} else if (!methodSignature.equals(other.methodSignature))</span>
<span class="nc" id="L3770">				return false;</span>
<span class="nc" id="L3771">			return true;</span>
		}

		@Override
		public int compareTo(MethodCustomization o) {
<span class="nc" id="L3776">			return MiscUtils.compareNullables(getMethodName(), o.getMethodName());</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L3781">			return &quot;MethodCustomization [methodSignature=&quot; + methodSignature + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L3786">	public static class ParameterCustomization extends AbstractInfoCustomization</span>
			implements Comparable&lt;ParameterCustomization&gt; {
		private static final long serialVersionUID = 1L;

		protected String parameterName;
		protected String customParameterCaption;
<span class="fc" id="L3792">		protected boolean hidden = false;</span>
<span class="fc" id="L3793">		protected boolean nullValueDistinctForced = false;</span>
		protected String onlineHelp;
		protected boolean displayedAsField;
<span class="fc" id="L3796">		protected TextualStorage defaultValue = new TextualStorage();</span>

		@Override
		public boolean isInitial() {
<span class="nc" id="L3800">			ParameterCustomization defaultParameterCustomization = new ParameterCustomization();</span>
<span class="nc" id="L3801">			defaultParameterCustomization.parameterName = parameterName;</span>
<span class="nc" id="L3802">			return InfoCustomizations.isSimilar(this, defaultParameterCustomization);</span>
		}

		public TextualStorage getDefaultValue() {
<span class="fc" id="L3806">			return defaultValue;</span>
		}

		public void setDefaultValue(TextualStorage defaultValue) {
<span class="fc" id="L3810">			this.defaultValue = defaultValue;</span>
<span class="fc" id="L3811">		}</span>

		public boolean isDisplayedAsField() {
<span class="fc" id="L3814">			return displayedAsField;</span>
		}

		public void setDisplayedAsField(boolean displayedAsField) {
<span class="fc" id="L3818">			this.displayedAsField = displayedAsField;</span>
<span class="fc" id="L3819">		}</span>

		public String getParameterName() {
<span class="fc" id="L3822">			return parameterName;</span>
		}

		public void setParameterName(String parameterName) {
<span class="fc" id="L3826">			this.parameterName = parameterName;</span>
<span class="fc" id="L3827">		}</span>

		public boolean isHidden() {
<span class="fc" id="L3830">			return hidden;</span>
		}

		public void setHidden(boolean hidden) {
<span class="fc" id="L3834">			this.hidden = hidden;</span>
<span class="fc" id="L3835">		}</span>

		public boolean isNullValueDistinctForced() {
<span class="fc" id="L3838">			return nullValueDistinctForced;</span>
		}

		public void setNullValueDistinctForced(boolean nullValueDistinctForced) {
<span class="fc" id="L3842">			this.nullValueDistinctForced = nullValueDistinctForced;</span>
<span class="fc" id="L3843">		}</span>

		public String getCustomParameterCaption() {
<span class="fc" id="L3846">			return customParameterCaption;</span>
		}

		public void setCustomParameterCaption(String customParameterCaption) {
<span class="nc" id="L3850">			this.customParameterCaption = customParameterCaption;</span>
<span class="nc" id="L3851">		}</span>

		public String getOnlineHelp() {
<span class="fc" id="L3854">			return onlineHelp;</span>
		}

		public void setOnlineHelp(String onlineHelp) {
<span class="nc" id="L3858">			this.onlineHelp = onlineHelp;</span>
<span class="nc" id="L3859">		}</span>

		@Override
		public int hashCode() {
<span class="fc" id="L3863">			final int prime = 31;</span>
<span class="fc" id="L3864">			int result = 1;</span>
<span class="pc bpc" id="L3865" title="1 of 2 branches missed.">			result = prime * result + ((parameterName == null) ? 0 : parameterName.hashCode());</span>
<span class="fc" id="L3866">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L3871" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L3872">				return true;</span>
<span class="nc bnc" id="L3873" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L3874">				return false;</span>
<span class="nc bnc" id="L3875" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L3876">				return false;</span>
<span class="nc" id="L3877">			ParameterCustomization other = (ParameterCustomization) obj;</span>
<span class="nc bnc" id="L3878" title="All 2 branches missed.">			if (parameterName == null) {</span>
<span class="nc bnc" id="L3879" title="All 2 branches missed.">				if (other.parameterName != null)</span>
<span class="nc" id="L3880">					return false;</span>
<span class="nc bnc" id="L3881" title="All 2 branches missed.">			} else if (!parameterName.equals(other.parameterName))</span>
<span class="nc" id="L3882">				return false;</span>
<span class="nc" id="L3883">			return true;</span>
		}

		@Override
		public int compareTo(ParameterCustomization o) {
<span class="nc" id="L3888">			return MiscUtils.compareNullables(parameterName, o.parameterName);</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L3893">			return &quot;ParameterCustomization [parameterName=&quot; + parameterName + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L3898">	public static class ListItemFieldShortcut extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected String fieldName;
<span class="fc" id="L3902">		protected boolean alwaysShown = true;</span>
		protected String customFieldCaption;
		protected DisplayMode displayMode;

		public String getFieldName() {
<span class="fc" id="L3907">			return fieldName;</span>
		}

		public void setFieldName(String fieldName) {
<span class="fc" id="L3911">			this.fieldName = fieldName;</span>
<span class="fc" id="L3912">		}</span>

		public boolean isAlwaysShown() {
<span class="fc" id="L3915">			return alwaysShown;</span>
		}

		public void setAlwaysShown(boolean alwaysShown) {
<span class="fc" id="L3919">			this.alwaysShown = alwaysShown;</span>
<span class="fc" id="L3920">		}</span>

		public String getCustomFieldCaption() {
<span class="nc" id="L3923">			return customFieldCaption;</span>
		}

		public void setCustomFieldCaption(String customFieldCaption) {
<span class="fc" id="L3927">			this.customFieldCaption = customFieldCaption;</span>
<span class="fc" id="L3928">		}</span>

		public DisplayMode getDisplayMode() {
<span class="fc" id="L3931">			return displayMode;</span>
		}

		public void setDisplayMode(DisplayMode displayMode) {
<span class="fc" id="L3935">			this.displayMode = displayMode;</span>
<span class="fc" id="L3936">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L3940">			final int prime = 31;</span>
<span class="nc" id="L3941">			int result = 1;</span>
<span class="nc bnc" id="L3942" title="All 2 branches missed.">			result = prime * result + ((fieldName == null) ? 0 : fieldName.hashCode());</span>
<span class="nc" id="L3943">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L3948" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L3949">				return true;</span>
<span class="nc bnc" id="L3950" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L3951">				return false;</span>
<span class="nc bnc" id="L3952" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L3953">				return false;</span>
<span class="nc" id="L3954">			ListItemFieldShortcut other = (ListItemFieldShortcut) obj;</span>
<span class="nc bnc" id="L3955" title="All 2 branches missed.">			if (fieldName == null) {</span>
<span class="nc bnc" id="L3956" title="All 2 branches missed.">				if (other.fieldName != null)</span>
<span class="nc" id="L3957">					return false;</span>
<span class="nc bnc" id="L3958" title="All 2 branches missed.">			} else if (!fieldName.equals(other.fieldName))</span>
<span class="nc" id="L3959">				return false;</span>
<span class="nc" id="L3960">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L3965">			return &quot;ListItemFieldShortcut [fieldName=&quot; + fieldName + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L3970">	public static class ListItemMethodShortcut extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected String methodSignature;
<span class="fc" id="L3974">		protected boolean alwaysShown = true;</span>
		protected String customMethodCaption;
		protected ResourcePath customIconImagePath;
		protected DisplayMode displayMode;

		public String getMethodSignature() {
<span class="fc" id="L3980">			return methodSignature;</span>
		}

		public void setMethodSignature(String methodSignature) {
<span class="fc" id="L3984">			this.methodSignature = methodSignature;</span>
<span class="fc" id="L3985">		}</span>

		public boolean isAlwaysShown() {
<span class="fc" id="L3988">			return alwaysShown;</span>
		}

		public void setAlwaysShown(boolean alwaysShown) {
<span class="fc" id="L3992">			this.alwaysShown = alwaysShown;</span>
<span class="fc" id="L3993">		}</span>

		public String getCustomMethodCaption() {
<span class="fc" id="L3996">			return customMethodCaption;</span>
		}

		public void setCustomMethodCaption(String customMethodCaption) {
<span class="fc" id="L4000">			this.customMethodCaption = customMethodCaption;</span>
<span class="fc" id="L4001">		}</span>

		public ResourcePath getCustomIconImagePath() {
<span class="nc" id="L4004">			return customIconImagePath;</span>
		}

		public void setCustomIconImagePath(ResourcePath customIconImagePath) {
<span class="nc" id="L4008">			this.customIconImagePath = customIconImagePath;</span>
<span class="nc" id="L4009">		}</span>

		public DisplayMode getDisplayMode() {
<span class="fc" id="L4012">			return displayMode;</span>
		}

		public void setDisplayMode(DisplayMode displayMode) {
<span class="fc" id="L4016">			this.displayMode = displayMode;</span>
<span class="fc" id="L4017">		}</span>

		public void validate() {
<span class="nc bnc" id="L4020" title="All 4 branches missed.">			if ((methodSignature != null) &amp;&amp; (methodSignature.length() &gt; 0)) {</span>
<span class="nc bnc" id="L4021" title="All 2 branches missed.">				if (ReflectionUIUtils.extractMethodNameFromSignature(methodSignature) == null) {</span>
<span class="nc" id="L4022">					throw new ReflectionUIError(&quot;Malformed method signature: '&quot; + methodSignature + &quot;'&quot;);</span>
				}
			}
<span class="nc" id="L4025">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L4029">			final int prime = 31;</span>
<span class="nc" id="L4030">			int result = 1;</span>
<span class="nc bnc" id="L4031" title="All 2 branches missed.">			result = prime * result + ((methodSignature == null) ? 0 : methodSignature.hashCode());</span>
<span class="nc" id="L4032">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4037" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4038">				return true;</span>
<span class="nc bnc" id="L4039" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4040">				return false;</span>
<span class="nc bnc" id="L4041" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4042">				return false;</span>
<span class="nc" id="L4043">			ListItemMethodShortcut other = (ListItemMethodShortcut) obj;</span>
<span class="nc bnc" id="L4044" title="All 2 branches missed.">			if (methodSignature == null) {</span>
<span class="nc bnc" id="L4045" title="All 2 branches missed.">				if (other.methodSignature != null)</span>
<span class="nc" id="L4046">					return false;</span>
<span class="nc bnc" id="L4047" title="All 2 branches missed.">			} else if (!methodSignature.equals(other.methodSignature))</span>
<span class="nc" id="L4048">				return false;</span>
<span class="nc" id="L4049">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4054">			return &quot;ListItemMethodShortcut [methodSignature=&quot; + methodSignature + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L4059">	public static class InfoPattern extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

<span class="fc" id="L4062">		protected String value = &quot;&quot;;</span>
<span class="fc" id="L4063">		protected boolean regularExpression = false;</span>

		public String getValue() {
<span class="nc" id="L4066">			return value;</span>
		}

		public void setValue(String value) {
<span class="fc" id="L4070">			this.value = value;</span>
<span class="fc" id="L4071">		}</span>

		public boolean isRegularExpression() {
<span class="nc" id="L4074">			return regularExpression;</span>
		}

		public void setRegularExpression(boolean regularExpression) {
<span class="fc" id="L4078">			this.regularExpression = regularExpression;</span>
<span class="fc" id="L4079">		}</span>

		public boolean matches(String s) {
<span class="fc bfc" id="L4082" title="All 2 branches covered.">			if (regularExpression) {</span>
<span class="fc" id="L4083">				Pattern pattern = Pattern.compile(value);</span>
<span class="fc" id="L4084">				Matcher matcher = pattern.matcher(s);</span>
<span class="fc" id="L4085">				return matcher.matches();</span>
			} else {
<span class="fc" id="L4087">				return s.equals(value);</span>
			}
		}

		@Override
		public int hashCode() {
<span class="nc" id="L4093">			final int prime = 31;</span>
<span class="nc" id="L4094">			int result = 1;</span>
<span class="nc bnc" id="L4095" title="All 2 branches missed.">			result = prime * result + (regularExpression ? 1231 : 1237);</span>
<span class="nc bnc" id="L4096" title="All 2 branches missed.">			result = prime * result + ((value == null) ? 0 : value.hashCode());</span>
<span class="nc" id="L4097">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4102" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4103">				return true;</span>
<span class="nc bnc" id="L4104" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4105">				return false;</span>
<span class="nc bnc" id="L4106" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4107">				return false;</span>
<span class="nc" id="L4108">			InfoPattern other = (InfoPattern) obj;</span>
<span class="nc bnc" id="L4109" title="All 2 branches missed.">			if (regularExpression != other.regularExpression)</span>
<span class="nc" id="L4110">				return false;</span>
<span class="nc bnc" id="L4111" title="All 2 branches missed.">			if (value == null) {</span>
<span class="nc bnc" id="L4112" title="All 2 branches missed.">				if (other.value != null)</span>
<span class="nc" id="L4113">					return false;</span>
<span class="nc bnc" id="L4114" title="All 2 branches missed.">			} else if (!value.equals(other.value))</span>
<span class="nc" id="L4115">				return false;</span>
<span class="nc" id="L4116">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4121">			return &quot;InfoPattern [value=&quot; + value + &quot;, regularExpression=&quot; + regularExpression + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L4126">	public static class ListInstantiationOption extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

		protected ITypeInfoFinder customInstanceTypeFinder;

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getCustomInstanceTypeFinder() {
<span class="nc" id="L4134">			return customInstanceTypeFinder;</span>
		}

		public void setCustomInstanceTypeFinder(ITypeInfoFinder customInstanceTypeFinder) {
<span class="fc" id="L4138">			this.customInstanceTypeFinder = customInstanceTypeFinder;</span>
<span class="fc" id="L4139">		}</span>

	}

<span class="fc" id="L4143">	public static class ListEditOptions extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

<span class="fc" id="L4146">		protected boolean itemCreationEnabled = true;</span>
<span class="fc" id="L4147">		protected boolean itemDeletionEnabled = true;</span>
<span class="fc" id="L4148">		protected boolean itemMoveEnabled = true;</span>
		protected ListInstantiationOption listInstantiationOption;

		public ListInstantiationOption getListInstantiationOption() {
<span class="fc" id="L4152">			return listInstantiationOption;</span>
		}

		public void setListInstantiationOption(ListInstantiationOption listInstantiationOption) {
<span class="fc" id="L4156">			this.listInstantiationOption = listInstantiationOption;</span>
<span class="fc" id="L4157">		}</span>

		public boolean isItemCreationEnabled() {
<span class="fc" id="L4160">			return itemCreationEnabled;</span>
		}

		public void setItemCreationEnabled(boolean itemCreationEnabled) {
<span class="fc" id="L4164">			this.itemCreationEnabled = itemCreationEnabled;</span>
<span class="fc" id="L4165">		}</span>

		public boolean isItemDeletionEnabled() {
<span class="fc" id="L4168">			return itemDeletionEnabled;</span>
		}

		public void setItemDeletionEnabled(boolean itemDeletionEnabled) {
<span class="fc" id="L4172">			this.itemDeletionEnabled = itemDeletionEnabled;</span>
<span class="fc" id="L4173">		}</span>

		public boolean isItemMoveEnabled() {
<span class="fc" id="L4176">			return itemMoveEnabled;</span>
		}

		public void setItemMoveEnabled(boolean itemMoveEnabled) {
<span class="fc" id="L4180">			this.itemMoveEnabled = itemMoveEnabled;</span>
<span class="fc" id="L4181">		}</span>

	}

<span class="fc" id="L4185">	public static class EnumerationItemCustomization extends AbstractInfoCustomization</span>
			implements Comparable&lt;EnumerationItemCustomization&gt; {

		private static final long serialVersionUID = 1L;

		protected String itemName;
		protected String customCaption;
		protected boolean hidden;
		protected ResourcePath iconImagePath;
		protected String onlineHelp;

		@Override
		public boolean isInitial() {
<span class="nc" id="L4198">			EnumerationItemCustomization defaultEnumerationItemCustomization = new EnumerationItemCustomization();</span>
<span class="nc" id="L4199">			defaultEnumerationItemCustomization.itemName = itemName;</span>
<span class="nc" id="L4200">			return InfoCustomizations.isSimilar(this, defaultEnumerationItemCustomization);</span>

		}

		public String getItemName() {
<span class="fc" id="L4205">			return itemName;</span>
		}

		public void setItemName(String itemName) {
<span class="fc" id="L4209">			this.itemName = itemName;</span>
<span class="fc" id="L4210">		}</span>

		public String getCustomCaption() {
<span class="fc" id="L4213">			return customCaption;</span>
		}

		public void setCustomCaption(String customCaption) {
<span class="fc" id="L4217">			this.customCaption = customCaption;</span>
<span class="fc" id="L4218">		}</span>

		public ResourcePath getIconImagePath() {
<span class="fc" id="L4221">			return iconImagePath;</span>
		}

		public void setIconImagePath(ResourcePath iconImagePath) {
<span class="fc" id="L4225">			this.iconImagePath = iconImagePath;</span>
<span class="fc" id="L4226">		}</span>

		public String getOnlineHelp() {
<span class="fc" id="L4229">			return onlineHelp;</span>
		}

		public void setOnlineHelp(String onlineHelp) {
<span class="fc" id="L4233">			this.onlineHelp = onlineHelp;</span>
<span class="fc" id="L4234">		}</span>

		public boolean isHidden() {
<span class="fc" id="L4237">			return hidden;</span>
		}

		public void setHidden(boolean hidden) {
<span class="fc" id="L4241">			this.hidden = hidden;</span>
<span class="fc" id="L4242">		}</span>

		@Override
		public int compareTo(EnumerationItemCustomization o) {
<span class="nc" id="L4246">			int result = MiscUtils.compareNullables(itemName, o.itemName);</span>
<span class="nc" id="L4247">			return result;</span>
		}

		@Override
		public int hashCode() {
<span class="nc" id="L4252">			final int prime = 31;</span>
<span class="nc" id="L4253">			int result = 1;</span>
<span class="nc bnc" id="L4254" title="All 2 branches missed.">			result = prime * result + ((itemName == null) ? 0 : itemName.hashCode());</span>
<span class="nc" id="L4255">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4260" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4261">				return true;</span>
<span class="nc bnc" id="L4262" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4263">				return false;</span>
<span class="nc bnc" id="L4264" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4265">				return false;</span>
<span class="nc" id="L4266">			EnumerationItemCustomization other = (EnumerationItemCustomization) obj;</span>
<span class="nc bnc" id="L4267" title="All 2 branches missed.">			if (itemName == null) {</span>
<span class="nc bnc" id="L4268" title="All 2 branches missed.">				if (other.itemName != null)</span>
<span class="nc" id="L4269">					return false;</span>
<span class="nc bnc" id="L4270" title="All 2 branches missed.">			} else if (!itemName.equals(other.itemName))</span>
<span class="nc" id="L4271">				return false;</span>
<span class="nc" id="L4272">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4277">			return &quot;EnumerationItemCustomization [itemName=&quot; + itemName + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L4282">	public static class EnumerationCustomization extends AbstractCustomization</span>
			implements Comparable&lt;EnumerationCustomization&gt; {

		private static final long serialVersionUID = 1L;
		protected String enumerationTypeName;
<span class="fc" id="L4287">		protected List&lt;EnumerationItemCustomization&gt; itemCustomizations = new ArrayList&lt;EnumerationItemCustomization&gt;();</span>
<span class="fc" id="L4288">		protected boolean dynamicEnumerationForced = false;</span>
		protected List&lt;String&gt; itemsCustomOrder;

		@Override
		public boolean isInitial() {
<span class="nc" id="L4293">			EnumerationCustomization defaultEnumerationCustomization = new EnumerationCustomization();</span>
<span class="nc" id="L4294">			defaultEnumerationCustomization.enumerationTypeName = enumerationTypeName;</span>
<span class="nc" id="L4295">			return InfoCustomizations.isSimilar(this, defaultEnumerationCustomization);</span>
		}

		public String getEnumerationTypeName() {
<span class="fc" id="L4299">			return enumerationTypeName;</span>
		}

		public void setEnumerationTypeName(String enumerationTypeName) {
<span class="fc" id="L4303">			this.enumerationTypeName = enumerationTypeName;</span>
<span class="fc" id="L4304">		}</span>

		@XmlElement(name = &quot;itemCustomization&quot;)
		public List&lt;EnumerationItemCustomization&gt; getItemCustomizations() {
<span class="fc" id="L4308">			return itemCustomizations;</span>
		}

		public void setItemCustomizations(List&lt;EnumerationItemCustomization&gt; itemCustomizations) {
<span class="nc" id="L4312">			this.itemCustomizations = itemCustomizations;</span>
<span class="nc" id="L4313">		}</span>

		@XmlElement(name = &quot;itemsCustomOrderEntry&quot;)
		public List&lt;String&gt; getItemsCustomOrder() {
<span class="fc" id="L4317">			return itemsCustomOrder;</span>
		}

		public void setItemsCustomOrder(List&lt;String&gt; itemsCustomOrder) {
<span class="fc" id="L4321">			this.itemsCustomOrder = itemsCustomOrder;</span>
<span class="fc" id="L4322">		}</span>

		public boolean isDynamicEnumerationForced() {
<span class="fc" id="L4325">			return dynamicEnumerationForced;</span>
		}

		public void setDynamicEnumerationForced(boolean dynamicEnumerationForced) {
<span class="fc" id="L4329">			this.dynamicEnumerationForced = dynamicEnumerationForced;</span>
<span class="fc" id="L4330">		}</span>

		@Override
		public int compareTo(EnumerationCustomization o) {
<span class="nc" id="L4334">			int result = MiscUtils.compareNullables(enumerationTypeName, o.enumerationTypeName);</span>
<span class="nc" id="L4335">			return result;</span>
		}

		@Override
		public int hashCode() {
<span class="nc" id="L4340">			final int prime = 31;</span>
<span class="nc" id="L4341">			int result = 1;</span>
<span class="nc bnc" id="L4342" title="All 2 branches missed.">			result = prime * result + ((enumerationTypeName == null) ? 0 : enumerationTypeName.hashCode());</span>
<span class="nc" id="L4343">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4348" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4349">				return true;</span>
<span class="nc bnc" id="L4350" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4351">				return false;</span>
<span class="nc bnc" id="L4352" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4353">				return false;</span>
<span class="nc" id="L4354">			EnumerationCustomization other = (EnumerationCustomization) obj;</span>
<span class="nc bnc" id="L4355" title="All 2 branches missed.">			if (enumerationTypeName == null) {</span>
<span class="nc bnc" id="L4356" title="All 2 branches missed.">				if (other.enumerationTypeName != null)</span>
<span class="nc" id="L4357">					return false;</span>
<span class="nc bnc" id="L4358" title="All 2 branches missed.">			} else if (!enumerationTypeName.equals(other.enumerationTypeName))</span>
<span class="nc" id="L4359">				return false;</span>
<span class="nc" id="L4360">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4365">			return &quot;EnumerationCustomization [enumerationTypeName=&quot; + enumerationTypeName + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L4370">	public enum ControlSizeUnit {</span>
<span class="fc" id="L4371">		PIXELS, SCREEN_PERCENT</span>
	}

<span class="fc" id="L4374">	public static class ControlSizeCustomization extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

<span class="fc" id="L4377">		protected ControlSizeUnit unit = ControlSizeUnit.PIXELS;</span>
<span class="fc" id="L4378">		protected int value = 400;</span>

		public ControlSizeUnit getUnit() {
<span class="fc" id="L4381">			return unit;</span>
		}

		public void setUnit(ControlSizeUnit unit) {
<span class="fc" id="L4385">			this.unit = unit;</span>
<span class="fc" id="L4386">		}</span>

		public int getValue() {
<span class="fc" id="L4389">			return value;</span>
		}

		public void setValue(int value) {
<span class="fc" id="L4393">			this.value = value;</span>
<span class="fc" id="L4394">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L4398">			final int prime = 31;</span>
<span class="nc" id="L4399">			int result = 1;</span>
<span class="nc bnc" id="L4400" title="All 2 branches missed.">			result = prime * result + ((unit == null) ? 0 : unit.hashCode());</span>
<span class="nc" id="L4401">			result = prime * result + value;</span>
<span class="nc" id="L4402">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4407" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4408">				return true;</span>
<span class="nc bnc" id="L4409" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4410">				return false;</span>
<span class="nc bnc" id="L4411" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4412">				return false;</span>
<span class="nc" id="L4413">			ControlSizeCustomization other = (ControlSizeCustomization) obj;</span>
<span class="nc bnc" id="L4414" title="All 2 branches missed.">			if (unit != other.unit)</span>
<span class="nc" id="L4415">				return false;</span>
<span class="nc bnc" id="L4416" title="All 2 branches missed.">			if (value != other.value)</span>
<span class="nc" id="L4417">				return false;</span>
<span class="nc" id="L4418">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4423">			return &quot;ControlSizeCustomization [unit=&quot; + unit + &quot;, value=&quot; + value + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L4428">	public static class ListCustomization extends AbstractCustomization implements Comparable&lt;ListCustomization&gt; {</span>
		private static final long serialVersionUID = 1L;

		protected String listTypeName;
		protected String itemTypeName;
<span class="fc" id="L4433">		protected boolean itemTypeColumnAdded = false;</span>
<span class="fc" id="L4434">		protected boolean positionColumnAdded = false;</span>
<span class="fc" id="L4435">		protected boolean fieldColumnsAdded = false;</span>
<span class="fc" id="L4436">		protected boolean stringValueColumnAdded = false;</span>
<span class="fc" id="L4437">		protected List&lt;ColumnCustomization&gt; columnCustomizations = new ArrayList&lt;ColumnCustomization&gt;();</span>
		protected List&lt;String&gt; columnsCustomOrder;
		protected TreeStructureDiscoverySettings treeStructureDiscoverySettings;
<span class="fc" id="L4440">		protected List&lt;ListItemFieldShortcut&gt; allowedItemFieldShortcuts = new ArrayList&lt;ListItemFieldShortcut&gt;();</span>
<span class="fc" id="L4441">		protected List&lt;ListItemMethodShortcut&gt; allowedItemMethodShortcuts = new ArrayList&lt;ListItemMethodShortcut&gt;();</span>
<span class="fc" id="L4442">		protected List&lt;InfoPattern&gt; methodsExcludedFromItemDetails = new ArrayList&lt;InfoPattern&gt;();</span>
<span class="fc" id="L4443">		protected List&lt;InfoPattern&gt; fieldsExcludedFromItemDetails = new ArrayList&lt;InfoPattern&gt;();</span>
<span class="fc" id="L4444">		protected boolean itemDetailsViewDisabled = false;</span>
<span class="fc" id="L4445">		protected ListEditOptions editOptions = new ListEditOptions();</span>
<span class="fc" id="L4446">		protected boolean listSorted = false;</span>
		protected IListItemDetailsAccessMode customDetailsAccessMode;
<span class="fc" id="L4448">		protected ControlSizeCustomization width = null;</span>
<span class="fc" id="L4449">		protected ControlSizeCustomization height = null;</span>
<span class="fc" id="L4450">		protected boolean itemNullValueAllowed = false;</span>
<span class="fc" id="L4451">		protected ItemCreationMode itemCreationMode = ItemCreationMode.UNDEFINED;</span>
		protected ToolsLocation customToolsLocation;
		protected ValueReturnMode customItemReturnMode;
		protected ITypeInfoFinder customItemTypeFinder;
		protected String selectionTargetFieldName;
<span class="fc" id="L4456">		protected boolean itemAutomaticPositioningManagementForced = false;</span>

		@Override
		public boolean isInitial() {
<span class="nc" id="L4460">			ListCustomization defaultListCustomization = new ListCustomization();</span>
<span class="nc" id="L4461">			defaultListCustomization.listTypeName = listTypeName;</span>
<span class="nc" id="L4462">			defaultListCustomization.itemTypeName = itemTypeName;</span>
<span class="nc" id="L4463">			return InfoCustomizations.isSimilar(this, defaultListCustomization);</span>
		}

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getCustomItemTypeFinder() {
<span class="fc" id="L4469">			return customItemTypeFinder;</span>
		}

		@Deprecated
		public ItemNodeValidityDetectionConfiguration getItemNodeValidityDetectionConfiguration() {
<span class="nc bnc" id="L4474" title="All 2 branches missed.">			if (treeStructureDiscoverySettings != null) {</span>
<span class="nc bnc" id="L4475" title="All 2 branches missed.">				if (treeStructureDiscoverySettings.getItemValidabilityStatusFieldNamePattern() != null) {</span>
<span class="nc" id="L4476">					ItemNodeValidityDetectionConfiguration result = new ItemNodeValidityDetectionConfiguration();</span>
<span class="nc" id="L4477">					result.setEnablementStatusFieldNamePattern(</span>
<span class="nc" id="L4478">							treeStructureDiscoverySettings.getItemValidabilityStatusFieldNamePattern());</span>
<span class="nc" id="L4479">					return result;</span>
				}
			}
<span class="nc" id="L4482">			return null;</span>
		}

		@Deprecated
		public void setItemNodeValidityDetectionConfiguration(
				ItemNodeValidityDetectionConfiguration itemNodeValidityDetectionConfiguration) {
<span class="pc bpc" id="L4488" title="1 of 2 branches missed.">			if (itemNodeValidityDetectionConfiguration != null) {</span>
<span class="pc bpc" id="L4489" title="1 of 2 branches missed.">				if (itemNodeValidityDetectionConfiguration.getEnablementStatusFieldNamePattern() != null) {</span>
<span class="pc bpc" id="L4490" title="1 of 2 branches missed.">					if (treeStructureDiscoverySettings == null) {</span>
<span class="fc" id="L4491">						treeStructureDiscoverySettings = new TreeStructureDiscoverySettings();</span>
					}
<span class="fc" id="L4493">					treeStructureDiscoverySettings.setItemValidabilityStatusFieldNamePattern(</span>
<span class="fc" id="L4494">							itemNodeValidityDetectionConfiguration.getEnablementStatusFieldNamePattern());</span>
				}
			}
<span class="fc" id="L4497">		}</span>

		public ValueReturnMode getCustomItemReturnMode() {
<span class="fc" id="L4500">			return customItemReturnMode;</span>
		}

		public void setCustomItemReturnMode(ValueReturnMode customItemReturnMode) {
<span class="nc" id="L4504">			this.customItemReturnMode = customItemReturnMode;</span>
<span class="nc" id="L4505">		}</span>

		public void setCustomItemTypeFinder(ITypeInfoFinder customItemTypeFinder) {
<span class="fc" id="L4508">			this.customItemTypeFinder = customItemTypeFinder;</span>
<span class="fc" id="L4509">		}</span>

		public ItemCreationMode getItemCreationMode() {
<span class="fc" id="L4512">			return itemCreationMode;</span>
		}

		public void setItemCreationMode(ItemCreationMode itemCreationMode) {
<span class="fc" id="L4516">			this.itemCreationMode = itemCreationMode;</span>
<span class="fc" id="L4517">		}</span>

		public ToolsLocation getCustomToolsLocation() {
<span class="fc" id="L4520">			return customToolsLocation;</span>
		}

		public void setCustomToolsLocation(ToolsLocation customToolsLocation) {
<span class="fc" id="L4524">			this.customToolsLocation = customToolsLocation;</span>
<span class="fc" id="L4525">		}</span>

		public boolean isItemAutomaticPositioningManagementForced() {
<span class="fc" id="L4528">			return itemAutomaticPositioningManagementForced;</span>
		}

		public void setItemAutomaticPositioningManagementForced(boolean itemAutomaticPositioningManagementForced) {
<span class="fc" id="L4532">			this.itemAutomaticPositioningManagementForced = itemAutomaticPositioningManagementForced;</span>
<span class="fc" id="L4533">		}</span>

		public String getSelectionTargetFieldName() {
<span class="fc" id="L4536">			return selectionTargetFieldName;</span>
		}

		public void setSelectionTargetFieldName(String selectionTargetFieldName) {
<span class="fc" id="L4540">			this.selectionTargetFieldName = selectionTargetFieldName;</span>
<span class="fc" id="L4541">		}</span>

		public boolean isItemNullValueAllowed() {
<span class="fc" id="L4544">			return itemNullValueAllowed;</span>
		}

		public void setItemNullValueAllowed(boolean itemNullValueAllowed) {
<span class="fc" id="L4548">			this.itemNullValueAllowed = itemNullValueAllowed;</span>
<span class="fc" id="L4549">		}</span>

		public ControlSizeCustomization getWidth() {
<span class="fc" id="L4552">			return width;</span>
		}

		public void setWidth(ControlSizeCustomization width) {
<span class="fc" id="L4556">			this.width = width;</span>
<span class="fc" id="L4557">		}</span>

		public ControlSizeCustomization getHeight() {
<span class="fc" id="L4560">			return height;</span>
		}

		public void setHeight(ControlSizeCustomization height) {
<span class="fc" id="L4564">			this.height = height;</span>
<span class="fc" id="L4565">		}</span>

		@XmlElements({ @XmlElement(name = &quot;detachedDetailsAccessMode&quot;, type = DetachedItemDetailsAccessMode.class),
				@XmlElement(name = &quot;embeddedDetailsAccessMode&quot;, type = EmbeddedItemDetailsAccessMode.class) })
		public IListItemDetailsAccessMode getCustomDetailsAccessMode() {
<span class="fc" id="L4570">			return customDetailsAccessMode;</span>
		}

		public void setCustomDetailsAccessMode(IListItemDetailsAccessMode customDetailsAccessMode) {
<span class="fc" id="L4574">			this.customDetailsAccessMode = customDetailsAccessMode;</span>
<span class="fc" id="L4575">		}</span>

		@XmlElement(nillable = true)
		public ListEditOptions getEditOptions() {
<span class="fc" id="L4579">			return editOptions;</span>
		}

		public void setEditOptions(ListEditOptions editOptions) {
<span class="fc" id="L4583">			this.editOptions = editOptions;</span>
<span class="fc" id="L4584">		}</span>

		public boolean isListSorted() {
<span class="fc" id="L4587">			return listSorted;</span>
		}

		public void setListSorted(boolean listSorted) {
<span class="fc" id="L4591">			this.listSorted = listSorted;</span>
<span class="fc" id="L4592">		}</span>

		@XmlElement(name = &quot;fieldExcludedFromItemDetails&quot;)
		public List&lt;InfoPattern&gt; getFieldsExcludedFromItemDetails() {
<span class="fc" id="L4596">			return fieldsExcludedFromItemDetails;</span>
		}

		public void setFieldsExcludedFromItemDetails(List&lt;InfoPattern&gt; fieldsExcludedFromItemDetails) {
<span class="nc" id="L4600">			this.fieldsExcludedFromItemDetails = fieldsExcludedFromItemDetails;</span>
<span class="nc" id="L4601">		}</span>

		@XmlElement(name = &quot;methodExcludedFromItemDetails&quot;)
		public List&lt;InfoPattern&gt; getMethodsExcludedFromItemDetails() {
<span class="fc" id="L4605">			return methodsExcludedFromItemDetails;</span>
		}

		public void setMethodsExcludedFromItemDetails(List&lt;InfoPattern&gt; methods) {
<span class="nc" id="L4609">			this.methodsExcludedFromItemDetails = methods;</span>
<span class="nc" id="L4610">		}</span>

		@XmlElement(name = &quot;allowedItemFieldShortcut&quot;)
		public List&lt;ListItemFieldShortcut&gt; getAllowedItemFieldShortcuts() {
<span class="fc" id="L4614">			return allowedItemFieldShortcuts;</span>
		}

		public void setAllowedItemFieldShortcuts(List&lt;ListItemFieldShortcut&gt; allowedItemFieldShortcuts) {
<span class="nc" id="L4618">			this.allowedItemFieldShortcuts = allowedItemFieldShortcuts;</span>
<span class="nc" id="L4619">		}</span>

		@XmlElement(name = &quot;allowedItemMethodShortcut&quot;)
		public List&lt;ListItemMethodShortcut&gt; getAllowedItemMethodShortcuts() {
<span class="fc" id="L4623">			return allowedItemMethodShortcuts;</span>
		}

		public void setAllowedItemMethodShortcuts(List&lt;ListItemMethodShortcut&gt; allowedItemMethodShortcuts) {
<span class="nc" id="L4627">			this.allowedItemMethodShortcuts = allowedItemMethodShortcuts;</span>
<span class="nc" id="L4628">		}</span>

		@XmlElement(name = &quot;columnsCustomOrderEntry&quot;)
		public List&lt;String&gt; getColumnsCustomOrder() {
<span class="fc" id="L4632">			return columnsCustomOrder;</span>
		}

		public void setColumnsCustomOrder(List&lt;String&gt; columnsCustomOrder) {
<span class="fc" id="L4636">			this.columnsCustomOrder = columnsCustomOrder;</span>
<span class="fc" id="L4637">		}</span>

		public TreeStructureDiscoverySettings getTreeStructureDiscoverySettings() {
<span class="fc" id="L4640">			return treeStructureDiscoverySettings;</span>
		}

		public void setTreeStructureDiscoverySettings(TreeStructureDiscoverySettings treeStructureDiscoverySettings) {
<span class="fc" id="L4644">			this.treeStructureDiscoverySettings = treeStructureDiscoverySettings;</span>
<span class="fc" id="L4645">		}</span>

		public String getListTypeName() {
<span class="fc" id="L4648">			return listTypeName;</span>
		}

		public void setListTypeName(String listTypeName) {
<span class="fc" id="L4652">			this.listTypeName = listTypeName;</span>
<span class="fc" id="L4653">		}</span>

		public String getItemTypeName() {
<span class="fc" id="L4656">			return itemTypeName;</span>
		}

		public void setItemTypeName(String itemTypeName) {
<span class="fc" id="L4660">			this.itemTypeName = itemTypeName;</span>
<span class="fc" id="L4661">		}</span>

		@XmlElement(name = &quot;columnCustomization&quot;)
		public List&lt;ColumnCustomization&gt; getColumnCustomizations() {
<span class="fc" id="L4665">			return columnCustomizations;</span>
		}

		public void setColumnCustomizations(List&lt;ColumnCustomization&gt; columnCustomizations) {
<span class="nc" id="L4669">			this.columnCustomizations = columnCustomizations;</span>
<span class="nc" id="L4670">		}</span>

		public boolean isItemDetailsViewDisabled() {
<span class="fc" id="L4673">			return itemDetailsViewDisabled;</span>
		}

		public void setItemDetailsViewDisabled(boolean itemDetailsViewDisabled) {
<span class="fc" id="L4677">			this.itemDetailsViewDisabled = itemDetailsViewDisabled;</span>
<span class="fc" id="L4678">		}</span>

		public boolean isItemTypeColumnAdded() {
<span class="fc" id="L4681">			return itemTypeColumnAdded;</span>
		}

		public void setItemTypeColumnAdded(boolean itemTypeColumnAdded) {
<span class="fc" id="L4685">			this.itemTypeColumnAdded = itemTypeColumnAdded;</span>
<span class="fc" id="L4686">		}</span>

		public boolean isPositionColumnAdded() {
<span class="fc" id="L4689">			return positionColumnAdded;</span>
		}

		public void setPositionColumnAdded(boolean positionColumnAdded) {
<span class="fc" id="L4693">			this.positionColumnAdded = positionColumnAdded;</span>
<span class="fc" id="L4694">		}</span>

		public boolean isFieldColumnsAdded() {
<span class="fc" id="L4697">			return fieldColumnsAdded;</span>
		}

		public void setFieldColumnsAdded(boolean fieldColumnsAdded) {
<span class="fc" id="L4701">			this.fieldColumnsAdded = fieldColumnsAdded;</span>
<span class="fc" id="L4702">		}</span>

		public boolean isStringValueColumnAdded() {
<span class="fc" id="L4705">			return stringValueColumnAdded;</span>
		}

		public void setStringValueColumnAdded(boolean stringValueColumnAdded) {
<span class="fc" id="L4709">			this.stringValueColumnAdded = stringValueColumnAdded;</span>
<span class="fc" id="L4710">		}</span>

		@Override
		public int hashCode() {
<span class="fc" id="L4714">			final int prime = 31;</span>
<span class="fc" id="L4715">			int result = 1;</span>
<span class="pc bpc" id="L4716" title="1 of 2 branches missed.">			result = prime * result + ((itemTypeName == null) ? 0 : itemTypeName.hashCode());</span>
<span class="pc bpc" id="L4717" title="1 of 2 branches missed.">			result = prime * result + ((listTypeName == null) ? 0 : listTypeName.hashCode());</span>
<span class="fc" id="L4718">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="fc bfc" id="L4723" title="All 2 branches covered.">			if (this == obj)</span>
<span class="fc" id="L4724">				return true;</span>
<span class="pc bpc" id="L4725" title="1 of 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4726">				return false;</span>
<span class="pc bpc" id="L4727" title="1 of 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4728">				return false;</span>
<span class="fc" id="L4729">			ListCustomization other = (ListCustomization) obj;</span>
<span class="pc bpc" id="L4730" title="1 of 2 branches missed.">			if (itemTypeName == null) {</span>
<span class="nc bnc" id="L4731" title="All 2 branches missed.">				if (other.itemTypeName != null)</span>
<span class="nc" id="L4732">					return false;</span>
<span class="pc bpc" id="L4733" title="1 of 2 branches missed.">			} else if (!itemTypeName.equals(other.itemTypeName))</span>
<span class="nc" id="L4734">				return false;</span>
<span class="pc bpc" id="L4735" title="1 of 2 branches missed.">			if (listTypeName == null) {</span>
<span class="nc bnc" id="L4736" title="All 2 branches missed.">				if (other.listTypeName != null)</span>
<span class="nc" id="L4737">					return false;</span>
<span class="pc bpc" id="L4738" title="1 of 2 branches missed.">			} else if (!listTypeName.equals(other.listTypeName))</span>
<span class="nc" id="L4739">				return false;</span>
<span class="fc" id="L4740">			return true;</span>
		}

		@Override
		public int compareTo(ListCustomization o) {
<span class="nc" id="L4745">			int result = MiscUtils.compareNullables(listTypeName, o.listTypeName);</span>
<span class="nc bnc" id="L4746" title="All 2 branches missed.">			if (result == 0) {</span>
<span class="nc" id="L4747">				result = MiscUtils.compareNullables(itemTypeName, o.itemTypeName);</span>
			}
<span class="nc" id="L4749">			return result;</span>
		}

		@Override
		public String toString() {
<span class="fc" id="L4754">			return &quot;ListCustomization [listTypeName=&quot; + listTypeName + &quot;, itemTypeName=&quot; + itemTypeName + &quot;]&quot;;</span>
		}

	}

<span class="fc" id="L4759">	public static class ItemNodeValidityDetectionConfiguration extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;
		protected InfoPattern enablementStatusFieldNamePattern;

		public InfoPattern getEnablementStatusFieldNamePattern() {
<span class="fc" id="L4764">			return enablementStatusFieldNamePattern;</span>
		}

		public void setEnablementStatusFieldNamePattern(InfoPattern enablementStatusFieldNamePattern) {
<span class="fc" id="L4768">			this.enablementStatusFieldNamePattern = enablementStatusFieldNamePattern;</span>
<span class="fc" id="L4769">		}</span>

	}

<span class="fc" id="L4773">	public static class TreeStructureDiscoverySettings extends AbstractCustomization {</span>
		private static final long serialVersionUID = 1L;

<span class="fc" id="L4776">		protected boolean heterogeneousTree = true;</span>
		protected ITypeInfoFinder customBaseNodeTypeFinder;
<span class="fc" id="L4778">		protected List&lt;InfoPattern&gt; excludedSubListFields = new ArrayList&lt;InfoPattern&gt;();</span>
<span class="fc" id="L4779">		protected boolean singleSubListFieldNameNeverDisplayedAsTreeNode = true;</span>
<span class="fc" id="L4780">		protected boolean subListFieldControlSlave = false;</span>
		protected InfoPattern itemValidabilityStatusFieldNamePattern;

		public InfoPattern getItemValidabilityStatusFieldNamePattern() {
<span class="fc" id="L4784">			return itemValidabilityStatusFieldNamePattern;</span>
		}

		public void setItemValidabilityStatusFieldNamePattern(InfoPattern itemValidabilityStatusFieldNamePattern) {
<span class="fc" id="L4788">			this.itemValidabilityStatusFieldNamePattern = itemValidabilityStatusFieldNamePattern;</span>
<span class="fc" id="L4789">		}</span>

		public boolean isSingleSubListFieldNameNeverDisplayedAsTreeNode() {
<span class="fc" id="L4792">			return singleSubListFieldNameNeverDisplayedAsTreeNode;</span>
		}

		public void setSingleSubListFieldNameNeverDisplayedAsTreeNode(
				boolean singleSubListFieldNameNeverDisplayedAsTreeNode) {
<span class="fc" id="L4797">			this.singleSubListFieldNameNeverDisplayedAsTreeNode = singleSubListFieldNameNeverDisplayedAsTreeNode;</span>
<span class="fc" id="L4798">		}</span>

		public boolean isHeterogeneousTree() {
<span class="fc" id="L4801">			return heterogeneousTree;</span>
		}

		public void setHeterogeneousTree(boolean heterogeneousTree) {
<span class="fc" id="L4805">			this.heterogeneousTree = heterogeneousTree;</span>
<span class="fc" id="L4806">		}</span>

		@XmlElements({ @XmlElement(name = &quot;javaClassBasedTypeInfoFinder&quot;, type = JavaClassBasedTypeInfoFinder.class),
				@XmlElement(name = &quot;customTypeInfoFinder&quot;, type = CustomTypeInfoFinder.class) })
		public ITypeInfoFinder getCustomBaseNodeTypeFinder() {
<span class="fc" id="L4811">			return customBaseNodeTypeFinder;</span>
		}

		public void setCustomBaseNodeTypeFinder(ITypeInfoFinder customBaseNodeTypeFinder) {
<span class="fc" id="L4815">			this.customBaseNodeTypeFinder = customBaseNodeTypeFinder;</span>
<span class="fc" id="L4816">		}</span>

		@XmlElement(name = &quot;excludedSubListField&quot;)
		public List&lt;InfoPattern&gt; getExcludedSubListFields() {
<span class="fc" id="L4820">			return excludedSubListFields;</span>
		}

		public void setExcludedSubListFields(List&lt;InfoPattern&gt; excludedSubListFields) {
<span class="nc" id="L4824">			this.excludedSubListFields = excludedSubListFields;</span>
<span class="nc" id="L4825">		}</span>

		public boolean isSubListFieldControlSlave() {
<span class="fc" id="L4828">			return subListFieldControlSlave;</span>
		}

		public void setSubListFieldControlSlave(boolean subListFieldControlSlave) {
<span class="fc" id="L4832">			this.subListFieldControlSlave = subListFieldControlSlave;</span>
<span class="fc" id="L4833">		}</span>

	}

<span class="fc" id="L4837">	public static class ColumnCustomization extends AbstractCustomization implements Comparable&lt;ColumnCustomization&gt; {</span>

		private static final long serialVersionUID = 1L;
		protected String columnName;
		protected String customCaption;
<span class="fc" id="L4842">		protected boolean hidden = false;</span>
		protected Integer minimalCharacterCount;

		@Override
		public boolean isInitial() {
<span class="nc" id="L4847">			ColumnCustomization defaultColumnCustomization = new ColumnCustomization();</span>
<span class="nc" id="L4848">			defaultColumnCustomization.columnName = columnName;</span>
<span class="nc" id="L4849">			return InfoCustomizations.isSimilar(this, defaultColumnCustomization);</span>
		}

		public String getColumnName() {
<span class="fc" id="L4853">			return columnName;</span>
		}

		public void setColumnName(String columnName) {
<span class="fc" id="L4857">			this.columnName = columnName;</span>
<span class="fc" id="L4858">		}</span>

		public boolean isHidden() {
<span class="fc" id="L4861">			return hidden;</span>
		}

		public void setHidden(boolean hidden) {
<span class="fc" id="L4865">			this.hidden = hidden;</span>
<span class="fc" id="L4866">		}</span>

		public String getCustomCaption() {
<span class="fc" id="L4869">			return customCaption;</span>
		}

		public void setCustomCaption(String customCaption) {
<span class="fc" id="L4873">			this.customCaption = customCaption;</span>
<span class="fc" id="L4874">		}</span>

		public Integer getMinimalCharacterCount() {
<span class="fc" id="L4877">			return minimalCharacterCount;</span>
		}

		public void setMinimalCharacterCount(Integer minimalCharacterCount) {
<span class="fc" id="L4881">			this.minimalCharacterCount = minimalCharacterCount;</span>
<span class="fc" id="L4882">		}</span>

		@Override
		public int hashCode() {
<span class="nc" id="L4886">			final int prime = 31;</span>
<span class="nc" id="L4887">			int result = 1;</span>
<span class="nc bnc" id="L4888" title="All 2 branches missed.">			result = prime * result + ((columnName == null) ? 0 : columnName.hashCode());</span>
<span class="nc" id="L4889">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4894" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4895">				return true;</span>
<span class="nc bnc" id="L4896" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4897">				return false;</span>
<span class="nc bnc" id="L4898" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4899">				return false;</span>
<span class="nc" id="L4900">			ColumnCustomization other = (ColumnCustomization) obj;</span>
<span class="nc bnc" id="L4901" title="All 2 branches missed.">			if (columnName == null) {</span>
<span class="nc bnc" id="L4902" title="All 2 branches missed.">				if (other.columnName != null)</span>
<span class="nc" id="L4903">					return false;</span>
<span class="nc bnc" id="L4904" title="All 2 branches missed.">			} else if (!columnName.equals(other.columnName))</span>
<span class="nc" id="L4905">				return false;</span>
<span class="nc" id="L4906">			return true;</span>
		}

		@Override
		public int compareTo(ColumnCustomization o) {
<span class="nc" id="L4911">			return MiscUtils.compareNullables(columnName, o.columnName);</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4916">			return &quot;ColumnCustomization [columnName=&quot; + columnName + &quot;]&quot;;</span>
		}

	}

	public static interface ITypeInfoFinder {
		ITypeInfo find(ReflectionUI reflectionUI, SpecificitiesIdentifier specificitiesIdentifier);

		String getCriteria();
	}

<span class="fc" id="L4927">	public static class JavaClassBasedTypeInfoFinder extends AbstractCustomization implements ITypeInfoFinder {</span>

		private static final long serialVersionUID = 1L;
		protected String className;

		public String getClassName() {
<span class="nc" id="L4933">			return className;</span>
		}

		public void setClassName(String className) {
<span class="fc" id="L4937">			this.className = className;</span>
<span class="fc" id="L4938">		}</span>

		@Override
		public String getCriteria() {
<span class="nc bnc" id="L4942" title="All 2 branches missed.">			return &quot;className=&quot; + ((className == null) ? &quot;&quot; : className);</span>
		}

		public void validate(ReflectionUI reflectionUI) throws ClassNotFoundException {
<span class="nc bnc" id="L4946" title="All 4 branches missed.">			if ((className == null) || (className.length() == 0)) {</span>
<span class="nc" id="L4947">				throw new ReflectionUIError(&quot;Class name not specified !&quot;);</span>
			}
<span class="nc" id="L4949">			reflectionUI.getReflectedClass(className);</span>
<span class="nc" id="L4950">		}</span>

		@Override
		public ITypeInfo find(ReflectionUI reflectionUI, SpecificitiesIdentifier specificitiesIdentifier) {
			Class&lt;?&gt; javaType;
			try {
<span class="fc" id="L4956">				javaType = reflectionUI.getReflectedClass(className);</span>
<span class="pc" id="L4957">			} catch (ClassNotFoundException e) {</span>
<span class="nc" id="L4958">				throw new ReflectionUIError(e);</span>
			}
<span class="fc" id="L4960">			return reflectionUI.getTypeInfo(new JavaTypeInfoSource(javaType, specificitiesIdentifier));</span>
		}

		@Override
		public int hashCode() {
<span class="nc" id="L4965">			final int prime = 31;</span>
<span class="nc" id="L4966">			int result = 1;</span>
<span class="nc bnc" id="L4967" title="All 2 branches missed.">			result = prime * result + ((className == null) ? 0 : className.hashCode());</span>
<span class="nc" id="L4968">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L4973" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L4974">				return true;</span>
<span class="nc bnc" id="L4975" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L4976">				return false;</span>
<span class="nc bnc" id="L4977" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L4978">				return false;</span>
<span class="nc" id="L4979">			JavaClassBasedTypeInfoFinder other = (JavaClassBasedTypeInfoFinder) obj;</span>
<span class="nc bnc" id="L4980" title="All 2 branches missed.">			if (className == null) {</span>
<span class="nc bnc" id="L4981" title="All 2 branches missed.">				if (other.className != null)</span>
<span class="nc" id="L4982">					return false;</span>
<span class="nc bnc" id="L4983" title="All 2 branches missed.">			} else if (!className.equals(other.className))</span>
<span class="nc" id="L4984">				return false;</span>
<span class="nc" id="L4985">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L4990">			return &quot;JavaClassBasedTypeInfoFinder [className=&quot; + className + &quot;]&quot;;</span>
		}

	}

<span class="nc" id="L4995">	public static class CustomTypeInfoFinder extends AbstractCustomization implements ITypeInfoFinder {</span>

		private static final long serialVersionUID = 1L;
		protected String implementationClassName;

		public String getImplementationClassName() {
<span class="nc" id="L5001">			return implementationClassName;</span>
		}

		public void setImplementationClassName(String implementationClassName) {
<span class="nc" id="L5005">			this.implementationClassName = implementationClassName;</span>
<span class="nc" id="L5006">		}</span>

		@Override
		public String getCriteria() {
<span class="nc bnc" id="L5010" title="All 2 branches missed.">			return &quot;implementationClassName=&quot; + ((implementationClassName == null) ? &quot;&quot; : implementationClassName);</span>
		}

		public void validate(ReflectionUI reflectionUI) throws ClassNotFoundException {
<span class="nc bnc" id="L5014" title="All 4 branches missed.">			if ((implementationClassName == null) || (implementationClassName.length() == 0)) {</span>
<span class="nc" id="L5015">				throw new ReflectionUIError(&quot;Implementation class name not specified !&quot;);</span>
			}
<span class="nc" id="L5017">			Class&lt;?&gt; implementationClass = reflectionUI.getReflectedClass(implementationClassName);</span>
<span class="nc bnc" id="L5018" title="All 2 branches missed.">			if (!ITypeInfo.class.isAssignableFrom(implementationClass)) {</span>
<span class="nc" id="L5019">				throw new ReflectionUIError(&quot;Class not implementing &quot; + ITypeInfo.class.getName() + &quot; !&quot;);</span>
			}
			try {
<span class="nc" id="L5022">				implementationClass.getConstructor();</span>
<span class="nc" id="L5023">			} catch (Exception e) {</span>
<span class="nc" id="L5024">				throw new ReflectionUIError(</span>
<span class="nc" id="L5025">						&quot;Could not find a default constructor for the implementation class: &quot; + e.toString(), e);</span>
			}
<span class="nc" id="L5027">		}</span>

		@Override
		public ITypeInfo find(ReflectionUI reflectionUI, SpecificitiesIdentifier specificitiesIdentifier) {
			try {
<span class="nc" id="L5032">				Class&lt;?&gt; implementationClass = reflectionUI.getReflectedClass(implementationClassName);</span>
<span class="nc" id="L5033">				return (ITypeInfo) implementationClass.newInstance();</span>
<span class="nc" id="L5034">			} catch (Exception e) {</span>
<span class="nc" id="L5035">				throw new ReflectionUIError(&quot;Failed to instantiate the implementation class: &quot; + e.toString(), e);</span>
			}
		}

		@Override
		public int hashCode() {
<span class="nc" id="L5041">			final int prime = 31;</span>
<span class="nc" id="L5042">			int result = 1;</span>
<span class="nc bnc" id="L5043" title="All 2 branches missed.">			result = prime * result + ((implementationClassName == null) ? 0 : implementationClassName.hashCode());</span>
<span class="nc" id="L5044">			return result;</span>
		}

		@Override
		public boolean equals(Object obj) {
<span class="nc bnc" id="L5049" title="All 2 branches missed.">			if (this == obj)</span>
<span class="nc" id="L5050">				return true;</span>
<span class="nc bnc" id="L5051" title="All 2 branches missed.">			if (obj == null)</span>
<span class="nc" id="L5052">				return false;</span>
<span class="nc bnc" id="L5053" title="All 2 branches missed.">			if (getClass() != obj.getClass())</span>
<span class="nc" id="L5054">				return false;</span>
<span class="nc" id="L5055">			CustomTypeInfoFinder other = (CustomTypeInfoFinder) obj;</span>
<span class="nc bnc" id="L5056" title="All 2 branches missed.">			if (implementationClassName == null) {</span>
<span class="nc bnc" id="L5057" title="All 2 branches missed.">				if (other.implementationClassName != null)</span>
<span class="nc" id="L5058">					return false;</span>
<span class="nc bnc" id="L5059" title="All 2 branches missed.">			} else if (!implementationClassName.equals(other.implementationClassName))</span>
<span class="nc" id="L5060">				return false;</span>
<span class="nc" id="L5061">			return true;</span>
		}

		@Override
		public String toString() {
<span class="nc" id="L5066">			return &quot;CustomTypeInfoFinder [implementationClassName=&quot; + implementationClassName + &quot;]&quot;;</span>
		}

	}

	/**
	 * Maintains backward compatibility as much as possible with
	 * {@link InfoCustomizations} files by detecting and upgrading specific
	 * customizations.
	 * 
	 * @author olitank
	 *
	 */
<span class="fc" id="L5079">	protected class Migrator {</span>

		public void migrate() {
<span class="fc" id="L5082">			boolean migrated = false;</span>
<span class="fc bfc" id="L5083" title="All 2 branches covered.">			for (TypeCustomization tc : getTypeCustomizations()) {</span>
<span class="pc bpc" id="L5084" title="1 of 2 branches missed.">				if (migrate(tc)) {</span>
<span class="nc" id="L5085">					migrated = true;</span>
				}
			}
<span class="pc bpc" id="L5088" title="1 of 2 branches missed.">			if (migrated) {</span>
<span class="nc" id="L5089">				System.err.println(&quot;[&quot; + InfoCustomizations.class.getName() + &quot;] DEPRECATION NOTICE: &quot; + this</span>
<span class="nc" id="L5090">						+ &quot; was migrated automatically. The customizations file must be saved to remain valid with future releases.&quot;);</span>
			}
<span class="fc" id="L5092">		}</span>

		private boolean migrate(TypeCustomization tc) {
<span class="fc" id="L5095">			boolean migrated = false;</span>
<span class="pc bpc" id="L5096" title="1 of 2 branches missed.">			if (tc.getTypeName().contains(&quot;NonNullableInstance&quot;)) {</span>
<span class="nc" id="L5097">				tc.setTypeName(tc.getTypeName().replace(&quot;NonNullableInstance&quot;, &quot;MutableInstance&quot;));</span>
<span class="nc" id="L5098">				migrated = true;</span>
			}
<span class="fc bfc" id="L5100" title="All 2 branches covered.">			for (FieldCustomization fc : tc.getFieldsCustomizations()) {</span>
<span class="pc bpc" id="L5101" title="1 of 2 branches missed.">				if (migrate(fc, tc)) {</span>
<span class="nc" id="L5102">					migrated = true;</span>
				}
			}
<span class="fc bfc" id="L5105" title="All 2 branches covered.">			for (MethodCustomization mc : tc.getMethodsCustomizations()) {</span>
<span class="pc bpc" id="L5106" title="1 of 2 branches missed.">				if (migrate(mc, tc)) {</span>
<span class="nc" id="L5107">					migrated = true;</span>
				}
			}
<span class="fc" id="L5110">			return migrated;</span>
		}

		private boolean migrate(FieldCustomization fc, TypeCustomization containingTc) {
<span class="fc" id="L5114">			boolean migrated = false;</span>
<span class="pc bpc" id="L5115" title="1 of 2 branches missed.">			if (fc.getNullReplacement() != null) {</span>
<span class="pc bpc" id="L5116" title="1 of 2 branches missed.">				if (fixHistoricalImageIconClassSwappingIssue(fc.getNullReplacement())) {</span>
<span class="nc" id="L5117">					migrated = true;</span>
				}
			}
<span class="fc bfc" id="L5120" title="All 2 branches covered.">			for (TypeCustomization fieldTc : fc.getSpecificTypeCustomizations().getTypeCustomizations()) {</span>
<span class="pc bpc" id="L5121" title="1 of 2 branches missed.">				if (migrate(fieldTc)) {</span>
<span class="nc" id="L5122">					migrated = true;</span>
				}
			}
<span class="fc" id="L5125">			return migrated;</span>
		}

		private boolean migrate(MethodCustomization mc, TypeCustomization containingTc) {
<span class="fc" id="L5129">			boolean migrated = false;</span>
<span class="fc bfc" id="L5130" title="All 2 branches covered.">			if (mc.isReturnValueFieldGenerated()) {</span>
<span class="pc bpc" id="L5131" title="1 of 2 branches missed.">				if (upgradeReturnValueFieldName(mc, containingTc)) {</span>
<span class="nc" id="L5132">					migrated = true;</span>
				}
			}
<span class="fc bfc" id="L5135" title="All 2 branches covered.">			if (mc.getSerializedInvocationDatas().size() &gt; 0) {</span>
<span class="pc bpc" id="L5136" title="1 of 2 branches missed.">				if (upgradePresetMethodNames(mc, containingTc)) {</span>
<span class="nc" id="L5137">					migrated = true;</span>
				}
			}
<span class="fc bfc" id="L5140" title="All 2 branches covered.">			for (ParameterCustomization pc : mc.getParametersCustomizations()) {</span>
<span class="pc bpc" id="L5141" title="1 of 2 branches missed.">				if (migrate(pc, mc, containingTc)) {</span>
<span class="nc" id="L5142">					migrated = true;</span>
				}
			}
<span class="fc" id="L5145">			return migrated;</span>
		}

		private boolean migrate(ParameterCustomization pc, MethodCustomization mc, TypeCustomization containingTc) {
<span class="fc" id="L5149">			boolean migrated = false;</span>
<span class="pc bpc" id="L5150" title="1 of 2 branches missed.">			if (pc.isDisplayedAsField()) {</span>
<span class="nc bnc" id="L5151" title="All 2 branches missed.">				if (upgradeParameterFieldName(pc, mc, containingTc)) {</span>
<span class="nc" id="L5152">					migrated = true;</span>
				}
			}
<span class="fc" id="L5155">			return migrated;</span>
		}

		private boolean upgradeParameterFieldName(ParameterCustomization pc, MethodCustomization mc,
				TypeCustomization containingTc) {
<span class="nc" id="L5160">			boolean migrated = false;</span>
<span class="nc bnc" id="L5161" title="All 2 branches missed.">			for (FieldCustomization siblingFc : containingTc.getFieldsCustomizations()) {</span>
<span class="nc" id="L5162">				if (siblingFc.getFieldName().equals(ParameterAsFieldInfo</span>
<span class="nc bnc" id="L5163" title="All 2 branches missed.">						.buildLegacyParameterFieldName(mc.getMethodName(), pc.getParameterName()))) {</span>
<span class="nc" id="L5164">					String oldFieldName = siblingFc.getFieldName();</span>
<span class="nc" id="L5165">					siblingFc.setFieldName(ParameterAsFieldInfo.buildParameterFieldName(mc.getMethodSignature(),</span>
<span class="nc" id="L5166">							pc.getParameterName()));</span>
<span class="nc bnc" id="L5167" title="All 2 branches missed.">					if (containingTc.getCustomFieldsOrder() != null) {</span>
<span class="nc" id="L5168">						MiscUtils.replaceItem(containingTc.getCustomFieldsOrder(), oldFieldName,</span>
<span class="nc" id="L5169">								siblingFc.getFieldName());</span>
					}
<span class="nc bnc" id="L5171" title="All 2 branches missed.">					if (siblingFc.getEncapsulationFieldName() != null) {</span>
<span class="nc" id="L5172">						FieldCustomization capsuleFc = getFieldCustomization(containingTc,</span>
<span class="nc" id="L5173">								siblingFc.getEncapsulationFieldName(), false);</span>
<span class="nc bnc" id="L5174" title="All 2 branches missed.">						if (capsuleFc != null) {</span>
<span class="nc" id="L5175">							String capsuleTypeName = MembersCapsuleFieldInfo</span>
<span class="nc" id="L5176">									.buildTypeName(siblingFc.getEncapsulationFieldName(), containingTc.getTypeName());</span>
<span class="nc" id="L5177">							TypeCustomization capsuleTc = getTypeCustomization(InfoCustomizations.this, capsuleTypeName,</span>
<span class="nc" id="L5178">									false);</span>
<span class="nc bnc" id="L5179" title="All 2 branches missed.">							if (capsuleTc != null) {</span>
<span class="nc" id="L5180">								upgradeParameterFieldName(pc, mc, capsuleTc);</span>
							}
						}
					}
<span class="nc" id="L5184">					migrated = true;</span>
				}
			}
<span class="nc" id="L5187">			return migrated;</span>
		}

		private boolean upgradePresetMethodNames(MethodCustomization mc, TypeCustomization containingTc) {
<span class="fc" id="L5191">			boolean migrated = false;</span>
<span class="fc" id="L5192">			List&lt;TextualStorage&gt; serializedInvocationDatas = mc.getSerializedInvocationDatas();</span>
<span class="fc bfc" id="L5193" title="All 2 branches covered.">			for (int invocationDataIndex = 0; invocationDataIndex &lt; serializedInvocationDatas</span>
<span class="fc" id="L5194">					.size(); invocationDataIndex++) {</span>
<span class="fc bfc" id="L5195" title="All 2 branches covered.">				for (MethodCustomization siblingMc : containingTc.getMethodsCustomizations()) {</span>
<span class="fc" id="L5196">					if (siblingMc.getMethodName().equals(PresetInvocationDataMethodInfo</span>
<span class="pc bpc" id="L5197" title="1 of 2 branches missed.">							.buildLegacyPresetMethodName(mc.getMethodName(), invocationDataIndex))) {</span>
<span class="nc" id="L5198">						String oldMethodSignature = siblingMc.getMethodSignature();</span>
<span class="nc" id="L5199">						siblingMc.setMethodName(PresetInvocationDataMethodInfo</span>
<span class="nc" id="L5200">								.buildPresetMethodName(mc.getMethodSignature(), invocationDataIndex));</span>
<span class="nc bnc" id="L5201" title="All 2 branches missed.">						if (containingTc.getCustomMethodsOrder() != null) {</span>
<span class="nc" id="L5202">							MiscUtils.replaceItem(containingTc.getCustomMethodsOrder(), oldMethodSignature,</span>
<span class="nc" id="L5203">									siblingMc.getMethodSignature());</span>
						}
<span class="nc bnc" id="L5205" title="All 2 branches missed.">						if (siblingMc.getEncapsulationFieldName() != null) {</span>
<span class="nc" id="L5206">							FieldCustomization capsuleFc = getFieldCustomization(containingTc,</span>
<span class="nc" id="L5207">									siblingMc.getEncapsulationFieldName(), false);</span>
<span class="nc bnc" id="L5208" title="All 2 branches missed.">							if (capsuleFc != null) {</span>
<span class="nc" id="L5209">								String capsuleTypeName = MembersCapsuleFieldInfo.buildTypeName(</span>
<span class="nc" id="L5210">										siblingMc.getEncapsulationFieldName(), containingTc.getTypeName());</span>
<span class="nc" id="L5211">								TypeCustomization capsuleTc = getTypeCustomization(InfoCustomizations.this,</span>
<span class="nc" id="L5212">										capsuleTypeName, false);</span>
<span class="nc bnc" id="L5213" title="All 2 branches missed.">								if (capsuleTc != null) {</span>
<span class="nc" id="L5214">									upgradePresetMethodNames(mc, capsuleTc);</span>
								}
							}
						}
<span class="nc" id="L5218">						migrated = true;</span>
					}
				}
			}
<span class="fc" id="L5222">			return migrated;</span>
		}

		private boolean upgradeReturnValueFieldName(MethodCustomization mc, TypeCustomization containingTc) {
<span class="fc" id="L5226">			boolean migrated = false;</span>
<span class="fc bfc" id="L5227" title="All 2 branches covered.">			for (FieldCustomization siblingFc : containingTc.getFieldsCustomizations()) {</span>
<span class="fc" id="L5228">				if (siblingFc.getFieldName()</span>
<span class="pc bpc" id="L5229" title="1 of 2 branches missed.">						.equals(MethodReturnValueAsFieldInfo.buildLegacyReturnValueFieldName(mc.getMethodName()))) {</span>
<span class="nc" id="L5230">					String oldFieldName = siblingFc.getFieldName();</span>
<span class="nc" id="L5231">					siblingFc.setFieldName(</span>
<span class="nc" id="L5232">							MethodReturnValueAsFieldInfo.buildMethodReturnValueFieldName(mc.getMethodSignature()));</span>
<span class="nc bnc" id="L5233" title="All 2 branches missed.">					if (containingTc.getCustomFieldsOrder() != null) {</span>
<span class="nc" id="L5234">						MiscUtils.replaceItem(containingTc.getCustomFieldsOrder(), oldFieldName,</span>
<span class="nc" id="L5235">								siblingFc.getFieldName());</span>
					}
<span class="nc bnc" id="L5237" title="All 2 branches missed.">					if (siblingFc.getEncapsulationFieldName() != null) {</span>
<span class="nc" id="L5238">						FieldCustomization capsuleFc = getFieldCustomization(containingTc,</span>
<span class="nc" id="L5239">								siblingFc.getEncapsulationFieldName(), false);</span>
<span class="nc bnc" id="L5240" title="All 2 branches missed.">						if (capsuleFc != null) {</span>
<span class="nc" id="L5241">							String capsuleTypeName = MembersCapsuleFieldInfo</span>
<span class="nc" id="L5242">									.buildTypeName(siblingFc.getEncapsulationFieldName(), containingTc.getTypeName());</span>
<span class="nc" id="L5243">							TypeCustomization capsuleTc = getTypeCustomization(InfoCustomizations.this, capsuleTypeName,</span>
<span class="nc" id="L5244">									false);</span>
<span class="nc bnc" id="L5245" title="All 2 branches missed.">							if (capsuleTc != null) {</span>
<span class="nc" id="L5246">								upgradeReturnValueFieldName(mc, capsuleTc);</span>
							}
						}
					}
<span class="nc" id="L5250">					migrated = true;</span>
				}
			}
<span class="fc" id="L5253">			return migrated;</span>
		}

		private boolean fixHistoricalImageIconClassSwappingIssue(TextualStorage textualStorage) {
<span class="fc bfc" id="L5257" title="All 2 branches covered.">			if (textualStorage.getData() != null) {</span>
<span class="fc" id="L5258">				Mapping preConversion = textualStorage.getPreConversion();</span>
<span class="fc bfc" id="L5259" title="All 2 branches covered.">				if (preConversion != null) {</span>
<span class="fc" id="L5260">					ConversionMethodFinder reverseConversionMethodFinder = preConversion</span>
<span class="fc" id="L5261">							.getReverseConversionMethodFinder();</span>
<span class="pc bpc" id="L5262" title="1 of 2 branches missed.">					if (reverseConversionMethodFinder != null) {</span>
<span class="fc" id="L5263">						if (xy.reflect.ui.util.ImageIcon.class.getName()</span>
<span class="pc bpc" id="L5264" title="1 of 2 branches missed.">								.equals(reverseConversionMethodFinder.getConversionClassName())) {</span>
<span class="fc" id="L5265">							String reverseConversionMethodSignature = reverseConversionMethodFinder</span>
<span class="fc" id="L5266">									.getConversionMethodSignature();</span>
<span class="pc bpc" id="L5267" title="1 of 2 branches missed.">							if (reverseConversionMethodSignature != null) {</span>
<span class="fc" id="L5268">								if (ReflectionUIUtils.buildMethodSignature(Image.class.getName(), &quot;getImage&quot;,</span>
<span class="pc bpc" id="L5269" title="1 of 2 branches missed.">										Collections.emptyList()).equals(reverseConversionMethodSignature)) {</span>
									try {
<span class="fc" id="L5271">										byte[] binary = DatatypeConverter.parseBase64Binary(textualStorage.getData());</span>
										try {
<span class="fc" id="L5273">											ByteArrayInputStream bais = new ByteArrayInputStream(binary);</span>
<span class="fc" id="L5274">											ObjectInputStream ois = new ObjectInputStream(bais);</span>
<span class="pc bpc" id="L5275" title="1 of 2 branches missed.">											if (!(ois.readObject() instanceof xy.reflect.ui.util.ImageIcon)) {</span>
<span class="nc" id="L5276">												throw new ClassCastException();</span>
											}
<span class="nc" id="L5278">										} catch (Exception e) {</span>
<span class="nc" id="L5279">											ByteArrayInputStream bais = new ByteArrayInputStream(binary);</span>
<span class="nc" id="L5280">											ObjectInputStream ois = IOUtils.getClassSwappingObjectInputStream(bais,</span>
<span class="nc" id="L5281">													javax.swing.ImageIcon.class.getName(),</span>
<span class="nc" id="L5282">													xy.reflect.ui.util.ImageIcon.class.getName());</span>
<span class="nc" id="L5283">											xy.reflect.ui.util.ImageIcon xyIcon = (xy.reflect.ui.util.ImageIcon) ois</span>
<span class="nc" id="L5284">													.readObject();</span>
<span class="nc" id="L5285">											Filter&lt;Object&gt; reverseConversionMethod = preConversion</span>
<span class="nc" id="L5286">													.buildOverallReverseConversionMethod(ReflectionUI.getDefault());</span>
<span class="nc" id="L5287">											Image image = (Image) reverseConversionMethod.get(xyIcon);</span>
<span class="nc" id="L5288">											textualStorage.save(ReflectionUI.getDefault(), image);</span>
<span class="nc" id="L5289">											return true;</span>
										}
<span class="nc" id="L5291">									} catch (Exception e) {</span>
<span class="nc" id="L5292">										throw new ReflectionUIError(e);</span>
									}
								}
							}
						}
					}
				}
			}
<span class="fc" id="L5300">			return false;</span>
		}

		public String migrateXMLLocalName(String localName) {
<span class="pc bpc" id="L5304" title="1 of 2 branches missed.">			if (&quot;appplicationCustomization&quot;.equals(localName)) {</span>
<span class="nc" id="L5305">				return &quot;applicationCustomization&quot;;</span>
<span class="pc bpc" id="L5306" title="1 of 2 branches missed.">			} else if (&quot;columnCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5307">				return &quot;columnCustomization&quot;;</span>
<span class="pc bpc" id="L5308" title="1 of 2 branches missed.">			} else if (&quot;enumerationCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5309">				return &quot;enumerationCustomization&quot;;</span>
<span class="pc bpc" id="L5310" title="1 of 2 branches missed.">			} else if (&quot;fieldsCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5311">				return &quot;fieldsCustomization&quot;;</span>
<span class="pc bpc" id="L5312" title="1 of 2 branches missed.">			} else if (&quot;itemCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5313">				return &quot;itemCustomization&quot;;</span>
<span class="pc bpc" id="L5314" title="1 of 2 branches missed.">			} else if (&quot;listCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5315">				return &quot;listCustomization&quot;;</span>
<span class="pc bpc" id="L5316" title="1 of 2 branches missed.">			} else if (&quot;memberCategories&quot;.equals(localName)) {</span>
<span class="nc" id="L5317">				return &quot;memberCategory&quot;;</span>
<span class="pc bpc" id="L5318" title="1 of 2 branches missed.">			} else if (&quot;methodsCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5319">				return &quot;methodsCustomization&quot;;</span>
<span class="pc bpc" id="L5320" title="1 of 2 branches missed.">			} else if (&quot;parametersCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5321">				return &quot;parametersCustomization&quot;;</span>
<span class="pc bpc" id="L5322" title="1 of 2 branches missed.">			} else if (&quot;serializedInvocationDatas&quot;.equals(localName)) {</span>
<span class="nc" id="L5323">				return &quot;serializedInvocationData&quot;;</span>
<span class="pc bpc" id="L5324" title="1 of 2 branches missed.">			} else if (&quot;typeCustomizations&quot;.equals(localName)) {</span>
<span class="nc" id="L5325">				return &quot;typeCustomization&quot;;</span>
<span class="pc bpc" id="L5326" title="1 of 2 branches missed.">			} else if (&quot;virtualFieldDeclarations&quot;.equals(localName)) {</span>
<span class="nc" id="L5327">				return &quot;virtualFieldDeclaration&quot;;</span>
<span class="pc bpc" id="L5328" title="1 of 2 branches missed.">			} else if (&quot;implicitListFieldDeclarations&quot;.equals(localName)) {</span>
<span class="nc" id="L5329">				return &quot;implicitListFieldDeclaration&quot;;</span>
<span class="pc bpc" id="L5330" title="1 of 2 branches missed.">			} else if (&quot;importedFieldDeclarations&quot;.equals(localName)) {</span>
<span class="nc" id="L5331">				return &quot;importedFieldDeclaration&quot;;</span>
<span class="pc bpc" id="L5332" title="1 of 2 branches missed.">			} else if (&quot;importedMethodDeclarations&quot;.equals(localName)) {</span>
<span class="nc" id="L5333">				return &quot;importedMethodDeclaration&quot;;</span>
<span class="pc bpc" id="L5334" title="1 of 2 branches missed.">			} else if (&quot;excludedSubListFields&quot;.equals(localName)) {</span>
<span class="nc" id="L5335">				return &quot;excludedSubListField&quot;;</span>
<span class="pc bpc" id="L5336" title="1 of 2 branches missed.">			} else if (&quot;fieldsExcludedFromItemDetails&quot;.equals(localName)) {</span>
<span class="nc" id="L5337">				return &quot;fieldExcludedFromItemDetails&quot;;</span>
<span class="pc bpc" id="L5338" title="1 of 2 branches missed.">			} else if (&quot;methodsExcludedFromItemDetails&quot;.equals(localName)) {</span>
<span class="nc" id="L5339">				return &quot;methodExcludedFromItemDetails&quot;;</span>
<span class="pc bpc" id="L5340" title="1 of 2 branches missed.">			} else if (&quot;polymorphicSubTypeFinders&quot;.equals(localName)) {</span>
<span class="nc" id="L5341">				return &quot;polymorphicSubTypeFinder&quot;;</span>
<span class="pc bpc" id="L5342" title="1 of 2 branches missed.">			} else if (&quot;allowedItemFieldShortcuts&quot;.equals(localName)) {</span>
<span class="nc" id="L5343">				return &quot;allowedItemFieldShortcut&quot;;</span>
<span class="pc bpc" id="L5344" title="1 of 2 branches missed.">			} else if (&quot;allowedItemMethodShortcuts&quot;.equals(localName)) {</span>
<span class="nc" id="L5345">				return &quot;allowedItemMethodShortcut&quot;;</span>
<span class="pc bpc" id="L5346" title="1 of 2 branches missed.">			} else if (&quot;menus&quot;.equals(localName)) {</span>
<span class="nc" id="L5347">				return &quot;menu&quot;;</span>
<span class="pc bpc" id="L5348" title="1 of 2 branches missed.">			} else if (&quot;itemCategories&quot;.equals(localName)) {</span>
<span class="nc" id="L5349">				return &quot;itemCategory&quot;;</span>
<span class="pc bpc" id="L5350" title="1 of 2 branches missed.">			} else if (&quot;parameterizedFieldNames&quot;.equals(localName)) {</span>
<span class="nc" id="L5351">				return &quot;parameterizedFieldName&quot;;</span>
<span class="pc bpc" id="L5352" title="1 of 2 branches missed.">			} else if (&quot;itemsCustomOrder&quot;.equals(localName)) {</span>
<span class="nc" id="L5353">				return &quot;itemsCustomOrderEntry&quot;;</span>
<span class="pc bpc" id="L5354" title="1 of 2 branches missed.">			} else if (&quot;columnsCustomOrder&quot;.equals(localName)) {</span>
<span class="nc" id="L5355">				return &quot;columnsCustomOrderEntry&quot;;</span>
<span class="pc bpc" id="L5356" title="1 of 2 branches missed.">			} else if (&quot;customFieldsOrder&quot;.equals(localName)) {</span>
<span class="nc" id="L5357">				return &quot;customFieldsOrderEntry&quot;;</span>
<span class="pc bpc" id="L5358" title="1 of 2 branches missed.">			} else if (&quot;customMethodsOrder&quot;.equals(localName)) {</span>
<span class="nc" id="L5359">				return &quot;customMethodsOrderEntry&quot;;</span>
			} else {
<span class="fc" id="L5361">				return null;</span>
			}
		}

	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>j-enterprise-service-bus (java8) (Dec 1, 2025 10:13:41 AM)</div></body></html>